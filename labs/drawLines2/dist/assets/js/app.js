!function(modules){function hotDisposeChunk(chunkId){delete installedChunks[chunkId]}function hotDownloadUpdateChunk(chunkId){var head=document.getElementsByTagName("head")[0],script=document.createElement("script");script.type="text/javascript",script.charset="utf-8",script.src=__webpack_require__.p+""+chunkId+"."+hotCurrentHash+".hot-update.js",head.appendChild(script)}function hotDownloadManifest(requestTimeout){return requestTimeout=requestTimeout||1e4,new Promise(function(resolve,reject){if("undefined"==typeof XMLHttpRequest)return reject(new Error("No browser support"));try{var request=new XMLHttpRequest,requestPath=__webpack_require__.p+""+hotCurrentHash+".hot-update.json";request.open("GET",requestPath,!0),request.timeout=requestTimeout,request.send(null)}catch(err){return reject(err)}request.onreadystatechange=function(){if(4===request.readyState)if(0===request.status)reject(new Error("Manifest request to "+requestPath+" timed out."));else if(404===request.status)resolve();else if(200!==request.status&&304!==request.status)reject(new Error("Manifest request to "+requestPath+" failed."));else{try{var update=JSON.parse(request.responseText)}catch(e){return void reject(e)}resolve(update)}}})}function hotCreateRequire(moduleId){var me=installedModules[moduleId];if(!me)return __webpack_require__;var fn=function(request){return me.hot.active?(installedModules[request]?installedModules[request].parents.indexOf(moduleId)<0&&installedModules[request].parents.push(moduleId):(hotCurrentParents=[moduleId],hotCurrentChildModule=request),me.children.indexOf(request)<0&&me.children.push(request)):hotCurrentParents=[],__webpack_require__(request)};for(var name in __webpack_require__)Object.prototype.hasOwnProperty.call(__webpack_require__,name)&&"e"!==name&&Object.defineProperty(fn,name,function(name){return{configurable:!0,enumerable:!0,get:function(){return __webpack_require__[name]},set:function(value){__webpack_require__[name]=value}}}(name));return fn.e=function(chunkId){function finishChunkLoading(){hotChunksLoading--,"prepare"===hotStatus&&(hotWaitingFilesMap[chunkId]||hotEnsureUpdateChunk(chunkId),0===hotChunksLoading&&0===hotWaitingFiles&&hotUpdateDownloaded())}return"ready"===hotStatus&&hotSetStatus("prepare"),hotChunksLoading++,__webpack_require__.e(chunkId).then(finishChunkLoading,function(err){throw finishChunkLoading(),err})},fn}function hotCreateModule(moduleId){var hot={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:hotCurrentChildModule!==moduleId,active:!0,accept:function(dep,callback){if(void 0===dep)hot._selfAccepted=!0;else if("function"==typeof dep)hot._selfAccepted=dep;else if("object"==typeof dep)for(var i=0;i<dep.length;i++)hot._acceptedDependencies[dep[i]]=callback||function(){};else hot._acceptedDependencies[dep]=callback||function(){}},decline:function(dep){if(void 0===dep)hot._selfDeclined=!0;else if("object"==typeof dep)for(var i=0;i<dep.length;i++)hot._declinedDependencies[dep[i]]=!0;else hot._declinedDependencies[dep]=!0},dispose:function(callback){hot._disposeHandlers.push(callback)},addDisposeHandler:function(callback){hot._disposeHandlers.push(callback)},removeDisposeHandler:function(callback){var idx=hot._disposeHandlers.indexOf(callback);idx>=0&&hot._disposeHandlers.splice(idx,1)},check:hotCheck,apply:hotApply,status:function(l){if(!l)return hotStatus;hotStatusHandlers.push(l)},addStatusHandler:function(l){hotStatusHandlers.push(l)},removeStatusHandler:function(l){var idx=hotStatusHandlers.indexOf(l);idx>=0&&hotStatusHandlers.splice(idx,1)},data:hotCurrentModuleData[moduleId]};return hotCurrentChildModule=void 0,hot}function hotSetStatus(newStatus){hotStatus=newStatus;for(var i=0;i<hotStatusHandlers.length;i++)hotStatusHandlers[i].call(null,newStatus)}function toModuleId(id){return+id+""===id?+id:id}function hotCheck(apply){if("idle"!==hotStatus)throw new Error("check() is only allowed in idle status");return hotApplyOnUpdate=apply,hotSetStatus("check"),hotDownloadManifest(hotRequestTimeout).then(function(update){if(!update)return hotSetStatus("idle"),null;hotRequestedFilesMap={},hotWaitingFilesMap={},hotAvailableFilesMap=update.c,hotUpdateNewHash=update.h,hotSetStatus("prepare");var promise=new Promise(function(resolve,reject){hotDeferred={resolve:resolve,reject:reject}});hotUpdate={};return hotEnsureUpdateChunk(0),"prepare"===hotStatus&&0===hotChunksLoading&&0===hotWaitingFiles&&hotUpdateDownloaded(),promise})}function hotAddUpdateChunk(chunkId,moreModules){if(hotAvailableFilesMap[chunkId]&&hotRequestedFilesMap[chunkId]){hotRequestedFilesMap[chunkId]=!1;for(var moduleId in moreModules)Object.prototype.hasOwnProperty.call(moreModules,moduleId)&&(hotUpdate[moduleId]=moreModules[moduleId]);0==--hotWaitingFiles&&0===hotChunksLoading&&hotUpdateDownloaded()}}function hotEnsureUpdateChunk(chunkId){hotAvailableFilesMap[chunkId]?(hotRequestedFilesMap[chunkId]=!0,hotWaitingFiles++,hotDownloadUpdateChunk(chunkId)):hotWaitingFilesMap[chunkId]=!0}function hotUpdateDownloaded(){hotSetStatus("ready");var deferred=hotDeferred;if(hotDeferred=null,deferred)if(hotApplyOnUpdate)Promise.resolve().then(function(){return hotApply(hotApplyOnUpdate)}).then(function(result){deferred.resolve(result)},function(err){deferred.reject(err)});else{var outdatedModules=[];for(var id in hotUpdate)Object.prototype.hasOwnProperty.call(hotUpdate,id)&&outdatedModules.push(toModuleId(id));deferred.resolve(outdatedModules)}}function hotApply(options){function addAllToSet(a,b){for(var i=0;i<b.length;i++){var item=b[i];a.indexOf(item)<0&&a.push(item)}}if("ready"!==hotStatus)throw new Error("apply() is only allowed in ready status");options=options||{};var cb,i,j,module,moduleId,outdatedDependencies={},outdatedModules=[],appliedUpdate={},warnUnexpectedRequire=function(){};for(var id in hotUpdate)if(Object.prototype.hasOwnProperty.call(hotUpdate,id)){moduleId=toModuleId(id);var result;result=hotUpdate[id]?function(updateModuleId){for(var outdatedModules=[updateModuleId],outdatedDependencies={},queue=outdatedModules.slice().map(function(id){return{chain:[id],id:id}});queue.length>0;){var queueItem=queue.pop(),moduleId=queueItem.id,chain=queueItem.chain;if((module=installedModules[moduleId])&&!module.hot._selfAccepted){if(module.hot._selfDeclined)return{type:"self-declined",chain:chain,moduleId:moduleId};if(module.hot._main)return{type:"unaccepted",chain:chain,moduleId:moduleId};for(var i=0;i<module.parents.length;i++){var parentId=module.parents[i],parent=installedModules[parentId];if(parent){if(parent.hot._declinedDependencies[moduleId])return{type:"declined",chain:chain.concat([parentId]),moduleId:moduleId,parentId:parentId};outdatedModules.indexOf(parentId)>=0||(parent.hot._acceptedDependencies[moduleId]?(outdatedDependencies[parentId]||(outdatedDependencies[parentId]=[]),addAllToSet(outdatedDependencies[parentId],[moduleId])):(delete outdatedDependencies[parentId],outdatedModules.push(parentId),queue.push({chain:chain.concat([parentId]),id:parentId})))}}}}return{type:"accepted",moduleId:updateModuleId,outdatedModules:outdatedModules,outdatedDependencies:outdatedDependencies}}(moduleId):{type:"disposed",moduleId:id};var abortError=!1,doApply=!1,doDispose=!1,chainInfo="";switch(result.chain&&(chainInfo="\nUpdate propagation: "+result.chain.join(" -> ")),result.type){case"self-declined":options.onDeclined&&options.onDeclined(result),options.ignoreDeclined||(abortError=new Error("Aborted because of self decline: "+result.moduleId+chainInfo));break;case"declined":options.onDeclined&&options.onDeclined(result),options.ignoreDeclined||(abortError=new Error("Aborted because of declined dependency: "+result.moduleId+" in "+result.parentId+chainInfo));break;case"unaccepted":options.onUnaccepted&&options.onUnaccepted(result),options.ignoreUnaccepted||(abortError=new Error("Aborted because "+moduleId+" is not accepted"+chainInfo));break;case"accepted":options.onAccepted&&options.onAccepted(result),doApply=!0;break;case"disposed":options.onDisposed&&options.onDisposed(result),doDispose=!0;break;default:throw new Error("Unexception type "+result.type)}if(abortError)return hotSetStatus("abort"),Promise.reject(abortError);if(doApply){appliedUpdate[moduleId]=hotUpdate[moduleId],addAllToSet(outdatedModules,result.outdatedModules);for(moduleId in result.outdatedDependencies)Object.prototype.hasOwnProperty.call(result.outdatedDependencies,moduleId)&&(outdatedDependencies[moduleId]||(outdatedDependencies[moduleId]=[]),addAllToSet(outdatedDependencies[moduleId],result.outdatedDependencies[moduleId]))}doDispose&&(addAllToSet(outdatedModules,[result.moduleId]),appliedUpdate[moduleId]=warnUnexpectedRequire)}var outdatedSelfAcceptedModules=[];for(i=0;i<outdatedModules.length;i++)moduleId=outdatedModules[i],installedModules[moduleId]&&installedModules[moduleId].hot._selfAccepted&&outdatedSelfAcceptedModules.push({module:moduleId,errorHandler:installedModules[moduleId].hot._selfAccepted});hotSetStatus("dispose"),Object.keys(hotAvailableFilesMap).forEach(function(chunkId){!1===hotAvailableFilesMap[chunkId]&&hotDisposeChunk(chunkId)});for(var idx,queue=outdatedModules.slice();queue.length>0;)if(moduleId=queue.pop(),module=installedModules[moduleId]){var data={},disposeHandlers=module.hot._disposeHandlers;for(j=0;j<disposeHandlers.length;j++)(cb=disposeHandlers[j])(data);for(hotCurrentModuleData[moduleId]=data,module.hot.active=!1,delete installedModules[moduleId],j=0;j<module.children.length;j++){var child=installedModules[module.children[j]];child&&((idx=child.parents.indexOf(moduleId))>=0&&child.parents.splice(idx,1))}}var dependency,moduleOutdatedDependencies;for(moduleId in outdatedDependencies)if(Object.prototype.hasOwnProperty.call(outdatedDependencies,moduleId)&&(module=installedModules[moduleId]))for(moduleOutdatedDependencies=outdatedDependencies[moduleId],j=0;j<moduleOutdatedDependencies.length;j++)dependency=moduleOutdatedDependencies[j],(idx=module.children.indexOf(dependency))>=0&&module.children.splice(idx,1);hotSetStatus("apply"),hotCurrentHash=hotUpdateNewHash;for(moduleId in appliedUpdate)Object.prototype.hasOwnProperty.call(appliedUpdate,moduleId)&&(modules[moduleId]=appliedUpdate[moduleId]);var error=null;for(moduleId in outdatedDependencies)if(Object.prototype.hasOwnProperty.call(outdatedDependencies,moduleId)){module=installedModules[moduleId],moduleOutdatedDependencies=outdatedDependencies[moduleId];var callbacks=[];for(i=0;i<moduleOutdatedDependencies.length;i++)dependency=moduleOutdatedDependencies[i],cb=module.hot._acceptedDependencies[dependency],callbacks.indexOf(cb)>=0||callbacks.push(cb);for(i=0;i<callbacks.length;i++){cb=callbacks[i];try{cb(moduleOutdatedDependencies)}catch(err){options.onErrored&&options.onErrored({type:"accept-errored",moduleId:moduleId,dependencyId:moduleOutdatedDependencies[i],error:err}),options.ignoreErrored||error||(error=err)}}}for(i=0;i<outdatedSelfAcceptedModules.length;i++){var item=outdatedSelfAcceptedModules[i];moduleId=item.module,hotCurrentParents=[moduleId];try{__webpack_require__(moduleId)}catch(err){if("function"==typeof item.errorHandler)try{item.errorHandler(err)}catch(err2){options.onErrored&&options.onErrored({type:"self-accept-error-handler-errored",moduleId:moduleId,error:err2,orginalError:err}),options.ignoreErrored||error||(error=err2),error||(error=err)}else options.onErrored&&options.onErrored({type:"self-accept-errored",moduleId:moduleId,error:err}),options.ignoreErrored||error||(error=err)}}return error?(hotSetStatus("fail"),Promise.reject(error)):(hotSetStatus("idle"),new Promise(function(resolve){resolve(outdatedModules)}))}function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{},hot:hotCreateModule(moduleId),parents:(hotCurrentParentsTemp=hotCurrentParents,hotCurrentParents=[],hotCurrentParentsTemp),children:[]};return modules[moduleId].call(module.exports,module,module.exports,hotCreateRequire(moduleId)),module.l=!0,module.exports}var parentHotUpdateCallback=this.webpackHotUpdate;this.webpackHotUpdate=function(chunkId,moreModules){hotAddUpdateChunk(chunkId,moreModules),parentHotUpdateCallback&&parentHotUpdateCallback(chunkId,moreModules)};var hotCurrentChildModule,hotDeferred,hotUpdate,hotUpdateNewHash,hotApplyOnUpdate=!0,hotCurrentHash="1f154fa700b2dc9546cc",hotRequestTimeout=1e4,hotCurrentModuleData={},hotCurrentParents=[],hotCurrentParentsTemp=[],hotStatusHandlers=[],hotStatus="idle",hotWaitingFiles=0,hotChunksLoading=0,hotWaitingFilesMap={},hotRequestedFilesMap={},hotAvailableFilesMap={},installedModules={};__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__.h=function(){return hotCurrentHash},hotCreateRequire(45)(__webpack_require__.s=45)}([function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),_getAndApplyExtension=__webpack_require__(52),_getAndApplyExtension2=_interopRequireDefault(_getAndApplyExtension),_exposeAttributes=__webpack_require__(53),_exposeAttributes2=_interopRequireDefault(_exposeAttributes),_getFloat=__webpack_require__(54),_getFloat2=_interopRequireDefault(_getFloat),_getHalfFloat=__webpack_require__(55),_getHalfFloat2=_interopRequireDefault(_getHalfFloat),_getAttribLoc=__webpack_require__(26),_ExtensionsList=(_interopRequireDefault(_getAttribLoc),__webpack_require__(56)),_ExtensionsList2=_interopRequireDefault(_ExtensionsList),gl=void 0,GLTool=function(){function GLTool(){_classCallCheck(this,GLTool),this.canvas,this._viewport=[0,0,0,0],this._enabledVertexAttribute=[],this.identityMatrix=_glMatrix.mat4.create(),this._normalMatrix=_glMatrix.mat3.create(),this._inverseModelViewMatrix=_glMatrix.mat3.create(),this._modelMatrix=_glMatrix.mat4.create(),this._matrix=_glMatrix.mat4.create(),this._lastMesh=null,this._useWebGL2=!1,this._hasArrayInstance,this._extArrayInstance,this._hasCheckedExt=!1,_glMatrix.mat4.identity(this.identityMatrix,this.identityMatrix),this.isMobile=!1,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(this.isMobile=!0)}return _createClass(GLTool,[{key:"init",value:function(mCanvas){var mParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!==mCanvas&&void 0!==mCanvas){void 0!==this.canvas&&null!==this.canvas&&this.destroy(),this.canvas=mCanvas,this.setSize(window.innerWidth,window.innerHeight);var ctx=void 0;mParameters.ignoreWebgl2?ctx=this.canvas.getContext("webgl",mParameters)||this.canvas.getContext("experimental-webgl",mParameters):(ctx=this.canvas.getContext("experimental-webgl2",mParameters)||this.canvas.getContext("webgl2",mParameters),ctx?this._useWebGL2=!0:ctx=this.canvas.getContext("webgl",mParameters)||this.canvas.getContext("experimental-webgl",mParameters)),this.initWithGL(ctx)}}},{key:"initWithGL",value:function(ctx){this.canvas||(this.canvas=ctx.canvas),gl=this.gl=ctx,this.extensions={};for(var i=0;i<_ExtensionsList2.default.length;i++)this.extensions[_ExtensionsList2.default[i]]=gl.getExtension(_ExtensionsList2.default[i]);(0,_exposeAttributes2.default)(),(0,_getAndApplyExtension2.default)(gl,"OES_vertex_array_object"),(0,_getAndApplyExtension2.default)(gl,"ANGLE_instanced_arrays"),(0,_getAndApplyExtension2.default)(gl,"WEBGL_draw_buffers"),this.enable(this.DEPTH_TEST),this.enable(this.CULL_FACE),this.enable(this.BLEND),this.enableAlphaBlending()}},{key:"setViewport",value:function(x,y,w,h){var hasChanged=!1;x!==this._viewport[0]&&(hasChanged=!0),y!==this._viewport[1]&&(hasChanged=!0),w!==this._viewport[2]&&(hasChanged=!0),h!==this._viewport[3]&&(hasChanged=!0),hasChanged&&(gl.viewport(x,y,w,h),this._viewport=[x,y,w,h])}},{key:"scissor",value:function(x,y,w,h){gl.scissor(x,y,w,h)}},{key:"clear",value:function(r,g,b,a){gl.clearColor(r,g,b,a),gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT)}},{key:"setMatrices",value:function(mCamera){this.camera=mCamera,this.rotate(this.identityMatrix)}},{key:"useShader",value:function(mShader){this.shader=mShader,this.shaderProgram=this.shader.shaderProgram}},{key:"rotate",value:function(mRotation){_glMatrix.mat4.copy(this._modelMatrix,mRotation),_glMatrix.mat4.multiply(this._matrix,this.camera.matrix,this._modelMatrix),_glMatrix.mat3.fromMat4(this._normalMatrix,this._matrix),_glMatrix.mat3.invert(this._normalMatrix,this._normalMatrix),_glMatrix.mat3.transpose(this._normalMatrix,this._normalMatrix),_glMatrix.mat3.fromMat4(this._inverseModelViewMatrix,this._matrix),_glMatrix.mat3.invert(this._inverseModelViewMatrix,this._inverseModelViewMatrix)}},{key:"draw",value:function(mMesh,mDrawingType){if(mMesh.length)for(var i=0;i<mMesh.length;i++)this.draw(mMesh[i]);else{mMesh.bind(this.shaderProgram),void 0!==this.camera&&(this.shader.uniform("uProjectionMatrix","mat4",this.camera.projection),this.shader.uniform("uViewMatrix","mat4",this.camera.matrix)),this.shader.uniform("uModelMatrix","mat4",this._modelMatrix),this.shader.uniform("uNormalMatrix","mat3",this._normalMatrix),this.shader.uniform("uModelViewMatrixInverse","mat3",this._inverseModelViewMatrix);var drawType=mMesh.drawType;void 0!==mDrawingType&&(drawType=mDrawingType),mMesh.isInstanced?gl.drawElementsInstanced(mMesh.drawType,mMesh.iBuffer.numItems,gl.UNSIGNED_SHORT,0,mMesh.numInstance):drawType===gl.POINTS?gl.drawArrays(drawType,0,mMesh.vertexSize):gl.drawElements(drawType,mMesh.iBuffer.numItems,gl.UNSIGNED_SHORT,0),mMesh.unbind()}}},{key:"drawTransformFeedback",value:function(mTransformObject){var meshSource=mTransformObject.meshSource,meshDestination=mTransformObject.meshDestination,numPoints=mTransformObject.numPoints,transformFeedback=mTransformObject.transformFeedback;meshSource.bind(this.shaderProgram),meshDestination.generateBuffers(this.shaderProgram),gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK,transformFeedback),meshDestination.attributes.forEach(function(attr,i){gl.bindBufferBase(gl.TRANSFORM_FEEDBACK_BUFFER,i,attr.buffer)}),gl.enable(gl.RASTERIZER_DISCARD),gl.beginTransformFeedback(gl.POINTS),gl.drawArrays(gl.POINTS,0,numPoints),gl.endTransformFeedback(),gl.disable(gl.RASTERIZER_DISCARD),gl.useProgram(null),gl.bindBuffer(gl.ARRAY_BUFFER,null),meshDestination.attributes.forEach(function(attr,i){gl.bindBufferBase(gl.TRANSFORM_FEEDBACK_BUFFER,i,null)}),gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK,null),meshSource.unbind()}},{key:"setSize",value:function(mWidth,mHeight){this._width=mWidth,this._height=mHeight,this.canvas.width=this._width,this.canvas.height=this._height,this._aspectRatio=this._width/this._height,gl&&this.viewport(0,0,this._width,this._height)}},{key:"showExtensions",value:function(){for(var ext in this.extensions)this.extensions[ext]}},{key:"checkExtension",value:function(mExtension){return!!this.extensions[mExtension]}},{key:"getExtension",value:function(mExtension){return this.extensions[mExtension]}},{key:"enableAlphaBlending",value:function(){gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA)}},{key:"enableAdditiveBlending",value:function(){gl.blendFunc(gl.ONE,gl.ONE)}},{key:"enable",value:function(mParameter){gl.enable(mParameter)}},{key:"disable",value:function(mParameter){gl.disable(mParameter)}},{key:"viewport",value:function(x,y,w,h){this.setViewport(x,y,w,h)}},{key:"destroy",value:function(){if(this.canvas.parentNode)try{this.canvas.parentNode.removeChild(this.canvas)}catch(e){}this.canvas=null}},{key:"FLOAT",get:function(){return(0,_getFloat2.default)()}},{key:"HALF_FLOAT",get:function(){return(0,_getHalfFloat2.default)()}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"aspectRatio",get:function(){return this._aspectRatio}},{key:"webgl2",get:function(){return this._useWebGL2}}]),GLTool}(),GL=new GLTool;exports.default=GL},function(module,exports,__webpack_require__){exports.glMatrix=__webpack_require__(3),exports.mat2=__webpack_require__(47),exports.mat2d=__webpack_require__(48),exports.mat3=__webpack_require__(23),exports.mat4=__webpack_require__(49),exports.quat=__webpack_require__(50),exports.vec2=__webpack_require__(51),exports.vec3=__webpack_require__(24),exports.vec4=__webpack_require__(25)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),isSame=(__webpack_require__(57),function(array1,array2){if(array1.length!==array2.length)return!1;for(var i=0;i<array1.length;i++)if(array1[i]!==array2[i])return!1;return!0}),cloneArray=function(mArray){return mArray.slice?mArray.slice(0):new Float32Array(mArray)},gl=void 0,defaultVertexShader=__webpack_require__(13),defaultFragmentShader=__webpack_require__(58),uniformMapping={float:"uniform1f",vec2:"uniform2fv",vec3:"uniform3fv",vec4:"uniform4fv",int:"uniform1i",mat3:"uniformMatrix3fv",mat4:"uniformMatrix4fv"},GLShader=function(){function GLShader(){var strVertexShader=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaultVertexShader,strFragmentShader=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultFragmentShader,mVaryings=arguments[2];_classCallCheck(this,GLShader),gl=_GLTool2.default.gl,this.parameters=[],this.uniformTextures=[],this._varyings=mVaryings,strVertexShader||(strVertexShader=defaultVertexShader),strFragmentShader||(strFragmentShader=defaultVertexShader);var vsShader=this._createShaderProgram(strVertexShader,!0),fsShader=this._createShaderProgram(strFragmentShader,!1);this._attachShaderProgram(vsShader,fsShader)}return _createClass(GLShader,[{key:"bind",value:function(){_GLTool2.default.shader!==this&&(gl.useProgram(this.shaderProgram),_GLTool2.default.useShader(this),this.uniformTextures=[])}},{key:"uniform",value:function(mName,mType,mValue){if("object"===(void 0===mName?"undefined":_typeof(mName)))return void this.uniformObject(mName);for(var uniformType=uniformMapping[mType]||mType,hasUniform=!1,oUniform=void 0,parameterIndex=-1,i=0;i<this.parameters.length;i++)if(oUniform=this.parameters[i],oUniform.name===mName){hasUniform=!0,parameterIndex=i;break}var isNumber=!1;if(hasUniform?(this.shaderProgram[mName]=oUniform.uniformLoc,isNumber=oUniform.isNumber):(isNumber="uniform1i"===uniformType||"uniform1f"===uniformType,this.shaderProgram[mName]=gl.getUniformLocation(this.shaderProgram,mName),isNumber?this.parameters.push({name:mName,type:uniformType,value:mValue,uniformLoc:this.shaderProgram[mName],isNumber:isNumber}):this.parameters.push({name:mName,type:uniformType,value:cloneArray(mValue),uniformLoc:this.shaderProgram[mName],isNumber:isNumber}),parameterIndex=this.parameters.length-1),this.parameters[parameterIndex].uniformLoc)if(-1===uniformType.indexOf("Matrix"))if(isNumber){var needUpdate=this.parameters[parameterIndex].value!==mValue||!hasUniform;needUpdate&&(gl[uniformType](this.shaderProgram[mName],mValue),this.parameters[parameterIndex].value=mValue)}else isSame(this.parameters[parameterIndex].value,mValue)&&hasUniform||(gl[uniformType](this.shaderProgram[mName],mValue),this.parameters[parameterIndex].value=cloneArray(mValue));else isSame(this.parameters[parameterIndex].value,mValue)&&hasUniform||(gl[uniformType](this.shaderProgram[mName],!1,mValue),this.parameters[parameterIndex].value=cloneArray(mValue))}},{key:"uniformObject",value:function(mUniformObj){for(var uniformName in mUniformObj){var uniformValue=mUniformObj[uniformName],uniformType=GLShader.getUniformType(uniformValue);if(uniformValue.concat&&uniformValue[0].concat){for(var tmp=[],i=0;i<uniformValue.length;i++)tmp=tmp.concat(uniformValue[i]);uniformValue=tmp}this.uniform(uniformName,uniformType,uniformValue)}}},{key:"_createShaderProgram",value:function(mShaderStr,isVertexShader){var shaderType=isVertexShader?_GLTool2.default.VERTEX_SHADER:_GLTool2.default.FRAGMENT_SHADER,shader=gl.createShader(shaderType);return gl.shaderSource(shader,mShaderStr),gl.compileShader(shader),gl.getShaderParameter(shader,gl.COMPILE_STATUS)?shader:null}},{key:"_attachShaderProgram",value:function(mVertexShader,mFragmentShader){this.shaderProgram=gl.createProgram(),gl.attachShader(this.shaderProgram,mVertexShader),gl.attachShader(this.shaderProgram,mFragmentShader),gl.deleteShader(mVertexShader),gl.deleteShader(mFragmentShader),this._varyings&&gl.transformFeedbackVaryings(this.shaderProgram,this._varyings,gl.SEPARATE_ATTRIBS),gl.linkProgram(this.shaderProgram)}}]),GLShader}();GLShader.getUniformType=function(mValue){var isArray=!!mValue.concat,getArrayUniformType=function(mValue){return 9===mValue.length?"uniformMatrix3fv":16===mValue.length?"uniformMatrix4fv":"vec"+mValue.length};return isArray?getArrayUniformType(mValue[0].concat?mValue[0]:mValue):"float"},exports.default=GLShader},function(module,exports){var glMatrix={};glMatrix.EPSILON=1e-6,glMatrix.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,glMatrix.RANDOM=Math.random,glMatrix.ENABLE_SIMD=!1,glMatrix.SIMD_AVAILABLE=glMatrix.ARRAY_TYPE===Float32Array&&"SIMD"in this,glMatrix.USE_SIMD=glMatrix.ENABLE_SIMD&&glMatrix.SIMD_AVAILABLE,glMatrix.setMatrixArrayType=function(type){glMatrix.ARRAY_TYPE=type};var degree=Math.PI/180;glMatrix.toRadian=function(a){return a*degree},glMatrix.equals=function(a,b){return Math.abs(a-b)<=glMatrix.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))},module.exports=glMatrix},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),Batch=function(){function Batch(mMesh,mShader){_classCallCheck(this,Batch),this._mesh=mMesh,this._shader=mShader}return _createClass(Batch,[{key:"draw",value:function(){this._shader.bind(),_GLTool2.default.draw(this.mesh)}},{key:"mesh",get:function(){return this._mesh}},{key:"shader",get:function(){return this._shader}}]),Batch}();exports.default=Batch},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ShaderLibs=exports.View3D=exports.View=exports.Scene=exports.BatchFXAA=exports.BatchSky=exports.BatchSkybox=exports.BatchLine=exports.BatchDotsPlane=exports.BatchBall=exports.BatchAxis=exports.BatchCopy=exports.PassFxaa=exports.PassHBlur=exports.PassVBlur=exports.PassBlur=exports.PassMacro=exports.Pass=exports.EffectComposer=exports.ColladaParser=exports.HDRLoader=exports.ObjLoader=exports.BinaryLoader=exports.Object3D=exports.Ray=exports.CameraCube=exports.CameraPerspective=exports.CameraOrtho=exports.Camera=exports.QuatRotation=exports.OrbitalControl=exports.TweenNumber=exports.EaseNumber=exports.EventDispatcher=exports.Scheduler=exports.TransformFeedbackObject=exports.MultisampleFrameBuffer=exports.CubeFrameBuffer=exports.FrameBuffer=exports.Batch=exports.Geom=exports.Mesh=exports.GLCubeTexture=exports.GLTexture=exports.GLShader=exports.GL=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),GLM=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_glMatrix),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_GLTexture=__webpack_require__(14),_GLTexture2=_interopRequireDefault(_GLTexture),_GLCubeTexture=__webpack_require__(27),_GLCubeTexture2=_interopRequireDefault(_GLCubeTexture),_Mesh=__webpack_require__(6),_Mesh2=_interopRequireDefault(_Mesh),_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_Batch=__webpack_require__(4),_Batch2=_interopRequireDefault(_Batch),_FrameBuffer=__webpack_require__(15),_FrameBuffer2=_interopRequireDefault(_FrameBuffer),_CubeFrameBuffer=__webpack_require__(60),_CubeFrameBuffer2=_interopRequireDefault(_CubeFrameBuffer),_MultisampleFrameBuffer=__webpack_require__(61),_MultisampleFrameBuffer2=_interopRequireDefault(_MultisampleFrameBuffer),_TransformFeedbackObject=__webpack_require__(62),_TransformFeedbackObject2=_interopRequireDefault(_TransformFeedbackObject),_scheduling=__webpack_require__(8),_scheduling2=_interopRequireDefault(_scheduling),_EventDispatcher=__webpack_require__(28),_EventDispatcher2=_interopRequireDefault(_EventDispatcher),_EaseNumber=__webpack_require__(16),_EaseNumber2=_interopRequireDefault(_EaseNumber),_TweenNumber=__webpack_require__(63),_TweenNumber2=_interopRequireDefault(_TweenNumber),_OrbitalControl=__webpack_require__(29),_OrbitalControl2=_interopRequireDefault(_OrbitalControl),_QuatRotation=__webpack_require__(64),_QuatRotation2=_interopRequireDefault(_QuatRotation),_Camera=__webpack_require__(17),_Camera2=_interopRequireDefault(_Camera),_CameraOrtho=__webpack_require__(30),_CameraOrtho2=_interopRequireDefault(_CameraOrtho),_CameraPerspective=__webpack_require__(18),_CameraPerspective2=_interopRequireDefault(_CameraPerspective),_CameraCube=__webpack_require__(65),_CameraCube2=_interopRequireDefault(_CameraCube),_Ray=__webpack_require__(31),_Ray2=_interopRequireDefault(_Ray),_Object3D=__webpack_require__(32),_Object3D2=_interopRequireDefault(_Object3D),_BinaryLoader=__webpack_require__(19),_BinaryLoader2=_interopRequireDefault(_BinaryLoader),_ObjLoader=__webpack_require__(66),_ObjLoader2=_interopRequireDefault(_ObjLoader),_HDRLoader=__webpack_require__(67),_HDRLoader2=_interopRequireDefault(_HDRLoader),_ColladaParser=__webpack_require__(69),_ColladaParser2=_interopRequireDefault(_ColladaParser),_EffectComposer=__webpack_require__(73),_EffectComposer2=_interopRequireDefault(_EffectComposer),_Pass=__webpack_require__(10),_Pass2=_interopRequireDefault(_Pass),_PassMacro=__webpack_require__(37),_PassMacro2=_interopRequireDefault(_PassMacro),_PassBlur=__webpack_require__(74),_PassBlur2=_interopRequireDefault(_PassBlur),_PassVBlur=__webpack_require__(38),_PassVBlur2=_interopRequireDefault(_PassVBlur),_PassHBlur=__webpack_require__(40),_PassHBlur2=_interopRequireDefault(_PassHBlur),_PassFxaa=__webpack_require__(78),_PassFxaa2=_interopRequireDefault(_PassFxaa),_BatchCopy=__webpack_require__(79),_BatchCopy2=_interopRequireDefault(_BatchCopy),_BatchAxis=__webpack_require__(80),_BatchAxis2=_interopRequireDefault(_BatchAxis),_BatchBall=__webpack_require__(83),_BatchBall2=_interopRequireDefault(_BatchBall),_BatchDotsPlane=__webpack_require__(84),_BatchDotsPlane2=_interopRequireDefault(_BatchDotsPlane),_BatchLine=__webpack_require__(86),_BatchLine2=_interopRequireDefault(_BatchLine),_BatchSkybox=__webpack_require__(87),_BatchSkybox2=_interopRequireDefault(_BatchSkybox),_BatchSky=__webpack_require__(88),_BatchSky2=_interopRequireDefault(_BatchSky),_BatchFXAA=__webpack_require__(90),_BatchFXAA2=_interopRequireDefault(_BatchFXAA),_Scene=__webpack_require__(91),_Scene2=_interopRequireDefault(_Scene),_View=__webpack_require__(92),_View2=_interopRequireDefault(_View),_View3D=__webpack_require__(93),_View3D2=_interopRequireDefault(_View3D),_ShaderLibs=__webpack_require__(33),_ShaderLibs2=_interopRequireDefault(_ShaderLibs),Alfrid=function(){function Alfrid(){_classCallCheck(this,Alfrid),this.glm=GLM,this.GL=_GLTool2.default,this.GLTool=_GLTool2.default,this.GLShader=_GLShader2.default,this.GLTexture=_GLTexture2.default,this.GLCubeTexture=_GLCubeTexture2.default,this.Mesh=_Mesh2.default,this.Geom=_Geom2.default,this.Batch=_Batch2.default,this.FrameBuffer=_FrameBuffer2.default,this.CubeFrameBuffer=_CubeFrameBuffer2.default,this.Scheduler=_scheduling2.default,this.EventDispatcher=_EventDispatcher2.default,this.EaseNumber=_EaseNumber2.default,this.TweenNumber=_TweenNumber2.default,this.Camera=_Camera2.default,this.CameraOrtho=_CameraOrtho2.default,this.CameraPerspective=_CameraPerspective2.default,this.Ray=_Ray2.default,this.CameraCube=_CameraCube2.default,this.OrbitalControl=_OrbitalControl2.default,this.QuatRotation=_QuatRotation2.default,this.BinaryLoader=_BinaryLoader2.default,this.ObjLoader=_ObjLoader2.default,this.ColladaParser=_ColladaParser2.default,this.HDRLoader=_HDRLoader2.default,this.BatchCopy=_BatchCopy2.default,this.BatchAxis=_BatchAxis2.default,this.BatchBall=_BatchBall2.default,this.BatchBall=_BatchBall2.default,this.BatchLine=_BatchLine2.default,this.BatchSkybox=_BatchSkybox2.default,this.BatchSky=_BatchSky2.default,this.BatchFXAA=_BatchFXAA2.default,this.BatchDotsPlane=_BatchDotsPlane2.default,this.Scene=_Scene2.default,this.View=_View2.default,this.View3D=_View3D2.default,this.Object3D=_Object3D2.default,this.ShaderLibs=_ShaderLibs2.default,this.EffectComposer=_EffectComposer2.default,this.Pass=_Pass2.default,this.PassMacro=_PassMacro2.default,this.PassBlur=_PassBlur2.default,this.PassVBlur=_PassVBlur2.default,this.PassHBlur=_PassHBlur2.default,this.PassFxaa=_PassFxaa2.default,this.MultisampleFrameBuffer=_MultisampleFrameBuffer2.default,this.TransformFeedbackObject=_TransformFeedbackObject2.default;for(var s in GLM)GLM[s]&&(window[s]=GLM[s])}return _createClass(Alfrid,[{key:"log",value:function(){navigator.userAgent.indexOf("Chrome");for(var s in this)this[s]}}]),Alfrid}(),al=new Alfrid;exports.default=al,exports.GL=_GLTool2.default,exports.GLShader=_GLShader2.default,exports.GLTexture=_GLTexture2.default,exports.GLCubeTexture=_GLCubeTexture2.default,exports.Mesh=_Mesh2.default,exports.Geom=_Geom2.default,exports.Batch=_Batch2.default,exports.FrameBuffer=_FrameBuffer2.default,exports.CubeFrameBuffer=_CubeFrameBuffer2.default,exports.MultisampleFrameBuffer=_MultisampleFrameBuffer2.default,exports.TransformFeedbackObject=_TransformFeedbackObject2.default,exports.Scheduler=_scheduling2.default,exports.EventDispatcher=_EventDispatcher2.default,exports.EaseNumber=_EaseNumber2.default,exports.TweenNumber=_TweenNumber2.default,exports.OrbitalControl=_OrbitalControl2.default,exports.QuatRotation=_QuatRotation2.default,exports.Camera=_Camera2.default,exports.CameraOrtho=_CameraOrtho2.default,exports.CameraPerspective=_CameraPerspective2.default,exports.CameraCube=_CameraCube2.default,exports.Ray=_Ray2.default,exports.Object3D=_Object3D2.default,exports.BinaryLoader=_BinaryLoader2.default,exports.ObjLoader=_ObjLoader2.default,exports.HDRLoader=_HDRLoader2.default,exports.ColladaParser=_ColladaParser2.default,exports.EffectComposer=_EffectComposer2.default,exports.Pass=_Pass2.default,exports.PassMacro=_PassMacro2.default,exports.PassBlur=_PassBlur2.default,exports.PassVBlur=_PassVBlur2.default,exports.PassHBlur=_PassHBlur2.default,exports.PassFxaa=_PassFxaa2.default,exports.BatchCopy=_BatchCopy2.default,exports.BatchAxis=_BatchAxis2.default,exports.BatchBall=_BatchBall2.default,exports.BatchDotsPlane=_BatchDotsPlane2.default,exports.BatchLine=_BatchLine2.default,exports.BatchSkybox=_BatchSkybox2.default,exports.BatchSky=_BatchSky2.default,exports.BatchFXAA=_BatchFXAA2.default,exports.Scene=_Scene2.default,exports.View=_View2.default,exports.View3D=_View3D2.default,exports.ShaderLibs=_ShaderLibs2.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_glMatrix=__webpack_require__(1),_getAttribLoc=__webpack_require__(26),_getAttribLoc2=_interopRequireDefault(_getAttribLoc),gl=void 0,getBuffer=function(attr){var buffer=void 0;return void 0!==attr.buffer?buffer=attr.buffer:(buffer=gl.createBuffer(),attr.buffer=buffer),buffer},formBuffer=function(mData,mNum){for(var ary=[],i=0;i<mData.length;i+=mNum){for(var o=[],j=0;j<mNum;j++)o.push(mData[i+j]);ary.push(o)}return ary},Mesh=function(){function Mesh(){var mDrawingType=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,mUseVao=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return _classCallCheck(this,Mesh),gl=_GLTool2.default.gl,this.drawType=mDrawingType,this._attributes=[],this._numInstance=-1,this._enabledVertexAttribute=[],this._indices=[],this._faces=[],this._bufferChanged=[],this._hasIndexBufferChanged=!1,this._hasVAO=!1,this._isInstanced=!1,this._extVAO=!!_GLTool2.default.gl.createVertexArray,this._useVAO=!!this._extVAO&&mUseVao,this}return _createClass(Mesh,[{key:"bufferVertex",value:function(mArrayVertices){var mDrawType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35044;return this.bufferData(mArrayVertices,"aVertexPosition",3,mDrawType),this}},{key:"bufferTexCoord",value:function(mArrayTexCoords){var mDrawType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35044;return this.bufferData(mArrayTexCoords,"aTextureCoord",2,mDrawType),this}},{key:"bufferNormal",value:function(mNormals){var mDrawType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35044;return this.bufferData(mNormals,"aNormal",3,mDrawType),this}},{key:"bufferIndex",value:function(mArrayIndices){var isDynamic=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._drawType=isDynamic?gl.DYNAMIC_DRAW:gl.STATIC_DRAW,this._indices=new Uint16Array(mArrayIndices),this._numItems=this._indices.length,this}},{key:"bufferFlattenData",value:function(mData,mName,mItemSize){var data=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],formBuffer(mData,mItemSize));return this.bufferData(data,mName,mItemSize,35044,!1),this}},{key:"bufferSubData",value:function(mName,mOffset,mData){for(var attribute=this.getAttribute(mName),bufferData=[],i=0;i<mData.length;i++)for(var j=0;j<mData[i].length;j++)bufferData.push(mData[i][j]);gl.bindBuffer(gl.ARRAY_BUFFER,attribute.buffer),gl.bufferSubData(gl.ARRAY_BUFFER,mOffset,new Float32Array(bufferData))}},{key:"bufferData",value:function(mData,mName,mItemSize){var mDrawType=arguments.length>3&&void 0!==arguments[3]?arguments[3]:35044,isInstanced=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=0,drawType=mDrawType,bufferData=[];for(mItemSize||(mItemSize=mData[0].length),this._isInstanced=isInstanced||this._isInstanced,i=0;i<mData.length;i++)for(var j=0;j<mData[i].length;j++)bufferData.push(mData[i][j]);var dataArray=new Float32Array(bufferData),attribute=this.getAttribute(mName);return attribute?(attribute.itemSize=mItemSize,attribute.dataArray=dataArray,attribute.source=mData):this._attributes.push({name:mName,source:mData,itemSize:mItemSize,drawType:drawType,dataArray:dataArray,isInstanced:isInstanced}),this._bufferChanged.push(mName),this}},{key:"bufferInstance",value:function(mData,mName){if(_GLTool2.default.gl.vertexAttribDivisor){var itemSize=mData[0].length;this._numInstance=mData.length,this.bufferData(mData,mName,itemSize,35044,!0)}}},{key:"bind",value:function(mShaderProgram){this.generateBuffers(mShaderProgram),this.hasVAO?gl.bindVertexArray(this.vao):(this.attributes.forEach(function(attribute){gl.bindBuffer(gl.ARRAY_BUFFER,attribute.buffer);var attrPosition=attribute.attrPosition;gl.vertexAttribPointer(attrPosition,attribute.itemSize,gl.FLOAT,!1,0,0),attribute.isInstanced&&gl.vertexAttribDivisor(attrPosition,1)}),gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,this.iBuffer))}},{key:"generateBuffers",value:function(mShaderProgram){var _this=this;0!=this._bufferChanged.length&&(this._useVAO?(this._vao||(this._vao=gl.createVertexArray()),gl.bindVertexArray(this._vao),this._attributes.forEach(function(attrObj){if(-1!==_this._bufferChanged.indexOf(attrObj.name)){var buffer=getBuffer(attrObj);gl.bindBuffer(gl.ARRAY_BUFFER,buffer),gl.bufferData(gl.ARRAY_BUFFER,attrObj.dataArray,attrObj.drawType);var attrPosition=(0,_getAttribLoc2.default)(gl,mShaderProgram,attrObj.name);gl.enableVertexAttribArray(attrPosition),gl.vertexAttribPointer(attrPosition,attrObj.itemSize,gl.FLOAT,!1,0,0),attrObj.attrPosition=attrPosition,attrObj.isInstanced&&gl.vertexAttribDivisor(attrPosition,1)}}),this._updateIndexBuffer(),gl.bindVertexArray(null),this._hasVAO=!0):(this._attributes.forEach(function(attrObj){if(-1!==_this._bufferChanged.indexOf(attrObj.name)){var buffer=getBuffer(attrObj);gl.bindBuffer(gl.ARRAY_BUFFER,buffer),gl.bufferData(gl.ARRAY_BUFFER,attrObj.dataArray,attrObj.drawType);var attrPosition=(0,_getAttribLoc2.default)(gl,mShaderProgram,attrObj.name);gl.enableVertexAttribArray(attrPosition),gl.vertexAttribPointer(attrPosition,attrObj.itemSize,gl.FLOAT,!1,0,0),attrObj.attrPosition=attrPosition,attrObj.isInstanced&&gl.vertexAttribDivisor(attrPosition,1)}}),this._updateIndexBuffer()),this._hasIndexBufferChanged=!1,this._bufferChanged=[])}},{key:"unbind",value:function(){this._useVAO&&gl.bindVertexArray(null),this._attributes.forEach(function(attribute){attribute.isInstanced&&gl.vertexAttribDivisor(attribute.attrPosition,0)})}},{key:"_updateIndexBuffer",value:function(){this._hasIndexBufferChanged||(this.iBuffer||(this.iBuffer=gl.createBuffer()),gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,this.iBuffer),gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,this._indices,this._drawType),this.iBuffer.itemSize=1,this.iBuffer.numItems=this._numItems)}},{key:"computeNormals",value:function(){var usingFaceNormals=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.generateFaces(),usingFaceNormals?this._computeFaceNormals():this._computeVertexNormals()}},{key:"_computeFaceNormals",value:function(){for(var faceIndex=void 0,face=void 0,normals=[],i=0;i<this._indices.length;i+=3){faceIndex=i/3,face=this._faces[faceIndex];var N=face.normal;normals[face.indices[0]]=N,normals[face.indices[1]]=N,normals[face.indices[2]]=N}this.bufferNormal(normals)}},{key:"_computeVertexNormals",value:function(){for(var face=void 0,sumNormal=_glMatrix.vec3.create(),normals=[],vertices=this.vertices,i=0;i<vertices.length;i++){_glMatrix.vec3.set(sumNormal,0,0,0);for(var j=0;j<this._faces.length;j++)face=this._faces[j],face.indices.indexOf(i)>=0&&(sumNormal[0]+=face.normal[0],sumNormal[1]+=face.normal[1],sumNormal[2]+=face.normal[2]);_glMatrix.vec3.normalize(sumNormal,sumNormal),normals.push([sumNormal[0],sumNormal[1],sumNormal[2]])}this.bufferNormal(normals)}},{key:"generateFaces",value:function(){for(var ia=void 0,ib=void 0,ic=void 0,a=void 0,b=void 0,c=void 0,vertices=(_glMatrix.vec3.create(),_glMatrix.vec3.create(),_glMatrix.vec3.create(),this.vertices),i=0;i<this._indices.length;i+=3){ia=this._indices[i],ib=this._indices[i+1],ic=this._indices[i+2],a=vertices[ia],b=vertices[ib],c=vertices[ic];var face={indices:[ia,ib,ic],vertices:[a,b,c]};this._faces.push(face)}}},{key:"getAttribute",value:function(mName){return this._attributes.find(function(a){return a.name===mName})}},{key:"getSource",value:function(mName){var attr=this.getAttribute(mName);return attr?attr.source:[]}},{key:"vertices",get:function(){return this.getSource("aVertexPosition")}},{key:"normals",get:function(){return this.getSource("aNormal")}},{key:"coords",get:function(){return this.getSource("aTextureCoord")}},{key:"indices",get:function(){return this._indices}},{key:"vertexSize",get:function(){return this.vertices.length}},{key:"faces",get:function(){return this._faces}},{key:"attributes",get:function(){return this._attributes}},{key:"hasVAO",get:function(){return this._hasVAO}},{key:"vao",get:function(){return this._vao}},{key:"numInstance",get:function(){return this._numInstance}},{key:"isInstanced",get:function(){return this._isInstanced}}]),Mesh}();exports.default=Mesh},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Mesh=__webpack_require__(6),_Mesh2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Mesh),Geom={},meshTri=void 0;Geom.plane=function(width,height,numSegments){for(var axis=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"xy",drawType=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4,positions=[],coords=[],indices=[],normals=[],gapX=width/numSegments,gapY=height/numSegments,gapUV=1/numSegments,sx=.5*-width,sy=.5*-height,index=0,i=0;i<numSegments;i++)for(var j=0;j<numSegments;j++){var tx=gapX*i+sx,ty=gapY*j+sy,u=i/numSegments,v=j/numSegments;"xz"===axis?(positions.push([tx,0,ty+gapY]),positions.push([tx+gapX,0,ty+gapY]),positions.push([tx+gapX,0,ty]),positions.push([tx,0,ty]),coords.push([u,1-(v+gapUV)]),coords.push([u+gapUV,1-(v+gapUV)]),coords.push([u+gapUV,1-v]),coords.push([u,1-v]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0])):"yz"===axis?(positions.push([0,ty,tx]),positions.push([0,ty,tx+gapX]),positions.push([0,ty+gapY,tx+gapX]),positions.push([0,ty+gapY,tx]),coords.push([u,v]),coords.push([u+gapUV,v]),coords.push([u+gapUV,v+gapUV]),coords.push([u,v+gapUV]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0])):(positions.push([tx,ty,0]),positions.push([tx+gapX,ty,0]),positions.push([tx+gapX,ty+gapY,0]),positions.push([tx,ty+gapY,0]),coords.push([u,v]),coords.push([u+gapUV,v]),coords.push([u+gapUV,v+gapUV]),coords.push([u,v+gapUV]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1])),indices.push(4*index+0),indices.push(4*index+1),indices.push(4*index+2),indices.push(4*index+0),indices.push(4*index+2),indices.push(4*index+3),index++}var mesh=new _Mesh2.default(drawType);return mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),mesh.bufferNormal(normals),mesh},Geom.sphere=function(size,numSegments){function getPosition(i,j){var isNormal=arguments.length>2&&void 0!==arguments[2]&&arguments[2],rx=i/numSegments*Math.PI-.5*Math.PI,ry=j/numSegments*Math.PI*2,r=isNormal?1:size,pos=[];pos[1]=Math.sin(rx)*r;var t=Math.cos(rx)*r;pos[0]=Math.cos(ry)*t,pos[2]=Math.sin(ry)*t;return pos[0]=Math.floor(1e4*pos[0])/1e4,pos[1]=Math.floor(1e4*pos[1])/1e4,pos[2]=Math.floor(1e4*pos[2])/1e4,pos}for(var isInvert=arguments.length>2&&void 0!==arguments[2]&&arguments[2],drawType=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,positions=[],coords=[],indices=[],normals=[],gapUV=1/numSegments,index=0,i=0;i<numSegments;i++)for(var j=0;j<numSegments;j++){positions.push(getPosition(i,j)),positions.push(getPosition(i+1,j)),positions.push(getPosition(i+1,j+1)),positions.push(getPosition(i,j+1)),normals.push(getPosition(i,j,!0)),normals.push(getPosition(i+1,j,!0)),normals.push(getPosition(i+1,j+1,!0)),normals.push(getPosition(i,j+1,!0));var u=j/numSegments,v=i/numSegments;coords.push([1-u,v]),coords.push([1-u,v+gapUV]),coords.push([1-u-gapUV,v+gapUV]),coords.push([1-u-gapUV,v]),indices.push(4*index+0),indices.push(4*index+1),indices.push(4*index+2),indices.push(4*index+0),indices.push(4*index+2),indices.push(4*index+3),index++}isInvert&&indices.reverse();var mesh=new _Mesh2.default(drawType);return mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),mesh.bufferNormal(normals),mesh},Geom.cube=function(w,h,d){var drawType=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;h=h||w,d=d||w;var x=w/2,y=h/2,z=d/2,positions=[],coords=[],indices=[],normals=[],count=0;positions.push([-x,y,-z]),positions.push([x,y,-z]),positions.push([x,-y,-z]),positions.push([-x,-y,-z]),normals.push([0,0,-1]),normals.push([0,0,-1]),normals.push([0,0,-1]),normals.push([0,0,-1]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([x,y,-z]),positions.push([x,y,z]),positions.push([x,-y,z]),positions.push([x,-y,-z]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([x,y,z]),positions.push([-x,y,z]),positions.push([-x,-y,z]),positions.push([x,-y,z]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([-x,y,z]),positions.push([-x,y,-z]),positions.push([-x,-y,-z]),positions.push([-x,-y,z]),normals.push([-1,0,0]),normals.push([-1,0,0]),normals.push([-1,0,0]),normals.push([-1,0,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([x,y,-z]),positions.push([-x,y,-z]),positions.push([-x,y,z]),positions.push([x,y,z]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([x,-y,z]),positions.push([-x,-y,z]),positions.push([-x,-y,-z]),positions.push([x,-y,-z]),normals.push([0,-1,0]),normals.push([0,-1,0]),normals.push([0,-1,0]),normals.push([0,-1,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++;var mesh=new _Mesh2.default(drawType);return mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),mesh.bufferNormal(normals),mesh},Geom.skybox=function(size){var drawType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,positions=[],coords=[],indices=[],normals=[],count=0;positions.push([size,size,-size]),positions.push([-size,size,-size]),positions.push([-size,-size,-size]),positions.push([size,-size,-size]),normals.push([0,0,-1]),normals.push([0,0,-1]),normals.push([0,0,-1]),normals.push([0,0,-1]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([size,-size,-size]),positions.push([size,-size,size]),positions.push([size,size,size]),positions.push([size,size,-size]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([-size,size,size]),positions.push([size,size,size]),positions.push([size,-size,size]),positions.push([-size,-size,size]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([-size,-size,size]),positions.push([-size,-size,-size]),positions.push([-size,size,-size]),positions.push([-size,size,size]),normals.push([-1,0,0]),normals.push([-1,0,0]),normals.push([-1,0,0]),normals.push([-1,0,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([size,size,size]),positions.push([-size,size,size]),positions.push([-size,size,-size]),positions.push([size,size,-size]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([size,-size,-size]),positions.push([-size,-size,-size]),positions.push([-size,-size,size]),positions.push([size,-size,size]),normals.push([0,-1,0]),normals.push([0,-1,0]),normals.push([0,-1,0]),normals.push([0,-1,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3);var mesh=new _Mesh2.default(drawType);return mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),mesh.bufferNormal(normals),mesh},Geom.bigTriangle=function(){if(!meshTri){var indices=[2,1,0],positions=[[-1,-1],[-1,4],[4,-1]];meshTri=new _Mesh2.default,meshTri.bufferData(positions,"aPosition",2),meshTri.bufferIndex(indices)}return meshTri},exports.default=Geom},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Scheduler=function(){function Scheduler(){_classCallCheck(this,Scheduler),this._delayTasks=[],this._nextTasks=[],this._deferTasks=[],this._highTasks=[],this._usurpTask=[],this._enterframeTasks=[],this._idTable=0,this._loop()}return _createClass(Scheduler,[{key:"addEF",value:function(func,params){params=params||[];var id=this._idTable;return this._enterframeTasks[id]={func:func,params:params},this._idTable++,id}},{key:"removeEF",value:function(id){return void 0!==this._enterframeTasks[id]&&(this._enterframeTasks[id]=null),-1}},{key:"delay",value:function(func,params,_delay){var time=(new Date).getTime(),t={func:func,params:params,delay:_delay,time:time};this._delayTasks.push(t)}},{key:"defer",value:function(func,params){var t={func:func,params:params};this._deferTasks.push(t)}},{key:"next",value:function(func,params){var t={func:func,params:params};this._nextTasks.push(t)}},{key:"usurp",value:function(func,params){var t={func:func,params:params};this._usurpTask.push(t)}},{key:"_process",value:function(){var i=0,task=void 0,interval=void 0;for(i=0;i<this._enterframeTasks.length;i++)null!==(task=this._enterframeTasks[i])&&void 0!==task&&task.func(task.params);for(;this._highTasks.length>0;)task=this._highTasks.pop(),task.func(task.params);var startTime=(new Date).getTime();for(i=0;i<this._delayTasks.length;i++)task=this._delayTasks[i],startTime-task.time>task.delay&&(task.func(task.params),this._delayTasks.splice(i,1));for(startTime=(new Date).getTime(),interval=1e3/60;this._deferTasks.length>0;){if(task=this._deferTasks.shift(),!((new Date).getTime()-startTime<interval)){this._deferTasks.unshift(task);break}task.func(task.params)}for(startTime=(new Date).getTime(),interval=1e3/60;this._usurpTask.length>0;)task=this._usurpTask.shift(),(new Date).getTime()-startTime<interval&&task.func(task.params);this._highTasks=this._highTasks.concat(this._nextTasks),this._nextTasks=[],this._usurpTask=[]}},{key:"_loop",value:function(){var _this=this;this._process(),window.requestAnimationFrame(function(){return _this._loop()})}}]),Scheduler}(),scheduler=new Scheduler;exports.default=scheduler},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Gamepad=__webpack_require__(95),_Gamepad2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Gamepad),count=0,VRUtils=function(){function VRUtils(){_classCallCheck(this,VRUtils),this._vrDisplay,this._frameData,this.id="ID"+count++,this._gamePads=[],this.hasVR=!1,this.isPresenting=!1,this._rightHandpad,this._leftHandpad}return _createClass(VRUtils,[{key:"init",value:function(mCallback){var _this=this;if(!navigator.getVRDisplays)return void mCallback(null);navigator.getVRDisplays().then(function(displays){if(displays.length>0){var vrDisplay=displays[0];_this._vrDisplay=vrDisplay,_this._frameData=new VRFrameData,_this.hasVR=!0,mCallback(vrDisplay)}else mCallback(null)})}},{key:"present",value:function(mCanvas,callback){var _this2=this;this._vrDisplay&&this._vrDisplay.capabilities.canPresent&&this._vrDisplay.requestPresent([{source:mCanvas}]).then(function(){_this2.isPresenting=!0,callback&&callback()},function(){})}},{key:"submitFrame",value:function(){this._vrDisplay.isPresenting&&this._vrDisplay.submitFrame()}},{key:"getFrameData",value:function(){if(this._vrDisplay)return this._vrDisplay.getFrameData(this._frameData),this._checkGamepads(),this._frameData}},{key:"setCamera",value:function(mCamera,mDir){var projection=this._frameData[mDir+"ProjectionMatrix"],matrix=this._frameData[mDir+"ViewMatrix"];mat4.copy(mCamera.matrix,matrix),mat4.copy(mCamera.projection,projection)}},{key:"_checkGamepads",value:function(){if(navigator.getGamepads)for(var gamepads=navigator.getGamepads(),count=0,i=0;i<gamepads.length;i++){if(!this._gamePads[i]){var gamepad=new _Gamepad2.default;this._gamePads[i]=gamepad}var gamepadData=gamepads[i];if(this._gamePads[i].update(gamepadData),gamepadData&&gamepadData.pose){if(!gamepadData.pose.position)continue;gamepadData.pose.position,gamepadData.pose.orientation,gamepadData.buttons,gamepadData.hand;count++}}}},{key:"gamePads",get:function(){return this._gamePads}},{key:"vrDisplay",get:function(){return this._vrDisplay}},{key:"canPresent",get:function(){return!!this._vrDisplay&&this._vrDisplay.capabilities.canPresent}},{key:"leftHand",get:function(){if(!this._leftHandpad){var pads=this._gamePads.filter(function(pad){return"left"===pad.hand});if(0==pads.length)return null;this._leftHandpad=pads[0]}return this._leftHandpad}},{key:"rightHand",get:function(){if(!this._rightHandpad){var pads=this._gamePads.filter(function(pad){return"right"===pad.hand});if(0==pads.length)return null;this._rightHandpad=pads[0]}return this._rightHandpad}}]),VRUtils}(),instance=void 0;void 0===instance&&(instance=new VRUtils),exports.default=instance},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_FrameBuffer=__webpack_require__(15),_FrameBuffer2=_interopRequireDefault(_FrameBuffer),_ShaderLibs=__webpack_require__(33),_ShaderLibs2=_interopRequireDefault(_ShaderLibs),Pass=function(){function Pass(mSource){var mWidth=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,mHeight=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,Pass),this.shader=new _GLShader2.default(_ShaderLibs2.default.bigTriangleVert,mSource),this._width=mWidth,this._height=mHeight,this._uniforms={},this._hasOwnFbo=this._width>0&&this._width>0,this._uniforms={},this._hasOwnFbo&&(this._fbo=new _FrameBuffer2.default(this._width,this.height,mParmas))}return _createClass(Pass,[{key:"uniform",value:function(mName,mValue){this._uniforms[mName]=mValue}},{key:"render",value:function(texture){this.shader.bind(),this.shader.uniform("texture","uniform1i",0),texture.bind(0),this.shader.uniform(this._uniforms)}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"fbo",get:function(){return this._fbo}},{key:"hasFbo",get:function(){return this._hasOwnFbo}}]),Pass}();exports.default=Pass},function(module,exports){module.exports="// simpleColor.frag\n\n#define SHADER_NAME SIMPLE_COLOR\n\nprecision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 color;\nuniform float opacity;\n\nvoid main(void) {\n    gl_FragColor = vec4(color, opacity);\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _assetList=__webpack_require__(42),_assetList2=_interopRequireDefault(_assetList),_alfrid=__webpack_require__(5),_alfrid2=_interopRequireDefault(_alfrid),Assets={},_assets=[],getAsset=function(id){return assets.find(function(a){return a.id===id}).file},getExtension=function(mFile){var ary=mFile.split(".");return ary[ary.length-1]};Assets.init=function(){var hdrCubemaps={};_assets=_assetList2.default.map(function(o){var ext=getExtension(o.url),file=getAsset(o.id),texture=void 0;switch(ext){case"jpg":case"png":return texture=new _alfrid.GLTexture(file),{id:o.id,file:texture};case"hdr":var cubemapName=o.id.split("_")[0];texture=_alfrid2.default.HDRLoader.parse(file);var oAsset={id:o.id,file:texture};return hdrCubemaps[cubemapName]||(hdrCubemaps[cubemapName]=[]),hdrCubemaps[cubemapName].push(oAsset),oAsset;case"dds":return texture=_alfrid.GLCubeTexture.parseDDS(file),{id:o.id,file:texture};case"obj":var mesh=_alfrid.ObjLoader.parse(file);return{id:o.id,file:mesh}}});for(var s in hdrCubemaps)if(6==hdrCubemaps[s].length){var ary=[Assets.get(s+"_posx"),Assets.get(s+"_negx"),Assets.get(s+"_posy"),Assets.get(s+"_negy"),Assets.get(s+"_posz"),Assets.get(s+"_negz")],texture=new _alfrid2.default.GLCubeTexture(ary);_assets.push({id:s,file:texture})}_assets.length},Assets.get=function(mId){return _assets.find(function(a){return a.id===mId}).file},exports.default=Assets},function(module,exports){module.exports="// basic.vert\n\n#define SHADER_NAME BASIC_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n    vNormal = aNormal;\n}"},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function isPowerOfTwo(x){return 0!==x&&!(x&x-1)}function isSourcePowerOfTwo(obj){var w=obj.width||obj.videoWidth,h=obj.height||obj.videoHeight;return!(!w||!h)&&(isPowerOfTwo(w)&&isPowerOfTwo(h))}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),gl=void 0,GLTexture=function(){function GLTexture(mSource){var isTexture=arguments.length>1&&void 0!==arguments[1]&&arguments[1],mParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(_classCallCheck(this,GLTexture),gl=_GLTool2.default.gl,isTexture)this._texture=mSource;else{this._mSource=mSource,this._texture=gl.createTexture(),this._isVideo="VIDEO"===mSource.tagName,this._premultiplyAlpha=!0,this._magFilter=mParameters.magFilter||gl.LINEAR,this._minFilter=mParameters.minFilter||gl.NEAREST_MIPMAP_LINEAR,this._wrapS=mParameters.wrapS||gl.MIRRORED_REPEAT,this._wrapT=mParameters.wrapT||gl.MIRRORED_REPEAT;mSource.width||mSource.videoWidth?isSourcePowerOfTwo(mSource)||(this._wrapS=this._wrapT=gl.CLAMP_TO_EDGE,this._minFilter===gl.NEAREST_MIPMAP_LINEAR&&(this._minFilter=gl.LINEAR)):(this._wrapS=this._wrapT=gl.CLAMP_TO_EDGE,this._minFilter===gl.NEAREST_MIPMAP_LINEAR&&(this._minFilter=gl.LINEAR)),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!0),mSource.exposure?gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,mSource.shape[0],mSource.shape[1],0,gl.RGBA,gl.FLOAT,mSource.data):gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,mSource),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._magFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._minFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this._wrapS),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this._wrapT);var ext=_GLTool2.default.getExtension("EXT_texture_filter_anisotropic");if(ext){var max=gl.getParameter(ext.MAX_TEXTURE_MAX_ANISOTROPY_EXT);gl.texParameterf(gl.TEXTURE_2D,ext.TEXTURE_MAX_ANISOTROPY_EXT,max)}this._canGenerateMipmap()&&gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null)}}return _createClass(GLTexture,[{key:"generateMipmap",value:function(){this._canGenerateMipmap()&&(gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null))}},{key:"updateTexture",value:function(mSource){mSource&&(this._mSource=mSource),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!0),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,this._mSource),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._magFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._minFilter),this._canGenerateMipmap()&&gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null)}},{key:"bind",value:function(index){void 0===index&&(index=0),_GLTool2.default.shader&&(gl.activeTexture(gl.TEXTURE0+index),gl.bindTexture(gl.TEXTURE_2D,this._texture),this._bindIndex=index)}},{key:"_canGenerateMipmap",value:function(){return this._minFilter===gl.LINEAR_MIPMAP_NEAREST||this._minFilter===gl.NEAREST_MIPMAP_LINEAR||this._minFilter===gl.LINEAR_MIPMAP_LINEAR||this._minFilter===gl.NEAREST_MIPMAP_NEAREST}},{key:"minFilter",set:function(mValue){if(mValue!==gl.LINEAR&&mValue!==gl.NEAREST&&mValue!==gl.NEAREST_MIPMAP_LINEAR&&mValue!==gl.NEAREST_MIPMAP_LINEAR&&mValue!==gl.LINEAR_MIPMAP_LINEAR&&mValue!==gl.NEAREST_MIPMAP_NEAREST)return this;this._minFilter=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._minFilter),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._minFilter}},{key:"magFilter",set:function(mValue){if(mValue!==gl.LINEAR&&mValue!==gl.NEAREST)return this;this._magFilter=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._magFilter),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._magFilter}},{key:"wrapS",set:function(mValue){if(mValue!==gl.CLAMP_TO_EDGE&&mValue!==gl.REPEAT&&mValue!==gl.MIRRORED_REPEAT)return this;this._wrapS=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this._wrapS),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._wrapS}},{key:"wrapT",set:function(mValue){if(mValue!==gl.CLAMP_TO_EDGE&&mValue!==gl.REPEAT&&mValue!==gl.MIRRORED_REPEAT)return this;this._wrapT=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this._wrapT),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._wrapT}},{key:"premultiplyAlpha",set:function(mValue){this._premultiplyAlpha=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiplyAlpha),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._premultiplyAlpha}},{key:"texture",get:function(){return this._texture}}]),GLTexture}(),_whiteTexture=void 0,_greyTexture=void 0,_blackTexture=void 0;GLTexture.whiteTexture=function(){if(void 0===_whiteTexture){var canvas=document.createElement("canvas");canvas.width=canvas.height=4;var ctx=canvas.getContext("2d");ctx.fillStyle="#fff",ctx.fillRect(0,0,4,4),_whiteTexture=new GLTexture(canvas)}return _whiteTexture},GLTexture.greyTexture=function(){if(void 0===_greyTexture){var canvas=document.createElement("canvas");canvas.width=canvas.height=4;var ctx=canvas.getContext("2d");ctx.fillStyle="rgb(127, 127, 127)",ctx.fillRect(0,0,4,4),_greyTexture=new GLTexture(canvas)}return _greyTexture},GLTexture.blackTexture=function(){if(void 0===_blackTexture){var canvas=document.createElement("canvas");canvas.width=canvas.height=4;var ctx=canvas.getContext("2d");ctx.fillStyle="rgb(127, 127, 127)",ctx.fillRect(0,0,4,4),_blackTexture=new GLTexture(canvas)}return _blackTexture},exports.default=GLTexture},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function isPowerOfTwo(x){return 0!==x&&!(x&x-1)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLTexture=__webpack_require__(14),_GLTexture2=_interopRequireDefault(_GLTexture),gl=void 0,webglDepthTexture=void 0,hasCheckedMultiRenderSupport=!1,extDrawBuffer=void 0,checkMultiRender=function(){return!!_GLTool2.default.webgl2||!!(extDrawBuffer=_GLTool2.default.getExtension("WEBGL_draw_buffers"))},FrameBuffer=function(){function FrameBuffer(mWidth,mHeight){var mParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},multipleTargets=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,FrameBuffer),gl=_GLTool2.default.gl,webglDepthTexture=_GLTool2.default.checkExtension("WEBGL_depth_texture"),this.width=mWidth,this.height=mHeight,this._multipleTargets=multipleTargets,this.magFilter=mParameters.magFilter||gl.LINEAR,this.minFilter=mParameters.minFilter||gl.LINEAR_MIPMAP_NEAREST,this.wrapS=mParameters.wrapS||gl.CLAMP_TO_EDGE,this.wrapT=mParameters.wrapT||gl.CLAMP_TO_EDGE,this.useDepth=mParameters.useDepth||!0,this.useStencil=mParameters.useStencil||!1,this.texelType=mParameters.type,isPowerOfTwo(this.width)&&isPowerOfTwo(this.height)||(this.wrapS=this.wrapT=gl.CLAMP_TO_EDGE,this.minFilter===gl.LINEAR_MIPMAP_NEAREST&&(this.minFilter=gl.LINEAR)),hasCheckedMultiRenderSupport||checkMultiRender(),this._init()}return _createClass(FrameBuffer,[{key:"_init",value:function(){var texelType=gl.UNSIGNED_BYTE;if(this.texelType&&(texelType=this.texelType),this.texelType=texelType,this._textures=[],this._initTextures(),this.frameBuffer=gl.createFramebuffer(),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBuffer),_GLTool2.default.webgl2){for(var buffers=[],i=0;i<this._textures.length;i++)gl.framebufferTexture2D(gl.DRAW_FRAMEBUFFER,gl.COLOR_ATTACHMENT0+i,gl.TEXTURE_2D,this._textures[i].texture,0),buffers.push(gl["COLOR_ATTACHMENT"+i]);gl.drawBuffers(buffers),gl.framebufferTexture2D(gl.DRAW_FRAMEBUFFER,gl.DEPTH_ATTACHMENT,gl.TEXTURE_2D,this.glDepthTexture.texture,0)}else{for(var _i=0;_i<this._textures.length;_i++)gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0+_i,gl.TEXTURE_2D,this._textures[_i].texture,0);this._multipleTargets&&extDrawBuffer.drawBuffersWEBGL([extDrawBuffer.COLOR_ATTACHMENT0_WEBGL,extDrawBuffer.COLOR_ATTACHMENT1_WEBGL,extDrawBuffer.COLOR_ATTACHMENT2_WEBGL,extDrawBuffer.COLOR_ATTACHMENT3_WEBGL]),webglDepthTexture&&gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.DEPTH_ATTACHMENT,gl.TEXTURE_2D,this.glDepthTexture.texture,0)}if(this.minFilter===gl.LINEAR_MIPMAP_NEAREST)for(var _i2=0;_i2<this._textures.length;_i2++)gl.bindTexture(gl.TEXTURE_2D,this._textures[_i2].texture),gl.generateMipmap(gl.TEXTURE_2D);gl.checkFramebufferStatus(gl.FRAMEBUFFER);gl.FRAMEBUFFER_COMPLETE,gl.bindTexture(gl.TEXTURE_2D,null),gl.bindRenderbuffer(gl.RENDERBUFFER,null),gl.bindFramebuffer(gl.FRAMEBUFFER,null),this.clear()}},{key:"_initTextures",value:function(){for(var i=(this._multipleTargets,0);i<4;i++){var glt=this._createTexture();this._textures.push(glt)}_GLTool2.default.webgl2?this.glDepthTexture=this._createTexture(gl.DEPTH_COMPONENT16,gl.UNSIGNED_SHORT,gl.DEPTH_COMPONENT,!0):this.glDepthTexture=this._createTexture(gl.DEPTH_COMPONENT,gl.UNSIGNED_SHORT)}},{key:"_createTexture",value:function(mInternalformat,mTexelType,mFormat){var forceNearest=arguments.length>3&&void 0!==arguments[3]&&arguments[3];void 0===mInternalformat&&(mInternalformat=gl.RGBA),void 0===mTexelType&&(mTexelType=this.texelType),mFormat||(mFormat=mInternalformat);var t=gl.createTexture(),glt=new _GLTexture2.default(t,!0),magFilter=forceNearest?_GLTool2.default.NEAREST:this.magFilter,minFilter=forceNearest?_GLTool2.default.NEAREST:this.minFilter;return gl.bindTexture(gl.TEXTURE_2D,t),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,magFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,minFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this.wrapT),gl.texImage2D(gl.TEXTURE_2D,0,mInternalformat,this.width,this.height,0,mFormat,mTexelType,null),gl.bindTexture(gl.TEXTURE_2D,null),glt}},{key:"bind",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&_GLTool2.default.viewport(0,0,this.width,this.height),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBuffer)}},{key:"unbind",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&_GLTool2.default.viewport(0,0,_GLTool2.default.width,_GLTool2.default.height),gl.bindFramebuffer(gl.FRAMEBUFFER,null)}},{key:"clear",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.bind(),_GLTool2.default.clear(r,g,b,a),this.unbind()}},{key:"getTexture",value:function(){var mIndex=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._textures[mIndex]}},{key:"getDepthTexture",value:function(){return this.glDepthTexture}},{key:"minFilter",value:function(mValue){return mValue!==gl.LINEAR&&mValue!==gl.NEAREST&&mValue!==gl.LINEAR_MIPMAP_NEAREST?this:(this.minFilter=mValue,this)}},{key:"magFilter",value:function(mValue){return mValue!==gl.LINEAR&&mValue!==gl.NEAREST&&mValue!==gl.LINEAR_MIPMAP_NEAREST?this:(this.magFilter=mValue,this)}},{key:"wrapS",value:function(mValue){return mValue!==gl.CLAMP_TO_EDGE&&mValue!==gl.REPEAT&&mValue!==gl.MIRRORED_REPEAT?this:(this.wrapS=mValue,this)}},{key:"wrapT",value:function(mValue){return mValue!==gl.CLAMP_TO_EDGE&&mValue!==gl.REPEAT&&mValue!==gl.MIRRORED_REPEAT?this:(this.wrapT=mValue,this)}}]),FrameBuffer}();exports.default=FrameBuffer},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_scheduling=__webpack_require__(8),_scheduling2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_scheduling),EaseNumber=function(){function EaseNumber(mValue){var _this=this,mEasing=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;_classCallCheck(this,EaseNumber),this.easing=mEasing,this._value=mValue,this._targetValue=mValue,this._efIndex=_scheduling2.default.addEF(function(){return _this._update()})}return _createClass(EaseNumber,[{key:"_update",value:function(){this._checkLimit(),this._value+=(this._targetValue-this._value)*this.easing,Math.abs(this._targetValue-this._value)<1e-4&&(this._value=this._targetValue)}},{key:"setTo",value:function(mValue){this._targetValue=this._value=mValue}},{key:"add",value:function(mAdd){this._targetValue+=mAdd}},{key:"limit",value:function(mMin,mMax){if(mMin>mMax)return void this.limit(mMax,mMin);this._min=mMin,this._max=mMax,this._checkLimit()}},{key:"_checkLimit",value:function(){void 0!==this._min&&this._targetValue<this._min&&(this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._targetValue=this._max)}},{key:"destroy",value:function(){_scheduling2.default.removeEF(this._efIndex)}},{key:"value",set:function(mValue){this._targetValue=mValue},get:function(){return this._value}},{key:"targetValue",get:function(){return this._targetValue}}]),EaseNumber}();exports.default=EaseNumber},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),Camera=function(){function Camera(){_classCallCheck(this,Camera),this._matrix=_glMatrix.mat4.create(),this._quat=_glMatrix.quat.create(),this._orientation=_glMatrix.mat4.create(),this._projection=_glMatrix.mat4.create(),this.position=vec3.create()}return _createClass(Camera,[{key:"lookAt",value:function(aEye,aCenter){var aUp=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,1,0];this._eye=vec3.clone(aEye),this._center=vec3.clone(aCenter),vec3.copy(this.position,aEye),_glMatrix.mat4.identity(this._matrix),_glMatrix.mat4.lookAt(this._matrix,aEye,aCenter,aUp)}},{key:"setFromOrientation",value:function(x,y,z,w){_glMatrix.quat.set(this._quat,x,y,z,w),_glMatrix.mat4.fromQuat(this._orientation,this._quat),_glMatrix.mat4.translate(this._matrix,this._orientation,this.positionOffset)}},{key:"setProjection",value:function(mProj){this._projection=_glMatrix.mat4.clone(mProj)}},{key:"setView",value:function(mView){this._matrix=_glMatrix.mat4.clone(mView)}},{key:"setFromViewProj",value:function(mView,mProj){this.setView(mView),this.setProjection(mProj)}},{key:"matrix",get:function(){return this._matrix}},{key:"viewMatrix",get:function(){return this._matrix}},{key:"projection",get:function(){return this._projection}},{key:"projectionMatrix",get:function(){return this._projection}},{key:"eye",get:function(){return this._eye}},{key:"center",get:function(){return this._center}}]),Camera}();exports.default=Camera},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Camera2=__webpack_require__(17),_Camera3=_interopRequireDefault(_Camera2),_Ray=__webpack_require__(31),_Ray2=_interopRequireDefault(_Ray),_glMatrix=__webpack_require__(1),mInverseViewProj=_glMatrix.mat4.create(),cameraDir=_glMatrix.vec3.create(),CameraPerspective=function(_Camera){function CameraPerspective(){return _classCallCheck(this,CameraPerspective),_possibleConstructorReturn(this,(CameraPerspective.__proto__||Object.getPrototypeOf(CameraPerspective)).apply(this,arguments))}return _inherits(CameraPerspective,_Camera),_createClass(CameraPerspective,[{key:"setPerspective",value:function(mFov,mAspectRatio,mNear,mFar){this._fov=mFov,this._near=mNear,this._far=mFar,this._aspectRatio=mAspectRatio,_glMatrix.mat4.perspective(this._projection,mFov,mAspectRatio,mNear,mFar)}},{key:"setAspectRatio",value:function(mAspectRatio){this._aspectRatio=mAspectRatio,_glMatrix.mat4.perspective(this.projection,this._fov,mAspectRatio,this._near,this._far)}},{key:"generateRay",value:function(mScreenPosition,mRay){var proj=this.projectionMatrix,view=this.viewMatrix;return _glMatrix.mat4.multiply(mInverseViewProj,proj,view),_glMatrix.mat4.invert(mInverseViewProj,mInverseViewProj),_glMatrix.vec3.transformMat4(cameraDir,mScreenPosition,mInverseViewProj),_glMatrix.vec3.sub(cameraDir,cameraDir,this.position),_glMatrix.vec3.normalize(cameraDir,cameraDir),mRay?(mRay.origin=this.position,mRay.direction=cameraDir):mRay=new _Ray2.default(this.position,cameraDir),mRay}}]),CameraPerspective}(_Camera3.default);exports.default=CameraPerspective},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),BinaryLoader=function(){function BinaryLoader(){var _this=this,isArrayBuffer=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classCallCheck(this,BinaryLoader),this._req=new XMLHttpRequest,this._req.addEventListener("load",function(e){return _this._onLoaded(e)}),this._req.addEventListener("progress",function(e){return _this._onProgress(e)}),isArrayBuffer&&(this._req.responseType="arraybuffer")}return _createClass(BinaryLoader,[{key:"load",value:function(url,callback){this._callback=callback,this._req.open("GET",url),this._req.send()}},{key:"_onLoaded",value:function(){this._callback(this._req.response)}},{key:"_onProgress",value:function(){}}]),BinaryLoader}();exports.default=BinaryLoader},function(module,exports){module.exports="// bigTriangle.vert\n\n#define SHADER_NAME BIG_TRIANGLE_VERTEX\n\nprecision mediump float;\n#define GLSLIFY 1\nattribute vec2 aPosition;\nvarying vec2 vTextureCoord;\n\nvoid main(void) {\n    gl_Position = vec4(aPosition, 0.0, 1.0);\n    vTextureCoord = aPosition * .5 + .5;\n}"},function(module,exports){module.exports="// copy.frag\n\n#define SHADER_NAME COPY_FRAGMENT\n\nprecision mediump float;\n#define GLSLIFY 1\n\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\n\nvoid main(void) {\n    gl_FragColor = texture2D(texture, vTextureCoord);\n}"},function(module,exports){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((er=arguments[1])instanceof Error)throw er;var err=new Error('Uncaught, unspecified "error" event. ('+er+")");throw err.context=er,err}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1),handler.apply(this,args)}else if(isObject(handler))for(args=Array.prototype.slice.call(arguments,1),listeners=handler.slice(),len=listeners.length,i=0;i<len;i++)listeners[i].apply(this,args);return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned&&(m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.trace),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-- >0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(position<0)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else if(listeners)for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){return this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;if(evlistener)return evlistener.length}return 0},EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)}},function(module,exports,__webpack_require__){var glMatrix=__webpack_require__(3),mat3={};mat3.create=function(){var out=new glMatrix.ARRAY_TYPE(9);return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out},mat3.fromMat4=function(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[4],out[4]=a[5],out[5]=a[6],out[6]=a[8],out[7]=a[9],out[8]=a[10],out},mat3.clone=function(a){var out=new glMatrix.ARRAY_TYPE(9);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out},mat3.copy=function(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out},mat3.fromValues=function(m00,m01,m02,m10,m11,m12,m20,m21,m22){var out=new glMatrix.ARRAY_TYPE(9);return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m10,out[4]=m11,out[5]=m12,out[6]=m20,out[7]=m21,out[8]=m22,out},mat3.set=function(out,m00,m01,m02,m10,m11,m12,m20,m21,m22){return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m10,out[4]=m11,out[5]=m12,out[6]=m20,out[7]=m21,out[8]=m22,out},mat3.identity=function(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out},mat3.transpose=function(out,a){if(out===a){var a01=a[1],a02=a[2],a12=a[5];out[1]=a[3],out[2]=a[6],out[3]=a01,out[5]=a[7],out[6]=a02,out[7]=a12}else out[0]=a[0],out[1]=a[3],out[2]=a[6],out[3]=a[1],out[4]=a[4],out[5]=a[7],out[6]=a[2],out[7]=a[5],out[8]=a[8];return out},mat3.invert=function(out,a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b01=a22*a11-a12*a21,b11=-a22*a10+a12*a20,b21=a21*a10-a11*a20,det=a00*b01+a01*b11+a02*b21;return det?(det=1/det,out[0]=b01*det,out[1]=(-a22*a01+a02*a21)*det,out[2]=(a12*a01-a02*a11)*det,out[3]=b11*det,out[4]=(a22*a00-a02*a20)*det,out[5]=(-a12*a00+a02*a10)*det,out[6]=b21*det,out[7]=(-a21*a00+a01*a20)*det,out[8]=(a11*a00-a01*a10)*det,out):null},mat3.adjoint=function(out,a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return out[0]=a11*a22-a12*a21,out[1]=a02*a21-a01*a22,out[2]=a01*a12-a02*a11,out[3]=a12*a20-a10*a22,out[4]=a00*a22-a02*a20,out[5]=a02*a10-a00*a12,out[6]=a10*a21-a11*a20,out[7]=a01*a20-a00*a21,out[8]=a00*a11-a01*a10,out},mat3.determinant=function(a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return a00*(a22*a11-a12*a21)+a01*(-a22*a10+a12*a20)+a02*(a21*a10-a11*a20)},mat3.multiply=function(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b00=b[0],b01=b[1],b02=b[2],b10=b[3],b11=b[4],b12=b[5],b20=b[6],b21=b[7],b22=b[8];return out[0]=b00*a00+b01*a10+b02*a20,out[1]=b00*a01+b01*a11+b02*a21,out[2]=b00*a02+b01*a12+b02*a22,out[3]=b10*a00+b11*a10+b12*a20,out[4]=b10*a01+b11*a11+b12*a21,out[5]=b10*a02+b11*a12+b12*a22,out[6]=b20*a00+b21*a10+b22*a20,out[7]=b20*a01+b21*a11+b22*a21,out[8]=b20*a02+b21*a12+b22*a22,out},mat3.mul=mat3.multiply,mat3.translate=function(out,a,v){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],x=v[0],y=v[1];return out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a10,out[4]=a11,out[5]=a12,out[6]=x*a00+y*a10+a20,out[7]=x*a01+y*a11+a21,out[8]=x*a02+y*a12+a22,out},mat3.rotate=function(out,a,rad){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],s=Math.sin(rad),c=Math.cos(rad);return out[0]=c*a00+s*a10,out[1]=c*a01+s*a11,out[2]=c*a02+s*a12,out[3]=c*a10-s*a00,out[4]=c*a11-s*a01,out[5]=c*a12-s*a02,out[6]=a20,out[7]=a21,out[8]=a22,out},mat3.scale=function(out,a,v){var x=v[0],y=v[1];return out[0]=x*a[0],out[1]=x*a[1],out[2]=x*a[2],out[3]=y*a[3],out[4]=y*a[4],out[5]=y*a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out},mat3.fromTranslation=function(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=v[0],out[7]=v[1],out[8]=1,out},mat3.fromRotation=function(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=0,out[3]=-s,out[4]=c,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out},mat3.fromScaling=function(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=0,out[4]=v[1],out[5]=0,out[6]=0,out[7]=0,out[8]=1,out},mat3.fromMat2d=function(out,a){return out[0]=a[0],out[1]=a[1],out[2]=0,out[3]=a[2],out[4]=a[3],out[5]=0,out[6]=a[4],out[7]=a[5],out[8]=1,out},mat3.fromQuat=function(out,q){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[3]=yx-wz,out[6]=zx+wy,out[1]=yx+wz,out[4]=1-xx-zz,out[7]=zy-wx,out[2]=zx-wy,out[5]=zy+wx,out[8]=1-xx-yy,out},mat3.normalFromMat4=function(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a12*b08-a10*b11-a13*b07)*det,out[2]=(a10*b10-a11*b08+a13*b06)*det,out[3]=(a02*b10-a01*b11-a03*b09)*det,out[4]=(a00*b11-a02*b08+a03*b07)*det,out[5]=(a01*b08-a00*b10-a03*b06)*det,out[6]=(a31*b05-a32*b04+a33*b03)*det,out[7]=(a32*b02-a30*b05-a33*b01)*det,out[8]=(a30*b04-a31*b02+a33*b00)*det,out):null},mat3.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"},mat3.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))},mat3.add=function(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out[6]=a[6]+b[6],out[7]=a[7]+b[7],out[8]=a[8]+b[8],out},mat3.subtract=function(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out[6]=a[6]-b[6],out[7]=a[7]-b[7],out[8]=a[8]-b[8],out},mat3.sub=mat3.subtract,mat3.multiplyScalar=function(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out[6]=a[6]*b,out[7]=a[7]*b,out[8]=a[8]*b,out},mat3.multiplyScalarAndAdd=function(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out[6]=a[6]+b[6]*scale,out[7]=a[7]+b[7]*scale,out[8]=a[8]+b[8]*scale,out},mat3.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]},mat3.equals=function(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],a6=a[6],a7=a[7],a8=a[8],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=a[6],b7=b[7],b8=b[8];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=glMatrix.EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=glMatrix.EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))&&Math.abs(a6-b6)<=glMatrix.EPSILON*Math.max(1,Math.abs(a6),Math.abs(b6))&&Math.abs(a7-b7)<=glMatrix.EPSILON*Math.max(1,Math.abs(a7),Math.abs(b7))&&Math.abs(a8-b8)<=glMatrix.EPSILON*Math.max(1,Math.abs(a8),Math.abs(b8))},module.exports=mat3},function(module,exports,__webpack_require__){var glMatrix=__webpack_require__(3),vec3={};vec3.create=function(){var out=new glMatrix.ARRAY_TYPE(3);return out[0]=0,out[1]=0,out[2]=0,out},vec3.clone=function(a){var out=new glMatrix.ARRAY_TYPE(3);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out},vec3.fromValues=function(x,y,z){var out=new glMatrix.ARRAY_TYPE(3);return out[0]=x,out[1]=y,out[2]=z,out},vec3.copy=function(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out},vec3.set=function(out,x,y,z){return out[0]=x,out[1]=y,out[2]=z,out},vec3.add=function(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out},vec3.subtract=function(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out},vec3.sub=vec3.subtract,vec3.multiply=function(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out[2]=a[2]*b[2],out},vec3.mul=vec3.multiply,vec3.divide=function(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out[2]=a[2]/b[2],out},vec3.div=vec3.divide,vec3.ceil=function(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out[2]=Math.ceil(a[2]),out},vec3.floor=function(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out[2]=Math.floor(a[2]),out},vec3.min=function(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out[2]=Math.min(a[2],b[2]),out},vec3.max=function(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out[2]=Math.max(a[2],b[2]),out},vec3.round=function(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out[2]=Math.round(a[2]),out},vec3.scale=function(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out},vec3.scaleAndAdd=function(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out},vec3.distance=function(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return Math.sqrt(x*x+y*y+z*z)},vec3.dist=vec3.distance,vec3.squaredDistance=function(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return x*x+y*y+z*z},vec3.sqrDist=vec3.squaredDistance,vec3.length=function(a){var x=a[0],y=a[1],z=a[2];return Math.sqrt(x*x+y*y+z*z)},vec3.len=vec3.length,vec3.squaredLength=function(a){var x=a[0],y=a[1],z=a[2];return x*x+y*y+z*z},vec3.sqrLen=vec3.squaredLength,vec3.negate=function(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out},vec3.inverse=function(out,a){return out[0]=1/a[0],out[1]=1/a[1],out[2]=1/a[2],out},vec3.normalize=function(out,a){var x=a[0],y=a[1],z=a[2],len=x*x+y*y+z*z;return len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len,out[2]=a[2]*len),out},vec3.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},vec3.cross=function(out,a,b){var ax=a[0],ay=a[1],az=a[2],bx=b[0],by=b[1],bz=b[2];return out[0]=ay*bz-az*by,out[1]=az*bx-ax*bz,out[2]=ax*by-ay*bx,out},vec3.lerp=function(out,a,b,t){var ax=a[0],ay=a[1],az=a[2];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out[2]=az+t*(b[2]-az),out},vec3.hermite=function(out,a,b,c,d,t){var factorTimes2=t*t,factor1=factorTimes2*(2*t-3)+1,factor2=factorTimes2*(t-2)+t,factor3=factorTimes2*(t-1),factor4=factorTimes2*(3-2*t);return out[0]=a[0]*factor1+b[0]*factor2+c[0]*factor3+d[0]*factor4,out[1]=a[1]*factor1+b[1]*factor2+c[1]*factor3+d[1]*factor4,out[2]=a[2]*factor1+b[2]*factor2+c[2]*factor3+d[2]*factor4,out},vec3.bezier=function(out,a,b,c,d,t){var inverseFactor=1-t,inverseFactorTimesTwo=inverseFactor*inverseFactor,factorTimes2=t*t,factor1=inverseFactorTimesTwo*inverseFactor,factor2=3*t*inverseFactorTimesTwo,factor3=3*factorTimes2*inverseFactor,factor4=factorTimes2*t;return out[0]=a[0]*factor1+b[0]*factor2+c[0]*factor3+d[0]*factor4,out[1]=a[1]*factor1+b[1]*factor2+c[1]*factor3+d[1]*factor4,out[2]=a[2]*factor1+b[2]*factor2+c[2]*factor3+d[2]*factor4,out},vec3.random=function(out,scale){scale=scale||1;var r=2*glMatrix.RANDOM()*Math.PI,z=2*glMatrix.RANDOM()-1,zScale=Math.sqrt(1-z*z)*scale;return out[0]=Math.cos(r)*zScale,out[1]=Math.sin(r)*zScale,out[2]=z*scale,out},vec3.transformMat4=function(out,a,m){var x=a[0],y=a[1],z=a[2],w=m[3]*x+m[7]*y+m[11]*z+m[15];return w=w||1,out[0]=(m[0]*x+m[4]*y+m[8]*z+m[12])/w,out[1]=(m[1]*x+m[5]*y+m[9]*z+m[13])/w,out[2]=(m[2]*x+m[6]*y+m[10]*z+m[14])/w,out},vec3.transformMat3=function(out,a,m){var x=a[0],y=a[1],z=a[2];return out[0]=x*m[0]+y*m[3]+z*m[6],out[1]=x*m[1]+y*m[4]+z*m[7],out[2]=x*m[2]+y*m[5]+z*m[8],out},vec3.transformQuat=function(out,a,q){var x=a[0],y=a[1],z=a[2],qx=q[0],qy=q[1],qz=q[2],qw=q[3],ix=qw*x+qy*z-qz*y,iy=qw*y+qz*x-qx*z,iz=qw*z+qx*y-qy*x,iw=-qx*x-qy*y-qz*z;return out[0]=ix*qw+iw*-qx+iy*-qz-iz*-qy,out[1]=iy*qw+iw*-qy+iz*-qx-ix*-qz,out[2]=iz*qw+iw*-qz+ix*-qy-iy*-qx,out},vec3.rotateX=function(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[0],r[1]=p[1]*Math.cos(c)-p[2]*Math.sin(c),r[2]=p[1]*Math.sin(c)+p[2]*Math.cos(c),out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out},vec3.rotateY=function(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[2]*Math.sin(c)+p[0]*Math.cos(c),r[1]=p[1],r[2]=p[2]*Math.cos(c)-p[0]*Math.sin(c),out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out},vec3.rotateZ=function(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[0]*Math.cos(c)-p[1]*Math.sin(c),r[1]=p[0]*Math.sin(c)+p[1]*Math.cos(c),r[2]=p[2],out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out},vec3.forEach=function(){var vec=vec3.create();return function(a,stride,offset,count,fn,arg){var i,l;for(stride||(stride=3),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],vec[2]=a[i+2],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1],a[i+2]=vec[2];return a}}(),vec3.angle=function(a,b){var tempA=vec3.fromValues(a[0],a[1],a[2]),tempB=vec3.fromValues(b[0],b[1],b[2]);vec3.normalize(tempA,tempA),vec3.normalize(tempB,tempB);var cosine=vec3.dot(tempA,tempB);return cosine>1?0:Math.acos(cosine)},vec3.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"},vec3.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]},vec3.equals=function(a,b){var a0=a[0],a1=a[1],a2=a[2],b0=b[0],b1=b[1],b2=b[2];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))},module.exports=vec3},function(module,exports,__webpack_require__){var glMatrix=__webpack_require__(3),vec4={};vec4.create=function(){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=0,out[1]=0,out[2]=0,out[3]=0,out},vec4.clone=function(a){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out},vec4.fromValues=function(x,y,z,w){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=x,out[1]=y,out[2]=z,out[3]=w,out},vec4.copy=function(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out},vec4.set=function(out,x,y,z,w){return out[0]=x,out[1]=y,out[2]=z,out[3]=w,out},vec4.add=function(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out},vec4.subtract=function(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out},vec4.sub=vec4.subtract,vec4.multiply=function(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out[2]=a[2]*b[2],out[3]=a[3]*b[3],out},vec4.mul=vec4.multiply,vec4.divide=function(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out[2]=a[2]/b[2],out[3]=a[3]/b[3],out},vec4.div=vec4.divide,vec4.ceil=function(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out[2]=Math.ceil(a[2]),out[3]=Math.ceil(a[3]),out},vec4.floor=function(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out[2]=Math.floor(a[2]),out[3]=Math.floor(a[3]),out},vec4.min=function(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out[2]=Math.min(a[2],b[2]),out[3]=Math.min(a[3],b[3]),out},vec4.max=function(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out[2]=Math.max(a[2],b[2]),out[3]=Math.max(a[3],b[3]),out},vec4.round=function(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out[2]=Math.round(a[2]),out[3]=Math.round(a[3]),out},vec4.scale=function(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out},vec4.scaleAndAdd=function(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out},vec4.distance=function(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2],w=b[3]-a[3];return Math.sqrt(x*x+y*y+z*z+w*w)},vec4.dist=vec4.distance,vec4.squaredDistance=function(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2],w=b[3]-a[3];return x*x+y*y+z*z+w*w},vec4.sqrDist=vec4.squaredDistance,vec4.length=function(a){var x=a[0],y=a[1],z=a[2],w=a[3];return Math.sqrt(x*x+y*y+z*z+w*w)},vec4.len=vec4.length,vec4.squaredLength=function(a){var x=a[0],y=a[1],z=a[2],w=a[3];return x*x+y*y+z*z+w*w},vec4.sqrLen=vec4.squaredLength,vec4.negate=function(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=-a[3],out},vec4.inverse=function(out,a){return out[0]=1/a[0],out[1]=1/a[1],out[2]=1/a[2],out[3]=1/a[3],out},vec4.normalize=function(out,a){var x=a[0],y=a[1],z=a[2],w=a[3],len=x*x+y*y+z*z+w*w;return len>0&&(len=1/Math.sqrt(len),out[0]=x*len,out[1]=y*len,out[2]=z*len,out[3]=w*len),out},vec4.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},vec4.lerp=function(out,a,b,t){var ax=a[0],ay=a[1],az=a[2],aw=a[3];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out[2]=az+t*(b[2]-az),out[3]=aw+t*(b[3]-aw),out},vec4.random=function(out,scale){return scale=scale||1,out[0]=glMatrix.RANDOM(),out[1]=glMatrix.RANDOM(),out[2]=glMatrix.RANDOM(),out[3]=glMatrix.RANDOM(),vec4.normalize(out,out),vec4.scale(out,out,scale),out},vec4.transformMat4=function(out,a,m){var x=a[0],y=a[1],z=a[2],w=a[3];return out[0]=m[0]*x+m[4]*y+m[8]*z+m[12]*w,out[1]=m[1]*x+m[5]*y+m[9]*z+m[13]*w,out[2]=m[2]*x+m[6]*y+m[10]*z+m[14]*w,out[3]=m[3]*x+m[7]*y+m[11]*z+m[15]*w,out},vec4.transformQuat=function(out,a,q){var x=a[0],y=a[1],z=a[2],qx=q[0],qy=q[1],qz=q[2],qw=q[3],ix=qw*x+qy*z-qz*y,iy=qw*y+qz*x-qx*z,iz=qw*z+qx*y-qy*x,iw=-qx*x-qy*y-qz*z;return out[0]=ix*qw+iw*-qx+iy*-qz-iz*-qy,out[1]=iy*qw+iw*-qy+iz*-qx-ix*-qz,out[2]=iz*qw+iw*-qz+ix*-qy-iy*-qx,out[3]=a[3],out},vec4.forEach=function(){var vec=vec4.create();return function(a,stride,offset,count,fn,arg){var i,l;for(stride||(stride=4),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],vec[2]=a[i+2],vec[3]=a[i+3],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1],a[i+2]=vec[2],a[i+3]=vec[3];return a}}(),vec4.str=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},vec4.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]},vec4.equals=function(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))},module.exports=vec4},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(gl,shaderProgram,name){return void 0===shaderProgram.cacheAttribLoc&&(shaderProgram.cacheAttribLoc={}),void 0===shaderProgram.cacheAttribLoc[name]&&(shaderProgram.cacheAttribLoc[name]=gl.getAttribLocation(shaderProgram,name)),shaderProgram.cacheAttribLoc[name]}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_parseDds=__webpack_require__(59),_parseDds2=_interopRequireDefault(_parseDds),gl=void 0,GLCubeTexture=function(){function GLCubeTexture(mSource){var mParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},isCubeTexture=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(_classCallCheck(this,GLCubeTexture),gl=_GLTool2.default.gl,isCubeTexture)return void(this.texture=mSource);var hasMipmaps=mSource.length>6;mSource[0].mipmapCount&&(hasMipmaps=mSource[0].mipmapCount>1),this.texture=gl.createTexture(),this.magFilter=mParameters.magFilter||gl.LINEAR,this.minFilter=mParameters.minFilter||gl.LINEAR_MIPMAP_LINEAR,this.wrapS=mParameters.wrapS||gl.CLAMP_TO_EDGE,this.wrapT=mParameters.wrapT||gl.CLAMP_TO_EDGE,hasMipmaps||this.minFilter!=gl.LINEAR_MIPMAP_LINEAR||(this.minFilter=gl.LINEAR),gl.bindTexture(gl.TEXTURE_CUBE_MAP,this.texture);var targets=[gl.TEXTURE_CUBE_MAP_POSITIVE_X,gl.TEXTURE_CUBE_MAP_NEGATIVE_X,gl.TEXTURE_CUBE_MAP_POSITIVE_Y,gl.TEXTURE_CUBE_MAP_NEGATIVE_Y,gl.TEXTURE_CUBE_MAP_POSITIVE_Z,gl.TEXTURE_CUBE_MAP_NEGATIVE_Z],numLevels=1,index=0;if(numLevels=mSource.length/6,this.numLevels=numLevels,hasMipmaps)for(var j=0;j<6;j++)for(var i=0;i<numLevels;i++)gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!1),index=j*numLevels+i,mSource[index].shape?gl.texImage2D(targets[j],i,gl.RGBA,mSource[index].shape[0],mSource[index].shape[1],0,gl.RGBA,gl.FLOAT,mSource[index].data):gl.texImage2D(targets[j],i,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,mSource[index]),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_T,this.wrapT),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MAG_FILTER,this.magFilter),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MIN_FILTER,this.minFilter);else{for(var _index=0,_j=0;_j<6;_j++)_index=_j*numLevels,gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!1),mSource[_index].shape?gl.texImage2D(targets[_j],0,gl.RGBA,mSource[_index].shape[0],mSource[_index].shape[1],0,gl.RGBA,gl.FLOAT,mSource[_index].data):gl.texImage2D(targets[_j],0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,mSource[_index]),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_T,this.wrapT),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MAG_FILTER,this.magFilter),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MIN_FILTER,this.minFilter);gl.generateMipmap(gl.TEXTURE_CUBE_MAP)}gl.bindTexture(gl.TEXTURE_CUBE_MAP,null)}return _createClass(GLCubeTexture,[{key:"bind",value:function(){var index=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;_GLTool2.default.shader&&(gl.activeTexture(gl.TEXTURE0+index),gl.bindTexture(gl.TEXTURE_CUBE_MAP,this.texture),gl.uniform1i(_GLTool2.default.shader.uniformTextures[index],index),this._bindIndex=index)}},{key:"unbind",value:function(){gl.bindTexture(gl.TEXTURE_CUBE_MAP,null)}}]),GLCubeTexture}();GLCubeTexture.parseDDS=function(mArrayBuffer){var ddsInfos=(0,_parseDds2.default)(mArrayBuffer),flags=ddsInfos.flags,header=new Int32Array(mArrayBuffer,0,31),mipmapCount=1;131072&flags&&(mipmapCount=Math.max(1,header[7]));var sources=ddsInfos.images.map(function(img){return{data:new Float32Array(mArrayBuffer.slice(img.offset,img.offset+img.length)),shape:img.shape,mipmapCount:mipmapCount}});return new GLCubeTexture(sources)},exports.default=GLCubeTexture},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),supportsCustomEvents=!0;try{document.createEvent("CustomEvent");null}catch(e){supportsCustomEvents=!1}var EventDispatcher=function(){function EventDispatcher(){_classCallCheck(this,EventDispatcher),this._eventListeners={}}return _createClass(EventDispatcher,[{key:"addEventListener",value:function(aEventType,aFunction){return null!==this._eventListeners&&void 0!==this._eventListeners||(this._eventListeners={}),this._eventListeners[aEventType]||(this._eventListeners[aEventType]=[]),this._eventListeners[aEventType].push(aFunction),this}},{key:"on",value:function(aEventType,aFunction){return this.addEventListener(aEventType,aFunction)}},{key:"removeEventListener",value:function(aEventType,aFunction){null!==this._eventListeners&&void 0!==this._eventListeners||(this._eventListeners={});var currentArray=this._eventListeners[aEventType];if(void 0===currentArray)return this;for(var currentArrayLength=currentArray.length,i=0;i<currentArrayLength;i++)currentArray[i]===aFunction&&(currentArray.splice(i,1),i--,currentArrayLength--);return this}},{key:"off",value:function(aEventType,aFunction){return this.removeEventListener(aEventType,aFunction)}},{key:"dispatchEvent",value:function(aEvent){null!==this._eventListeners&&void 0!==this._eventListeners||(this._eventListeners={});var eventType=aEvent.type;try{null===aEvent.target&&(aEvent.target=this),aEvent.currentTarget=this}catch(theError){var newEvent={type:eventType,detail:aEvent.detail,dispatcher:this};return this.dispatchEvent(newEvent)}var currentEventListeners=this._eventListeners[eventType];if(null!==currentEventListeners&&void 0!==currentEventListeners)for(var currentArray=this._copyArray(currentEventListeners),currentArrayLength=currentArray.length,i=0;i<currentArrayLength;i++){var currentFunction=currentArray[i];currentFunction.call(this,aEvent)}return this}},{key:"dispatchCustomEvent",value:function(aEventType,aDetail){var newEvent=void 0;return supportsCustomEvents?(newEvent=document.createEvent("CustomEvent"),newEvent.dispatcher=this,newEvent.initCustomEvent(aEventType,!1,!1,aDetail)):newEvent={type:aEventType,detail:aDetail,dispatcher:this},this.dispatchEvent(newEvent)}},{key:"trigger",value:function(aEventType,aDetail){return this.dispatchCustomEvent(aEventType,aDetail)}},{key:"_destroy",value:function(){if(null!==this._eventListeners){for(var objectName in this._eventListeners)if(this._eventListeners.hasOwnProperty(objectName)){for(var currentArray=this._eventListeners[objectName],currentArrayLength=currentArray.length,i=0;i<currentArrayLength;i++)currentArray[i]=null;delete this._eventListeners[objectName]}this._eventListeners=null}}},{key:"_copyArray",value:function(aArray){for(var currentArray=new Array(aArray.length),currentArrayLength=currentArray.length,i=0;i<currentArrayLength;i++)currentArray[i]=aArray[i];return currentArray}}]),EventDispatcher}();exports.default=EventDispatcher},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_EaseNumber=__webpack_require__(16),_EaseNumber2=_interopRequireDefault(_EaseNumber),_scheduling=__webpack_require__(8),_scheduling2=_interopRequireDefault(_scheduling),_glMatrix=__webpack_require__(1),getMouse=function(mEvent,mTarget){var o=mTarget||{};return mEvent.touches?(o.x=mEvent.touches[0].pageX,o.y=mEvent.touches[0].pageY):(o.x=mEvent.clientX,o.y=mEvent.clientY),o},OrbitalControl=function(){function OrbitalControl(mTarget){var _this=this,mListenerTarget=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,mRadius=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;_classCallCheck(this,OrbitalControl),this._target=mTarget,this._listenerTarget=mListenerTarget,this._mouse={},this._preMouse={},this.center=_glMatrix.vec3.create(),this._up=_glMatrix.vec3.fromValues(0,1,0),this.radius=new _EaseNumber2.default(mRadius),this.position=_glMatrix.vec3.fromValues(0,0,this.radius.value),this.positionOffset=_glMatrix.vec3.create(),this._rx=new _EaseNumber2.default(0),this._rx.limit(-Math.PI/2,Math.PI/2),this._ry=new _EaseNumber2.default(0),this._preRX=0,this._preRY=0,this._isLockZoom=!1,this._isLockRotation=!1,this._isInvert=!1,this.sensitivity=1,this._wheelBind=function(e){return _this._onWheel(e)},this._downBind=function(e){return _this._onDown(e)},this._moveBind=function(e){return _this._onMove(e)},this._upBind=function(){return _this._onUp()},this.connect(),_scheduling2.default.addEF(function(){return _this._loop()})}return _createClass(OrbitalControl,[{key:"connect",value:function(){this.disconnect(),this._listenerTarget.addEventListener("mousewheel",this._wheelBind),this._listenerTarget.addEventListener("DOMMouseScroll",this._wheelBind),this._listenerTarget.addEventListener("mousedown",this._downBind),this._listenerTarget.addEventListener("touchstart",this._downBind),this._listenerTarget.addEventListener("mousemove",this._moveBind),this._listenerTarget.addEventListener("touchmove",this._moveBind),window.addEventListener("touchend",this._upBind),window.addEventListener("mouseup",this._upBind)}},{key:"disconnect",value:function(){this._listenerTarget.removeEventListener("mousewheel",this._wheelBind),this._listenerTarget.removeEventListener("DOMMouseScroll",this._wheelBind),this._listenerTarget.removeEventListener("mousedown",this._downBind),this._listenerTarget.removeEventListener("touchstart",this._downBind),this._listenerTarget.removeEventListener("mousemove",this._moveBind),this._listenerTarget.removeEventListener("touchmove",this._moveBind),window.removeEventListener("touchend",this._upBind),window.removeEventListener("mouseup",this._upBind)}},{key:"lock",value:function(){var mValue=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLockZoom=mValue,this._isLockRotation=mValue,this._isMouseDown=!1}},{key:"lockZoom",value:function(){var mValue=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLockZoom=mValue}},{key:"lockRotation",value:function(){var mValue=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLockRotation=mValue}},{key:"inverseControl",value:function(){var isInvert=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isInvert=isInvert}},{key:"_onDown",value:function(mEvent){this._isLockRotation||(this._isMouseDown=!0,getMouse(mEvent,this._mouse),getMouse(mEvent,this._preMouse),this._preRX=this._rx.targetValue,this._preRY=this._ry.targetValue)}},{key:"_onMove",value:function(mEvent){if(!this._isLockRotation&&(getMouse(mEvent,this._mouse),mEvent.touches&&mEvent.preventDefault(),this._isMouseDown)){var diffX=-(this._mouse.x-this._preMouse.x);this._isInvert&&(diffX*=-1),this._ry.value=this._preRY-.01*diffX*this.sensitivity;var diffY=-(this._mouse.y-this._preMouse.y);this._isInvert&&(diffY*=-1),this._rx.value=this._preRX-.01*diffY*this.sensitivity}}},{key:"_onUp",value:function(){this._isLockRotation||(this._isMouseDown=!1)}},{key:"_onWheel",value:function(mEvent){if(!this._isLockZoom){var w=mEvent.wheelDelta,d=mEvent.detail,value=0;value=d?w?w/d/40*d>0?1:-1:-d/3:w/120,this.radius.add(2*-value)}}},{key:"_loop",value:function(){this._updatePosition(),this._target&&this._updateCamera()}},{key:"_updatePosition",value:function(){this.position[1]=Math.sin(this._rx.value)*this.radius.value;var tr=Math.cos(this._rx.value)*this.radius.value;this.position[0]=Math.cos(this._ry.value+.5*Math.PI)*tr,this.position[2]=Math.sin(this._ry.value+.5*Math.PI)*tr,_glMatrix.vec3.add(this.position,this.position,this.positionOffset)}},{key:"_updateCamera",value:function(){this._target.lookAt(this.position,this.center,this._up)}},{key:"rx",get:function(){return this._rx}},{key:"ry",get:function(){return this._ry}}]),OrbitalControl}();exports.default=OrbitalControl},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Camera2=__webpack_require__(17),_Camera3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Camera2),_glMatrix=__webpack_require__(1),CameraOrtho=function(_Camera){function CameraOrtho(){_classCallCheck(this,CameraOrtho);var _this=_possibleConstructorReturn(this,(CameraOrtho.__proto__||Object.getPrototypeOf(CameraOrtho)).call(this)),eye=_glMatrix.vec3.clone([0,0,15]),center=_glMatrix.vec3.create(),up=_glMatrix.vec3.clone([0,-1,0]);return _this.lookAt(eye,center,up),_this.ortho(1,-1,1,-1),_this}return _inherits(CameraOrtho,_Camera),_createClass(CameraOrtho,[{key:"setBoundary",value:function(left,right,top,bottom){var near=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,far=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100;this.ortho(left,right,top,bottom,near,far)}},{key:"ortho",value:function(left,right,top,bottom){var near=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,far=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100;this.left=left,this.right=right,this.top=top,this.bottom=bottom,mat4.ortho(this._projection,left,right,top,bottom,near,far)}}]),CameraOrtho}(_Camera3.default);exports.default=CameraOrtho},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),a=_glMatrix.vec3.create(),b=_glMatrix.vec3.create(),c=_glMatrix.vec3.create(),target=_glMatrix.vec3.create(),edge1=_glMatrix.vec3.create(),edge2=_glMatrix.vec3.create(),normal=_glMatrix.vec3.create(),diff=_glMatrix.vec3.create(),Ray=function(){function Ray(mOrigin,mDirection){_classCallCheck(this,Ray),this.origin=_glMatrix.vec3.clone(mOrigin),this.direction=_glMatrix.vec3.clone(mDirection)}return _createClass(Ray,[{key:"at",value:function(t){return _glMatrix.vec3.copy(target,this.direction),_glMatrix.vec3.scale(target,target,t),_glMatrix.vec3.add(target,target,this.origin),target}},{key:"lookAt",value:function(mTarget){_glMatrix.vec3.sub(this.direction,mTarget,this.origin),_glMatrix.vec3.normalize(this.origin,this.origin)}},{key:"closestPointToPoint",value:function(mPoint){var result=_glMatrix.vec3.create();_glMatrix.vec3.sub(mPoint,this.origin);var directionDistance=_glMatrix.vec3.dot(result,this.direction);return directionDistance<0?_glMatrix.vec3.clone(this.origin):(_glMatrix.vec3.copy(result,this.direction),_glMatrix.vec3.scale(result,result,directionDistance),_glMatrix.vec3.add(result,result,this.origin),result)}},{key:"distanceToPoint",value:function(mPoint){return Math.sqrt(this.distanceSqToPoint(mPoint))}},{key:"distanceSqToPoint",value:function(mPoint){var v1=_glMatrix.vec3.create();_glMatrix.vec3.sub(v1,mPoint,this.origin);var directionDistance=_glMatrix.vec3.dot(v1,this.direction);return directionDistance<0?_glMatrix.vec3.squaredDistance(this.origin,mPoint):(_glMatrix.vec3.copy(v1,this.direction),_glMatrix.vec3.scale(v1,v1,directionDistance),_glMatrix.vec3.add(v1,v1,this.origin),_glMatrix.vec3.squaredDistance(v1,mPoint))}},{key:"intersectsSphere",value:function(mCenter,mRadius){return this.distanceToPoint(mCenter)<=mRadius}},{key:"intersectSphere",value:function(mCenter,mRadius){var v1=_glMatrix.vec3.create();_glMatrix.vec3.sub(v1,mCenter,this.origin);var tca=_glMatrix.vec3.dot(v1,this.direction),d2=_glMatrix.vec3.dot(v1,v1)-tca*tca,radius2=mRadius*mRadius;if(d2>radius2)return null;var thc=Math.sqrt(radius2-d2),t0=tca-thc,t1=tca+thc;return t0<0&&t1<0?null:t0<0?this.at(t1):this.at(t0)}},{key:"distanceToPlane",value:function(mPlaneCenter,mNormal){_glMatrix.vec3.dot(mNormal,this.direction)}},{key:"intersectTriangle",value:function(mPA,mPB,mPC){var backfaceCulling=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];_glMatrix.vec3.copy(a,mPA),_glMatrix.vec3.copy(b,mPB),_glMatrix.vec3.copy(c,mPC),_glMatrix.vec3.sub(edge1,b,a),_glMatrix.vec3.sub(edge2,c,a),_glMatrix.vec3.cross(normal,edge1,edge2);var DdN=_glMatrix.vec3.dot(this.direction,normal),sign=void 0;if(DdN>0){if(backfaceCulling)return null;sign=1}else{if(!(DdN<0))return null;sign=-1,DdN=-DdN}_glMatrix.vec3.sub(diff,this.origin,a),_glMatrix.vec3.cross(edge2,diff,edge2);var DdQxE2=sign*_glMatrix.vec3.dot(this.direction,edge2);if(DdQxE2<0)return null;_glMatrix.vec3.cross(edge1,edge1,diff);var DdE1xQ=sign*_glMatrix.vec3.dot(this.direction,edge1);if(DdE1xQ<0)return null;if(DdQxE2+DdE1xQ>DdN)return null;var Qdn=-sign*_glMatrix.vec3.dot(diff,normal);return Qdn<0?null:this.at(Qdn/DdN)}}]),Ray}();exports.default=Ray},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),Object3D=function(){function Object3D(){_classCallCheck(this,Object3D),this._needUpdate=!0,this._x=0,this._y=0,this._z=0,this._sx=1,this._sy=1,this._sz=1,this._rx=0,this._ry=0,this._rz=0,this._position=_glMatrix.vec3.create(),this._scale=_glMatrix.vec3.fromValues(1,1,1),this._rotation=_glMatrix.vec3.create(),this._matrix=_glMatrix.mat4.create(),this._matrixRotation=_glMatrix.mat4.create(),this._matrixScale=_glMatrix.mat4.create(),this._matrixTranslation=_glMatrix.mat4.create(),this._matrixQuaternion=_glMatrix.mat4.create(),this._quat=_glMatrix.quat.create()}return _createClass(Object3D,[{key:"_update",value:function(){_glMatrix.vec3.set(this._scale,this._sx,this._sy,this._sz),_glMatrix.vec3.set(this._rotation,this._rx,this._ry,this._rz),_glMatrix.vec3.set(this._position,this._x,this._y,this._z),_glMatrix.mat4.identity(this._matrixTranslation,this._matrixTranslation),_glMatrix.mat4.identity(this._matrixScale,this._matrixScale),_glMatrix.mat4.identity(this._matrixRotation,this._matrixRotation),_glMatrix.mat4.rotateX(this._matrixRotation,this._matrixRotation,this._rx),_glMatrix.mat4.rotateY(this._matrixRotation,this._matrixRotation,this._ry),_glMatrix.mat4.rotateZ(this._matrixRotation,this._matrixRotation,this._rz),_glMatrix.mat4.fromQuat(this._matrixQuaternion,this._quat),_glMatrix.mat4.mul(this._matrixRotation,this._matrixQuaternion,this._matrixRotation),_glMatrix.mat4.scale(this._matrixScale,this._matrixScale,this._scale),_glMatrix.mat4.translate(this._matrixTranslation,this._matrixTranslation,this._position),_glMatrix.mat4.mul(this._matrix,this._matrixTranslation,this._matrixRotation),_glMatrix.mat4.mul(this._matrix,this._matrix,this._matrixScale),this._needUpdate=!1}},{key:"setRotationFromQuaternion",value:function(mQuat){_glMatrix.quat.copy(this._quat,mQuat),this._needUpdate=!0}},{key:"matrix",get:function(){return this._needUpdate&&this._update(),this._matrix}},{key:"x",get:function(){return this._x},set:function(mValue){this._needUpdate=!0,this._x=mValue}},{key:"y",get:function(){return this._y},set:function(mValue){this._needUpdate=!0,this._y=mValue}},{key:"z",get:function(){return this._z},set:function(mValue){this._needUpdate=!0,this._z=mValue}},{key:"scaleX",get:function(){return this._sx},set:function(mValue){this._needUpdate=!0,this._sx=mValue}},{key:"scaleY",get:function(){return this._sy},set:function(mValue){this._needUpdate=!0,this._sy=mValue}},{key:"scaleZ",get:function(){return this._sz},set:function(mValue){this._needUpdate=!0,this._sz=mValue}},{key:"rotationX",get:function(){return this._rx},set:function(mValue){this._needUpdate=!0,this._rx=mValue}},{key:"rotationY",get:function(){return this._ry},set:function(mValue){this._needUpdate=!0,this._ry=mValue}},{key:"rotationZ",get:function(){return this._rz},set:function(mValue){this._needUpdate=!0,this._rz=mValue}}]),Object3D}();exports.default=Object3D},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _simpleColor=__webpack_require__(11),_simpleColor2=_interopRequireDefault(_simpleColor),_bigTriangle=__webpack_require__(20),_bigTriangle2=_interopRequireDefault(_bigTriangle),_general=__webpack_require__(34),_general2=_interopRequireDefault(_general),_copy=__webpack_require__(21),_copy2=_interopRequireDefault(_copy),_basic=__webpack_require__(13),_basic2=_interopRequireDefault(_basic),_skybox=__webpack_require__(35),_skybox2=_interopRequireDefault(_skybox),_skybox3=__webpack_require__(36),_skybox4=_interopRequireDefault(_skybox3),ShaderLibs={simpleColorFrag:_simpleColor2.default,bigTriangleVert:_bigTriangle2.default,generalVert:_general2.default,copyFrag:_copy2.default,basicVert:_basic2.default,skyboxVert:_skybox2.default,skyboxFrag:_skybox4.default};exports.default=ShaderLibs},function(module,exports){module.exports="// generalWithNormal.vert\n\n#define SHADER_NAME GENERAL_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec3 position;\nuniform vec3 scale;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tvec3 pos      = aVertexPosition * scale;\n\tpos           += position;\n\tgl_Position   = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(pos, 1.0);\n\t\n\tvTextureCoord = aTextureCoord;\n\tvNormal       = normalize(uNormalMatrix * aNormal);\n}"},function(module,exports){module.exports="// basic.vert\n\n#define SHADER_NAME SKYBOX_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vVertex;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tmat4 matView = uViewMatrix;\n\tmatView[3][0] = 0.0;\n\tmatView[3][1] = 0.0;\n\tmatView[3][2] = 0.0;\n\t\n\tgl_Position = uProjectionMatrix * matView * uModelMatrix * vec4(aVertexPosition, 1.0);\n\tvTextureCoord = aTextureCoord;\n\t\n\tvVertex = aVertexPosition;\n\tvNormal = aNormal;\n}"},function(module,exports){module.exports="// basic.frag\n\n#define SHADER_NAME SKYBOX_FRAGMENT\n\nprecision mediump float;\n#define GLSLIFY 1\nuniform samplerCube texture;\nvarying vec2 vTextureCoord;\nvarying vec3 vVertex;\n\nvoid main(void) {\n    gl_FragColor = textureCube(texture, vVertex);\n}"},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),PassMacro=function(){function PassMacro(){_classCallCheck(this,PassMacro),this._passes=[]}return _createClass(PassMacro,[{key:"addPass",value:function(pass){this._passes.push(pass)}},{key:"passes",get:function(){return this._passes}}]),PassMacro}();exports.default=PassMacro},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _PassBlurBase2=__webpack_require__(39),_PassBlurBase3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_PassBlurBase2),PassVBlur=function(_PassBlurBase){function PassVBlur(){var mQuality=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,mWidth=arguments[1],mHeight=arguments[2],mParams=arguments[3];return _classCallCheck(this,PassVBlur),_possibleConstructorReturn(this,(PassVBlur.__proto__||Object.getPrototypeOf(PassVBlur)).call(this,mQuality,[0,1],mWidth,mHeight,mParams))}return _inherits(PassVBlur,_PassBlurBase),PassVBlur}(_PassBlurBase3.default);exports.default=PassVBlur},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Pass2=__webpack_require__(10),_Pass3=_interopRequireDefault(_Pass2),fsBlur5=__webpack_require__(75),fsBlur9=__webpack_require__(76),fsBlur13=__webpack_require__(77),PassBlurBase=function(_Pass){function PassBlurBase(){var mQuality=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,mDirection=arguments[1],mWidth=arguments[2],mHeight=arguments[3],mParams=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};_classCallCheck(this,PassBlurBase);var fs=void 0;switch(mQuality){case 5:default:fs=fsBlur5;break;case 9:fs=fsBlur9;break;case 13:fs=fsBlur13}var _this=_possibleConstructorReturn(this,(PassBlurBase.__proto__||Object.getPrototypeOf(PassBlurBase)).call(this,fs,mWidth,mHeight,mParams));return _this.uniform("uDirection",mDirection),_this.uniform("uResolution",[_GLTool2.default.width,_GLTool2.default.height]),_this}return _inherits(PassBlurBase,_Pass),PassBlurBase}(_Pass3.default);exports.default=PassBlurBase},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _PassBlurBase2=__webpack_require__(39),_PassBlurBase3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_PassBlurBase2),PassHBlur=function(_PassBlurBase){function PassHBlur(){var mQuality=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,mWidth=arguments[1],mHeight=arguments[2],mParams=arguments[3];return _classCallCheck(this,PassHBlur),_possibleConstructorReturn(this,(PassHBlur.__proto__||Object.getPrototypeOf(PassHBlur)).call(this,mQuality,[1,0],mWidth,mHeight,mParams))}return _inherits(PassHBlur,_PassBlurBase),PassHBlur}(_PassBlurBase3.default);exports.default=PassHBlur},function(module,exports){module.exports="// fxaa.frag\n\n#define SHADER_NAME FXAA\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform vec2 uResolution;\n\n\nfloat FXAA_SUBPIX_SHIFT = 1.0/4.0;\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#define FXAA_SPAN_MAX     8.0\n\n\nvec4 applyFXAA(sampler2D tex) {\n    vec4 color;\n    vec2 fragCoord = gl_FragCoord.xy;\n    vec3 rgbNW = texture2D(tex, (fragCoord + vec2(-1.0, -1.0)) * uResolution).xyz;\n    vec3 rgbNE = texture2D(tex, (fragCoord + vec2(1.0, -1.0)) * uResolution).xyz;\n    vec3 rgbSW = texture2D(tex, (fragCoord + vec2(-1.0, 1.0)) * uResolution).xyz;\n    vec3 rgbSE = texture2D(tex, (fragCoord + vec2(1.0, 1.0)) * uResolution).xyz;\n    vec3 rgbM  = texture2D(tex, fragCoord  * uResolution).xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * uResolution;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * uResolution + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * uResolution + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * uResolution + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * uResolution + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, 1.0);\n    else\n        color = vec4(rgbB, 1.0);\n    return color;\n}\n\nvoid main(void) {\n \tvec4 color = applyFXAA(texture);\n    gl_FragColor = color;\n}"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var assetsToLoad=[{id:"pointer",url:"assets/obj/pointer.obj",type:"text"},{id:"pyramid",url:"assets/obj/pyramid.obj",type:"text"},{id:"kid",url:"assets/img/kid.jpg",type:"jpg"},{id:"logo_vr",url:"assets/img/logo_vr.png",type:"png"},{id:"trace",url:"assets/img/trace.png",type:"png"}];exports.default=assetsToLoad},function(module,exports,__webpack_require__){"use strict";function Emitter(){EventEmitter.call(this),this.setMaxListeners(20)}var EventEmitter=__webpack_require__(22).EventEmitter;Emitter.prototype=Object.create(EventEmitter.prototype),Emitter.prototype.constructor=Emitter,Emitter.prototype.off=function(type,listener){return listener?this.removeListener(type,listener):type?this.removeAllListeners(type):this.removeAllListeners()},module.exports=Emitter},function(module,exports,__webpack_require__){"use strict";module.exports={mbs:0,secs:0,update:function(request,startTime,url,log){var length,headers=request.getAllResponseHeaders();if(headers){var match=headers.match(/content-length: (\d+)/i);match&&match.length&&(length=match[1])}if(length){length=parseInt(length,10);var mbs=length/1024/1024,secs=(Date.now()-startTime)/1e3;this.secs+=secs,this.mbs+=mbs,log&&this.log(url,mbs,secs)}},log:function(url,mbs,secs){if(url){url.substr(url.lastIndexOf("/")+1),mbs.toFixed(2),secs.toFixed(2),(mbs/secs).toFixed(2)}this.mbs.toFixed(2),this.secs.toFixed(2),this.getMbps().toFixed(2)},getMbps:function(){return this.mbs/this.secs}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _init(){if(_assetList2.default.length>0){document.body.classList.add("isLoading");new _assetsLoader2.default({assets:_assetList2.default}).on("error",function(error){}).on("progress",function(p){var loader=document.body.querySelector(".Loading-Bar");loader&&(loader.style.width=100*p+"%")}).on("complete",_onImageLoaded).start()}else _initVR()}function _onImageLoaded(o){window.assets=o,document.body.querySelector(".Loading-Bar").style.width="100%",_initVR(),setTimeout(function(){document.body.classList.remove("isLoading")},250)}function _initVR(){_VRUtils2.default.init(function(vrDisplay){return _onVR(vrDisplay)})}function _onVR(vrDisplay){if(null!=vrDisplay&&_VRUtils2.default.canPresent){document.body.classList.add("hasVR");document.body.querySelector("#enterVr").addEventListener("click",function(){_VRUtils2.default.present(_alfrid.GL.canvas,function(){document.body.classList.add("present-vr"),scene.resize()})})}_init3D()}function _init3D(){var canvas=document.createElement("canvas");canvas.className="Main-Canvas",document.body.appendChild(canvas),_alfrid.GL.init(canvas,{ignoreWebgl2:!0}),_alfrid.GL.enableAlphaBlending(),_Assets2.default.init(),scene=new _SceneApp2.default;var stats=new _stats2.default;document.body.appendChild(stats.domElement),_alfrid2.default.Scheduler.addEF(function(){return stats.update()})}__webpack_require__(46);var _alfrid=__webpack_require__(5),_alfrid2=_interopRequireDefault(_alfrid),_SceneApp=__webpack_require__(94),_SceneApp2=_interopRequireDefault(_SceneApp),_assetsLoader=__webpack_require__(109),_assetsLoader2=_interopRequireDefault(_assetsLoader),_datGui=__webpack_require__(113),_stats=(_interopRequireDefault(_datGui),__webpack_require__(116)),_stats2=_interopRequireDefault(_stats),_assetList=__webpack_require__(42),_assetList2=_interopRequireDefault(_assetList),_Assets=__webpack_require__(12),_Assets2=_interopRequireDefault(_Assets),_VRUtils=__webpack_require__(9),_VRUtils2=_interopRequireDefault(_VRUtils);document.body?_init():window.addEventListener("DOMContentLoaded",_init),window.params={gamma:2.2,exposure:5};var scene=void 0},function(module,exports){},function(module,exports,__webpack_require__){var glMatrix=__webpack_require__(3),mat2={};mat2.create=function(){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out},mat2.clone=function(a){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out},mat2.copy=function(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out},mat2.identity=function(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out},mat2.fromValues=function(m00,m01,m10,m11){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=m00,out[1]=m01,out[2]=m10,out[3]=m11,out},mat2.set=function(out,m00,m01,m10,m11){return out[0]=m00,out[1]=m01,out[2]=m10,out[3]=m11,out},mat2.transpose=function(out,a){if(out===a){var a1=a[1];out[1]=a[2],out[2]=a1}else out[0]=a[0],out[1]=a[2],out[2]=a[1],out[3]=a[3];return out},mat2.invert=function(out,a){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],det=a0*a3-a2*a1;return det?(det=1/det,out[0]=a3*det,out[1]=-a1*det,out[2]=-a2*det,out[3]=a0*det,out):null},mat2.adjoint=function(out,a){var a0=a[0];return out[0]=a[3],out[1]=-a[1],out[2]=-a[2],out[3]=a0,out},mat2.determinant=function(a){return a[0]*a[3]-a[2]*a[1]},mat2.multiply=function(out,a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return out[0]=a0*b0+a2*b1,out[1]=a1*b0+a3*b1,out[2]=a0*b2+a2*b3,out[3]=a1*b2+a3*b3,out},mat2.mul=mat2.multiply,mat2.rotate=function(out,a,rad){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],s=Math.sin(rad),c=Math.cos(rad);return out[0]=a0*c+a2*s,out[1]=a1*c+a3*s,out[2]=a0*-s+a2*c,out[3]=a1*-s+a3*c,out},mat2.scale=function(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],v0=v[0],v1=v[1];return out[0]=a0*v0,out[1]=a1*v0,out[2]=a2*v1,out[3]=a3*v1,out},mat2.fromRotation=function(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=-s,out[3]=c,out},mat2.fromScaling=function(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=v[1],out},mat2.str=function(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},mat2.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2))},mat2.LDU=function(L,D,U,a){return L[2]=a[2]/a[0],U[0]=a[0],U[1]=a[1],U[3]=a[3]-L[2]*U[1],[L,D,U]},mat2.add=function(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out},mat2.subtract=function(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out},mat2.sub=mat2.subtract,mat2.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]},mat2.equals=function(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))},mat2.multiplyScalar=function(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out},mat2.multiplyScalarAndAdd=function(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out},module.exports=mat2},function(module,exports,__webpack_require__){var glMatrix=__webpack_require__(3),mat2d={};mat2d.create=function(){var out=new glMatrix.ARRAY_TYPE(6);return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=0,out[5]=0,out},mat2d.clone=function(a){var out=new glMatrix.ARRAY_TYPE(6);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out},mat2d.copy=function(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out},mat2d.identity=function(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=0,out[5]=0,out},mat2d.fromValues=function(a,b,c,d,tx,ty){var out=new glMatrix.ARRAY_TYPE(6);return out[0]=a,out[1]=b,out[2]=c,out[3]=d,out[4]=tx,out[5]=ty,out},mat2d.set=function(out,a,b,c,d,tx,ty){return out[0]=a,out[1]=b,out[2]=c,out[3]=d,out[4]=tx,out[5]=ty,out},mat2d.invert=function(out,a){var aa=a[0],ab=a[1],ac=a[2],ad=a[3],atx=a[4],aty=a[5],det=aa*ad-ab*ac;return det?(det=1/det,out[0]=ad*det,out[1]=-ab*det,out[2]=-ac*det,out[3]=aa*det,out[4]=(ac*aty-ad*atx)*det,out[5]=(ab*atx-aa*aty)*det,out):null},mat2d.determinant=function(a){return a[0]*a[3]-a[1]*a[2]},mat2d.multiply=function(out,a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5];return out[0]=a0*b0+a2*b1,out[1]=a1*b0+a3*b1,out[2]=a0*b2+a2*b3,out[3]=a1*b2+a3*b3,out[4]=a0*b4+a2*b5+a4,out[5]=a1*b4+a3*b5+a5,out},mat2d.mul=mat2d.multiply,mat2d.rotate=function(out,a,rad){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],s=Math.sin(rad),c=Math.cos(rad);return out[0]=a0*c+a2*s,out[1]=a1*c+a3*s,out[2]=a0*-s+a2*c,out[3]=a1*-s+a3*c,out[4]=a4,out[5]=a5,out},mat2d.scale=function(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],v0=v[0],v1=v[1];return out[0]=a0*v0,out[1]=a1*v0,out[2]=a2*v1,out[3]=a3*v1,out[4]=a4,out[5]=a5,out},mat2d.translate=function(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],v0=v[0],v1=v[1];return out[0]=a0,out[1]=a1,out[2]=a2,out[3]=a3,out[4]=a0*v0+a2*v1+a4,out[5]=a1*v0+a3*v1+a5,out},mat2d.fromRotation=function(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=-s,out[3]=c,out[4]=0,out[5]=0,out},mat2d.fromScaling=function(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=v[1],out[4]=0,out[5]=0,out},mat2d.fromTranslation=function(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=v[0],out[5]=v[1],out},mat2d.str=function(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"},mat2d.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)},mat2d.add=function(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out},mat2d.subtract=function(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out},mat2d.sub=mat2d.subtract,mat2d.multiplyScalar=function(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out},mat2d.multiplyScalarAndAdd=function(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out},mat2d.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]},mat2d.equals=function(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=glMatrix.EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=glMatrix.EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))},module.exports=mat2d},function(module,exports,__webpack_require__){var glMatrix=__webpack_require__(3),mat4={scalar:{},SIMD:{}};mat4.create=function(){var out=new glMatrix.ARRAY_TYPE(16);return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out},mat4.clone=function(a){var out=new glMatrix.ARRAY_TYPE(16);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out},mat4.copy=function(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out},mat4.fromValues=function(m00,m01,m02,m03,m10,m11,m12,m13,m20,m21,m22,m23,m30,m31,m32,m33){var out=new glMatrix.ARRAY_TYPE(16);return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m03,out[4]=m10,out[5]=m11,out[6]=m12,out[7]=m13,out[8]=m20,out[9]=m21,out[10]=m22,out[11]=m23,out[12]=m30,out[13]=m31,out[14]=m32,out[15]=m33,out},mat4.set=function(out,m00,m01,m02,m03,m10,m11,m12,m13,m20,m21,m22,m23,m30,m31,m32,m33){return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m03,out[4]=m10,out[5]=m11,out[6]=m12,out[7]=m13,out[8]=m20,out[9]=m21,out[10]=m22,out[11]=m23,out[12]=m30,out[13]=m31,out[14]=m32,out[15]=m33,out},mat4.identity=function(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out},mat4.scalar.transpose=function(out,a){if(out===a){var a01=a[1],a02=a[2],a03=a[3],a12=a[6],a13=a[7],a23=a[11];out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a01,out[6]=a[9],out[7]=a[13],out[8]=a02,out[9]=a12,out[11]=a[14],out[12]=a03,out[13]=a13,out[14]=a23}else out[0]=a[0],out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a[1],out[5]=a[5],out[6]=a[9],out[7]=a[13],out[8]=a[2],out[9]=a[6],out[10]=a[10],out[11]=a[14],out[12]=a[3],out[13]=a[7],out[14]=a[11],out[15]=a[15];return out},mat4.SIMD.transpose=function(out,a){var a0,a1,a2,a3,tmp01,tmp23,out0,out1,out2,out3;return a0=SIMD.Float32x4.load(a,0),a1=SIMD.Float32x4.load(a,4),a2=SIMD.Float32x4.load(a,8),a3=SIMD.Float32x4.load(a,12),tmp01=SIMD.Float32x4.shuffle(a0,a1,0,1,4,5),tmp23=SIMD.Float32x4.shuffle(a2,a3,0,1,4,5),out0=SIMD.Float32x4.shuffle(tmp01,tmp23,0,2,4,6),out1=SIMD.Float32x4.shuffle(tmp01,tmp23,1,3,5,7),SIMD.Float32x4.store(out,0,out0),SIMD.Float32x4.store(out,4,out1),tmp01=SIMD.Float32x4.shuffle(a0,a1,2,3,6,7),tmp23=SIMD.Float32x4.shuffle(a2,a3,2,3,6,7),out2=SIMD.Float32x4.shuffle(tmp01,tmp23,0,2,4,6),out3=SIMD.Float32x4.shuffle(tmp01,tmp23,1,3,5,7),SIMD.Float32x4.store(out,8,out2),SIMD.Float32x4.store(out,12,out3),out},mat4.transpose=glMatrix.USE_SIMD?mat4.SIMD.transpose:mat4.scalar.transpose,mat4.scalar.invert=function(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a02*b10-a01*b11-a03*b09)*det,out[2]=(a31*b05-a32*b04+a33*b03)*det,out[3]=(a22*b04-a21*b05-a23*b03)*det,out[4]=(a12*b08-a10*b11-a13*b07)*det,out[5]=(a00*b11-a02*b08+a03*b07)*det,out[6]=(a32*b02-a30*b05-a33*b01)*det,out[7]=(a20*b05-a22*b02+a23*b01)*det,out[8]=(a10*b10-a11*b08+a13*b06)*det,out[9]=(a01*b08-a00*b10-a03*b06)*det,out[10]=(a30*b04-a31*b02+a33*b00)*det,out[11]=(a21*b02-a20*b04-a23*b00)*det,out[12]=(a11*b07-a10*b09-a12*b06)*det,out[13]=(a00*b09-a01*b07+a02*b06)*det,out[14]=(a31*b01-a30*b03-a32*b00)*det,out[15]=(a20*b03-a21*b01+a22*b00)*det,out):null},mat4.SIMD.invert=function(out,a){var row0,row1,row2,row3,tmp1,minor0,minor1,minor2,minor3,det,a0=SIMD.Float32x4.load(a,0),a1=SIMD.Float32x4.load(a,4),a2=SIMD.Float32x4.load(a,8),a3=SIMD.Float32x4.load(a,12);return tmp1=SIMD.Float32x4.shuffle(a0,a1,0,1,4,5),row1=SIMD.Float32x4.shuffle(a2,a3,0,1,4,5),row0=SIMD.Float32x4.shuffle(tmp1,row1,0,2,4,6),row1=SIMD.Float32x4.shuffle(row1,tmp1,1,3,5,7),tmp1=SIMD.Float32x4.shuffle(a0,a1,2,3,6,7),row3=SIMD.Float32x4.shuffle(a2,a3,2,3,6,7),row2=SIMD.Float32x4.shuffle(tmp1,row3,0,2,4,6),row3=SIMD.Float32x4.shuffle(row3,tmp1,1,3,5,7),tmp1=SIMD.Float32x4.mul(row2,row3),tmp1=SIMD.Float32x4.swizzle(tmp1,1,0,3,2),minor0=SIMD.Float32x4.mul(row1,tmp1),minor1=SIMD.Float32x4.mul(row0,tmp1),tmp1=SIMD.Float32x4.swizzle(tmp1,2,3,0,1),minor0=SIMD.Float32x4.sub(SIMD.Float32x4.mul(row1,tmp1),minor0),minor1=SIMD.Float32x4.sub(SIMD.Float32x4.mul(row0,tmp1),minor1),minor1=SIMD.Float32x4.swizzle(minor1,2,3,0,1),tmp1=SIMD.Float32x4.mul(row1,row2),tmp1=SIMD.Float32x4.swizzle(tmp1,1,0,3,2),minor0=SIMD.Float32x4.add(SIMD.Float32x4.mul(row3,tmp1),minor0),minor3=SIMD.Float32x4.mul(row0,tmp1),tmp1=SIMD.Float32x4.swizzle(tmp1,2,3,0,1),minor0=SIMD.Float32x4.sub(minor0,SIMD.Float32x4.mul(row3,tmp1)),minor3=SIMD.Float32x4.sub(SIMD.Float32x4.mul(row0,tmp1),minor3),minor3=SIMD.Float32x4.swizzle(minor3,2,3,0,1),tmp1=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(row1,2,3,0,1),row3),tmp1=SIMD.Float32x4.swizzle(tmp1,1,0,3,2),row2=SIMD.Float32x4.swizzle(row2,2,3,0,1),minor0=SIMD.Float32x4.add(SIMD.Float32x4.mul(row2,tmp1),minor0),minor2=SIMD.Float32x4.mul(row0,tmp1),tmp1=SIMD.Float32x4.swizzle(tmp1,2,3,0,1),minor0=SIMD.Float32x4.sub(minor0,SIMD.Float32x4.mul(row2,tmp1)),minor2=SIMD.Float32x4.sub(SIMD.Float32x4.mul(row0,tmp1),minor2),minor2=SIMD.Float32x4.swizzle(minor2,2,3,0,1),tmp1=SIMD.Float32x4.mul(row0,row1),tmp1=SIMD.Float32x4.swizzle(tmp1,1,0,3,2),minor2=SIMD.Float32x4.add(SIMD.Float32x4.mul(row3,tmp1),minor2),minor3=SIMD.Float32x4.sub(SIMD.Float32x4.mul(row2,tmp1),minor3),tmp1=SIMD.Float32x4.swizzle(tmp1,2,3,0,1),minor2=SIMD.Float32x4.sub(SIMD.Float32x4.mul(row3,tmp1),minor2),minor3=SIMD.Float32x4.sub(minor3,SIMD.Float32x4.mul(row2,tmp1)),tmp1=SIMD.Float32x4.mul(row0,row3),tmp1=SIMD.Float32x4.swizzle(tmp1,1,0,3,2),minor1=SIMD.Float32x4.sub(minor1,SIMD.Float32x4.mul(row2,tmp1)),minor2=SIMD.Float32x4.add(SIMD.Float32x4.mul(row1,tmp1),minor2),tmp1=SIMD.Float32x4.swizzle(tmp1,2,3,0,1),minor1=SIMD.Float32x4.add(SIMD.Float32x4.mul(row2,tmp1),minor1),minor2=SIMD.Float32x4.sub(minor2,SIMD.Float32x4.mul(row1,tmp1)),tmp1=SIMD.Float32x4.mul(row0,row2),tmp1=SIMD.Float32x4.swizzle(tmp1,1,0,3,2),minor1=SIMD.Float32x4.add(SIMD.Float32x4.mul(row3,tmp1),minor1),minor3=SIMD.Float32x4.sub(minor3,SIMD.Float32x4.mul(row1,tmp1)),tmp1=SIMD.Float32x4.swizzle(tmp1,2,3,0,1),minor1=SIMD.Float32x4.sub(minor1,SIMD.Float32x4.mul(row3,tmp1)),minor3=SIMD.Float32x4.add(SIMD.Float32x4.mul(row1,tmp1),minor3),det=SIMD.Float32x4.mul(row0,minor0),det=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(det,2,3,0,1),det),det=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(det,1,0,3,2),det),tmp1=SIMD.Float32x4.reciprocalApproximation(det),det=SIMD.Float32x4.sub(SIMD.Float32x4.add(tmp1,tmp1),SIMD.Float32x4.mul(det,SIMD.Float32x4.mul(tmp1,tmp1))),(det=SIMD.Float32x4.swizzle(det,0,0,0,0))?(SIMD.Float32x4.store(out,0,SIMD.Float32x4.mul(det,minor0)),SIMD.Float32x4.store(out,4,SIMD.Float32x4.mul(det,minor1)),SIMD.Float32x4.store(out,8,SIMD.Float32x4.mul(det,minor2)),SIMD.Float32x4.store(out,12,SIMD.Float32x4.mul(det,minor3)),out):null},mat4.invert=glMatrix.USE_SIMD?mat4.SIMD.invert:mat4.scalar.invert,mat4.scalar.adjoint=function(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return out[0]=a11*(a22*a33-a23*a32)-a21*(a12*a33-a13*a32)+a31*(a12*a23-a13*a22),out[1]=-(a01*(a22*a33-a23*a32)-a21*(a02*a33-a03*a32)+a31*(a02*a23-a03*a22)),out[2]=a01*(a12*a33-a13*a32)-a11*(a02*a33-a03*a32)+a31*(a02*a13-a03*a12),out[3]=-(a01*(a12*a23-a13*a22)-a11*(a02*a23-a03*a22)+a21*(a02*a13-a03*a12)),out[4]=-(a10*(a22*a33-a23*a32)-a20*(a12*a33-a13*a32)+a30*(a12*a23-a13*a22)),out[5]=a00*(a22*a33-a23*a32)-a20*(a02*a33-a03*a32)+a30*(a02*a23-a03*a22),out[6]=-(a00*(a12*a33-a13*a32)-a10*(a02*a33-a03*a32)+a30*(a02*a13-a03*a12)),out[7]=a00*(a12*a23-a13*a22)-a10*(a02*a23-a03*a22)+a20*(a02*a13-a03*a12),out[8]=a10*(a21*a33-a23*a31)-a20*(a11*a33-a13*a31)+a30*(a11*a23-a13*a21),out[9]=-(a00*(a21*a33-a23*a31)-a20*(a01*a33-a03*a31)+a30*(a01*a23-a03*a21)),out[10]=a00*(a11*a33-a13*a31)-a10*(a01*a33-a03*a31)+a30*(a01*a13-a03*a11),out[11]=-(a00*(a11*a23-a13*a21)-a10*(a01*a23-a03*a21)+a20*(a01*a13-a03*a11)),out[12]=-(a10*(a21*a32-a22*a31)-a20*(a11*a32-a12*a31)+a30*(a11*a22-a12*a21)),out[13]=a00*(a21*a32-a22*a31)-a20*(a01*a32-a02*a31)+a30*(a01*a22-a02*a21),out[14]=-(a00*(a11*a32-a12*a31)-a10*(a01*a32-a02*a31)+a30*(a01*a12-a02*a11)),out[15]=a00*(a11*a22-a12*a21)-a10*(a01*a22-a02*a21)+a20*(a01*a12-a02*a11),out},mat4.SIMD.adjoint=function(out,a){var a0,a1,a2,a3,row0,row1,row2,row3,tmp1,minor0,minor1,minor2,minor3,a0=SIMD.Float32x4.load(a,0),a1=SIMD.Float32x4.load(a,4),a2=SIMD.Float32x4.load(a,8),a3=SIMD.Float32x4.load(a,12);return tmp1=SIMD.Float32x4.shuffle(a0,a1,0,1,4,5),row1=SIMD.Float32x4.shuffle(a2,a3,0,1,4,5),row0=SIMD.Float32x4.shuffle(tmp1,row1,0,2,4,6),row1=SIMD.Float32x4.shuffle(row1,tmp1,1,3,5,7),tmp1=SIMD.Float32x4.shuffle(a0,a1,2,3,6,7),row3=SIMD.Float32x4.shuffle(a2,a3,2,3,6,7),row2=SIMD.Float32x4.shuffle(tmp1,row3,0,2,4,6),row3=SIMD.Float32x4.shuffle(row3,tmp1,1,3,5,7),tmp1=SIMD.Float32x4.mul(row2,row3),tmp1=SIMD.Float32x4.swizzle(tmp1,1,0,3,2),minor0=SIMD.Float32x4.mul(row1,tmp1),minor1=SIMD.Float32x4.mul(row0,tmp1),tmp1=SIMD.Float32x4.swizzle(tmp1,2,3,0,1),minor0=SIMD.Float32x4.sub(SIMD.Float32x4.mul(row1,tmp1),minor0),minor1=SIMD.Float32x4.sub(SIMD.Float32x4.mul(row0,tmp1),minor1),minor1=SIMD.Float32x4.swizzle(minor1,2,3,0,1),tmp1=SIMD.Float32x4.mul(row1,row2),tmp1=SIMD.Float32x4.swizzle(tmp1,1,0,3,2),minor0=SIMD.Float32x4.add(SIMD.Float32x4.mul(row3,tmp1),minor0),minor3=SIMD.Float32x4.mul(row0,tmp1),tmp1=SIMD.Float32x4.swizzle(tmp1,2,3,0,1),minor0=SIMD.Float32x4.sub(minor0,SIMD.Float32x4.mul(row3,tmp1)),minor3=SIMD.Float32x4.sub(SIMD.Float32x4.mul(row0,tmp1),minor3),minor3=SIMD.Float32x4.swizzle(minor3,2,3,0,1),tmp1=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(row1,2,3,0,1),row3),tmp1=SIMD.Float32x4.swizzle(tmp1,1,0,3,2),row2=SIMD.Float32x4.swizzle(row2,2,3,0,1),minor0=SIMD.Float32x4.add(SIMD.Float32x4.mul(row2,tmp1),minor0),minor2=SIMD.Float32x4.mul(row0,tmp1),tmp1=SIMD.Float32x4.swizzle(tmp1,2,3,0,1),minor0=SIMD.Float32x4.sub(minor0,SIMD.Float32x4.mul(row2,tmp1)),minor2=SIMD.Float32x4.sub(SIMD.Float32x4.mul(row0,tmp1),minor2),minor2=SIMD.Float32x4.swizzle(minor2,2,3,0,1),tmp1=SIMD.Float32x4.mul(row0,row1),tmp1=SIMD.Float32x4.swizzle(tmp1,1,0,3,2),minor2=SIMD.Float32x4.add(SIMD.Float32x4.mul(row3,tmp1),minor2),minor3=SIMD.Float32x4.sub(SIMD.Float32x4.mul(row2,tmp1),minor3),tmp1=SIMD.Float32x4.swizzle(tmp1,2,3,0,1),minor2=SIMD.Float32x4.sub(SIMD.Float32x4.mul(row3,tmp1),minor2),minor3=SIMD.Float32x4.sub(minor3,SIMD.Float32x4.mul(row2,tmp1)),tmp1=SIMD.Float32x4.mul(row0,row3),tmp1=SIMD.Float32x4.swizzle(tmp1,1,0,3,2),minor1=SIMD.Float32x4.sub(minor1,SIMD.Float32x4.mul(row2,tmp1)),minor2=SIMD.Float32x4.add(SIMD.Float32x4.mul(row1,tmp1),minor2),tmp1=SIMD.Float32x4.swizzle(tmp1,2,3,0,1),minor1=SIMD.Float32x4.add(SIMD.Float32x4.mul(row2,tmp1),minor1),minor2=SIMD.Float32x4.sub(minor2,SIMD.Float32x4.mul(row1,tmp1)),tmp1=SIMD.Float32x4.mul(row0,row2),tmp1=SIMD.Float32x4.swizzle(tmp1,1,0,3,2),minor1=SIMD.Float32x4.add(SIMD.Float32x4.mul(row3,tmp1),minor1),minor3=SIMD.Float32x4.sub(minor3,SIMD.Float32x4.mul(row1,tmp1)),tmp1=SIMD.Float32x4.swizzle(tmp1,2,3,0,1),minor1=SIMD.Float32x4.sub(minor1,SIMD.Float32x4.mul(row3,tmp1)),minor3=SIMD.Float32x4.add(SIMD.Float32x4.mul(row1,tmp1),minor3),SIMD.Float32x4.store(out,0,minor0),SIMD.Float32x4.store(out,4,minor1),SIMD.Float32x4.store(out,8,minor2),SIMD.Float32x4.store(out,12,minor3),out},mat4.adjoint=glMatrix.USE_SIMD?mat4.SIMD.adjoint:mat4.scalar.adjoint,mat4.determinant=function(a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return(a00*a11-a01*a10)*(a22*a33-a23*a32)-(a00*a12-a02*a10)*(a21*a33-a23*a31)+(a00*a13-a03*a10)*(a21*a32-a22*a31)+(a01*a12-a02*a11)*(a20*a33-a23*a30)-(a01*a13-a03*a11)*(a20*a32-a22*a30)+(a02*a13-a03*a12)*(a20*a31-a21*a30)},mat4.SIMD.multiply=function(out,a,b){var a0=SIMD.Float32x4.load(a,0),a1=SIMD.Float32x4.load(a,4),a2=SIMD.Float32x4.load(a,8),a3=SIMD.Float32x4.load(a,12),b0=SIMD.Float32x4.load(b,0),out0=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b0,0,0,0,0),a0),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b0,1,1,1,1),a1),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b0,2,2,2,2),a2),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b0,3,3,3,3),a3))));SIMD.Float32x4.store(out,0,out0);var b1=SIMD.Float32x4.load(b,4),out1=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b1,0,0,0,0),a0),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b1,1,1,1,1),a1),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b1,2,2,2,2),a2),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b1,3,3,3,3),a3))));SIMD.Float32x4.store(out,4,out1);var b2=SIMD.Float32x4.load(b,8),out2=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b2,0,0,0,0),a0),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b2,1,1,1,1),a1),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b2,2,2,2,2),a2),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b2,3,3,3,3),a3))));SIMD.Float32x4.store(out,8,out2);var b3=SIMD.Float32x4.load(b,12),out3=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b3,0,0,0,0),a0),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b3,1,1,1,1),a1),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b3,2,2,2,2),a2),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b3,3,3,3,3),a3))));return SIMD.Float32x4.store(out,12,out3),out},mat4.scalar.multiply=function(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return out[0]=b0*a00+b1*a10+b2*a20+b3*a30,out[1]=b0*a01+b1*a11+b2*a21+b3*a31,out[2]=b0*a02+b1*a12+b2*a22+b3*a32,out[3]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[4],b1=b[5],b2=b[6],b3=b[7],out[4]=b0*a00+b1*a10+b2*a20+b3*a30,out[5]=b0*a01+b1*a11+b2*a21+b3*a31,out[6]=b0*a02+b1*a12+b2*a22+b3*a32,out[7]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[8],b1=b[9],b2=b[10],b3=b[11],out[8]=b0*a00+b1*a10+b2*a20+b3*a30,out[9]=b0*a01+b1*a11+b2*a21+b3*a31,out[10]=b0*a02+b1*a12+b2*a22+b3*a32,out[11]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[12],b1=b[13],b2=b[14],b3=b[15],out[12]=b0*a00+b1*a10+b2*a20+b3*a30,out[13]=b0*a01+b1*a11+b2*a21+b3*a31,out[14]=b0*a02+b1*a12+b2*a22+b3*a32,out[15]=b0*a03+b1*a13+b2*a23+b3*a33,out},mat4.multiply=glMatrix.USE_SIMD?mat4.SIMD.multiply:mat4.scalar.multiply,mat4.mul=mat4.multiply,mat4.scalar.translate=function(out,a,v){var a00,a01,a02,a03,a10,a11,a12,a13,a20,a21,a22,a23,x=v[0],y=v[1],z=v[2];return a===out?(out[12]=a[0]*x+a[4]*y+a[8]*z+a[12],out[13]=a[1]*x+a[5]*y+a[9]*z+a[13],out[14]=a[2]*x+a[6]*y+a[10]*z+a[14],out[15]=a[3]*x+a[7]*y+a[11]*z+a[15]):(a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a03,out[4]=a10,out[5]=a11,out[6]=a12,out[7]=a13,out[8]=a20,out[9]=a21,out[10]=a22,out[11]=a23,out[12]=a00*x+a10*y+a20*z+a[12],out[13]=a01*x+a11*y+a21*z+a[13],out[14]=a02*x+a12*y+a22*z+a[14],out[15]=a03*x+a13*y+a23*z+a[15]),out},mat4.SIMD.translate=function(out,a,v){var a0=SIMD.Float32x4.load(a,0),a1=SIMD.Float32x4.load(a,4),a2=SIMD.Float32x4.load(a,8),a3=SIMD.Float32x4.load(a,12),vec=SIMD.Float32x4(v[0],v[1],v[2],0);a!==out&&(out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11]),a0=SIMD.Float32x4.mul(a0,SIMD.Float32x4.swizzle(vec,0,0,0,0)),a1=SIMD.Float32x4.mul(a1,SIMD.Float32x4.swizzle(vec,1,1,1,1)),a2=SIMD.Float32x4.mul(a2,SIMD.Float32x4.swizzle(vec,2,2,2,2));var t0=SIMD.Float32x4.add(a0,SIMD.Float32x4.add(a1,SIMD.Float32x4.add(a2,a3)));return SIMD.Float32x4.store(out,12,t0),out},mat4.translate=glMatrix.USE_SIMD?mat4.SIMD.translate:mat4.scalar.translate,mat4.scalar.scale=function(out,a,v){var x=v[0],y=v[1],z=v[2];return out[0]=a[0]*x,out[1]=a[1]*x,out[2]=a[2]*x,out[3]=a[3]*x,out[4]=a[4]*y,out[5]=a[5]*y,out[6]=a[6]*y,out[7]=a[7]*y,out[8]=a[8]*z,out[9]=a[9]*z,out[10]=a[10]*z,out[11]=a[11]*z,out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out},mat4.SIMD.scale=function(out,a,v){var a0,a1,a2,vec=SIMD.Float32x4(v[0],v[1],v[2],0);return a0=SIMD.Float32x4.load(a,0),SIMD.Float32x4.store(out,0,SIMD.Float32x4.mul(a0,SIMD.Float32x4.swizzle(vec,0,0,0,0))),a1=SIMD.Float32x4.load(a,4),SIMD.Float32x4.store(out,4,SIMD.Float32x4.mul(a1,SIMD.Float32x4.swizzle(vec,1,1,1,1))),a2=SIMD.Float32x4.load(a,8),SIMD.Float32x4.store(out,8,SIMD.Float32x4.mul(a2,SIMD.Float32x4.swizzle(vec,2,2,2,2))),out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out},mat4.scale=glMatrix.USE_SIMD?mat4.SIMD.scale:mat4.scalar.scale,mat4.rotate=function(out,a,rad,axis){var s,c,t,a00,a01,a02,a03,a10,a11,a12,a13,a20,a21,a22,a23,b00,b01,b02,b10,b11,b12,b20,b21,b22,x=axis[0],y=axis[1],z=axis[2],len=Math.sqrt(x*x+y*y+z*z);return Math.abs(len)<glMatrix.EPSILON?null:(len=1/len,x*=len,y*=len,z*=len,s=Math.sin(rad),c=Math.cos(rad),t=1-c,a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],b00=x*x*t+c,b01=y*x*t+z*s,b02=z*x*t-y*s,b10=x*y*t-z*s,b11=y*y*t+c,b12=z*y*t+x*s,b20=x*z*t+y*s,b21=y*z*t-x*s,b22=z*z*t+c,out[0]=a00*b00+a10*b01+a20*b02,out[1]=a01*b00+a11*b01+a21*b02,out[2]=a02*b00+a12*b01+a22*b02,out[3]=a03*b00+a13*b01+a23*b02,out[4]=a00*b10+a10*b11+a20*b12,out[5]=a01*b10+a11*b11+a21*b12,out[6]=a02*b10+a12*b11+a22*b12,out[7]=a03*b10+a13*b11+a23*b12,out[8]=a00*b20+a10*b21+a20*b22,out[9]=a01*b20+a11*b21+a21*b22,out[10]=a02*b20+a12*b21+a22*b22,out[11]=a03*b20+a13*b21+a23*b22,a!==out&&(out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out)},mat4.scalar.rotateX=function(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11];return a!==out&&(out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[4]=a10*c+a20*s,out[5]=a11*c+a21*s,out[6]=a12*c+a22*s,out[7]=a13*c+a23*s,out[8]=a20*c-a10*s,out[9]=a21*c-a11*s,out[10]=a22*c-a12*s,out[11]=a23*c-a13*s,out},mat4.SIMD.rotateX=function(out,a,rad){var s=SIMD.Float32x4.splat(Math.sin(rad)),c=SIMD.Float32x4.splat(Math.cos(rad));a!==out&&(out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]);var a_1=SIMD.Float32x4.load(a,4),a_2=SIMD.Float32x4.load(a,8);return SIMD.Float32x4.store(out,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(a_1,c),SIMD.Float32x4.mul(a_2,s))),SIMD.Float32x4.store(out,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a_2,c),SIMD.Float32x4.mul(a_1,s))),out},mat4.rotateX=glMatrix.USE_SIMD?mat4.SIMD.rotateX:mat4.scalar.rotateX,mat4.scalar.rotateY=function(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a20=a[8],a21=a[9],a22=a[10],a23=a[11];return a!==out&&(out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[0]=a00*c-a20*s,out[1]=a01*c-a21*s,out[2]=a02*c-a22*s,out[3]=a03*c-a23*s,out[8]=a00*s+a20*c,out[9]=a01*s+a21*c,out[10]=a02*s+a22*c,out[11]=a03*s+a23*c,out},mat4.SIMD.rotateY=function(out,a,rad){var s=SIMD.Float32x4.splat(Math.sin(rad)),c=SIMD.Float32x4.splat(Math.cos(rad));a!==out&&(out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]);var a_0=SIMD.Float32x4.load(a,0),a_2=SIMD.Float32x4.load(a,8);return SIMD.Float32x4.store(out,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a_0,c),SIMD.Float32x4.mul(a_2,s))),SIMD.Float32x4.store(out,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(a_0,s),SIMD.Float32x4.mul(a_2,c))),out},mat4.rotateY=glMatrix.USE_SIMD?mat4.SIMD.rotateY:mat4.scalar.rotateY,mat4.scalar.rotateZ=function(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7];return a!==out&&(out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[0]=a00*c+a10*s,out[1]=a01*c+a11*s,out[2]=a02*c+a12*s,out[3]=a03*c+a13*s,out[4]=a10*c-a00*s,out[5]=a11*c-a01*s,out[6]=a12*c-a02*s,out[7]=a13*c-a03*s,out},mat4.SIMD.rotateZ=function(out,a,rad){var s=SIMD.Float32x4.splat(Math.sin(rad)),c=SIMD.Float32x4.splat(Math.cos(rad));a!==out&&(out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]);var a_0=SIMD.Float32x4.load(a,0),a_1=SIMD.Float32x4.load(a,4);return SIMD.Float32x4.store(out,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(a_0,c),SIMD.Float32x4.mul(a_1,s))),SIMD.Float32x4.store(out,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a_1,c),SIMD.Float32x4.mul(a_0,s))),out},mat4.rotateZ=glMatrix.USE_SIMD?mat4.SIMD.rotateZ:mat4.scalar.rotateZ,mat4.fromTranslation=function(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out},mat4.fromScaling=function(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=v[1],out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=v[2],out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out},mat4.fromRotation=function(out,rad,axis){var s,c,t,x=axis[0],y=axis[1],z=axis[2],len=Math.sqrt(x*x+y*y+z*z);return Math.abs(len)<glMatrix.EPSILON?null:(len=1/len,x*=len,y*=len,z*=len,s=Math.sin(rad),c=Math.cos(rad),t=1-c,out[0]=x*x*t+c,out[1]=y*x*t+z*s,out[2]=z*x*t-y*s,out[3]=0,out[4]=x*y*t-z*s,out[5]=y*y*t+c,out[6]=z*y*t+x*s,out[7]=0,out[8]=x*z*t+y*s,out[9]=y*z*t-x*s,out[10]=z*z*t+c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out)},mat4.fromXRotation=function(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=c,out[6]=s,out[7]=0,out[8]=0,out[9]=-s,out[10]=c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out},mat4.fromYRotation=function(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=0,out[2]=-s,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=s,out[9]=0,out[10]=c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out},mat4.fromZRotation=function(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=0,out[3]=0,out[4]=-s,out[5]=c,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out},mat4.fromRotationTranslation=function(out,q,v){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-(yy+zz),out[1]=xy+wz,out[2]=xz-wy,out[3]=0,out[4]=xy-wz,out[5]=1-(xx+zz),out[6]=yz+wx,out[7]=0,out[8]=xz+wy,out[9]=yz-wx,out[10]=1-(xx+yy),out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out},mat4.getTranslation=function(out,mat){return out[0]=mat[12],out[1]=mat[13],out[2]=mat[14],out},mat4.getRotation=function(out,mat){var trace=mat[0]+mat[5]+mat[10],S=0;return trace>0?(S=2*Math.sqrt(trace+1),out[3]=.25*S,out[0]=(mat[6]-mat[9])/S,out[1]=(mat[8]-mat[2])/S,out[2]=(mat[1]-mat[4])/S):mat[0]>mat[5]&mat[0]>mat[10]?(S=2*Math.sqrt(1+mat[0]-mat[5]-mat[10]),out[3]=(mat[6]-mat[9])/S,out[0]=.25*S,out[1]=(mat[1]+mat[4])/S,out[2]=(mat[8]+mat[2])/S):mat[5]>mat[10]?(S=2*Math.sqrt(1+mat[5]-mat[0]-mat[10]),out[3]=(mat[8]-mat[2])/S,out[0]=(mat[1]+mat[4])/S,out[1]=.25*S,out[2]=(mat[6]+mat[9])/S):(S=2*Math.sqrt(1+mat[10]-mat[0]-mat[5]),out[3]=(mat[1]-mat[4])/S,out[0]=(mat[8]+mat[2])/S,out[1]=(mat[6]+mat[9])/S,out[2]=.25*S),out},mat4.fromRotationTranslationScale=function(out,q,v,s){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2,sx=s[0],sy=s[1],sz=s[2];return out[0]=(1-(yy+zz))*sx,out[1]=(xy+wz)*sx,out[2]=(xz-wy)*sx,out[3]=0,out[4]=(xy-wz)*sy,out[5]=(1-(xx+zz))*sy,out[6]=(yz+wx)*sy,out[7]=0,out[8]=(xz+wy)*sz,out[9]=(yz-wx)*sz,out[10]=(1-(xx+yy))*sz,out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out},mat4.fromRotationTranslationScaleOrigin=function(out,q,v,s,o){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2,sx=s[0],sy=s[1],sz=s[2],ox=o[0],oy=o[1],oz=o[2];return out[0]=(1-(yy+zz))*sx,out[1]=(xy+wz)*sx,out[2]=(xz-wy)*sx,out[3]=0,out[4]=(xy-wz)*sy,out[5]=(1-(xx+zz))*sy,out[6]=(yz+wx)*sy,out[7]=0,out[8]=(xz+wy)*sz,out[9]=(yz-wx)*sz,out[10]=(1-(xx+yy))*sz,out[11]=0,out[12]=v[0]+ox-(out[0]*ox+out[4]*oy+out[8]*oz),out[13]=v[1]+oy-(out[1]*ox+out[5]*oy+out[9]*oz),out[14]=v[2]+oz-(out[2]*ox+out[6]*oy+out[10]*oz),out[15]=1,out},mat4.fromQuat=function(out,q){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[1]=yx+wz,out[2]=zx-wy,out[3]=0,out[4]=yx-wz,out[5]=1-xx-zz,out[6]=zy+wx,out[7]=0,out[8]=zx+wy,out[9]=zy-wx,out[10]=1-xx-yy,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out},mat4.frustum=function(out,left,right,bottom,top,near,far){var rl=1/(right-left),tb=1/(top-bottom),nf=1/(near-far);return out[0]=2*near*rl,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=2*near*tb,out[6]=0,out[7]=0,out[8]=(right+left)*rl,out[9]=(top+bottom)*tb,out[10]=(far+near)*nf,out[11]=-1,out[12]=0,out[13]=0,out[14]=far*near*2*nf,out[15]=0,out},mat4.perspective=function(out,fovy,aspect,near,far){var f=1/Math.tan(fovy/2),nf=1/(near-far);return out[0]=f/aspect,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=f,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=(far+near)*nf,out[11]=-1,out[12]=0,out[13]=0,out[14]=2*far*near*nf,out[15]=0,out},mat4.perspectiveFromFieldOfView=function(out,fov,near,far){var upTan=Math.tan(fov.upDegrees*Math.PI/180),downTan=Math.tan(fov.downDegrees*Math.PI/180),leftTan=Math.tan(fov.leftDegrees*Math.PI/180),rightTan=Math.tan(fov.rightDegrees*Math.PI/180),xScale=2/(leftTan+rightTan),yScale=2/(upTan+downTan);return out[0]=xScale,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=yScale,out[6]=0,out[7]=0,out[8]=-(leftTan-rightTan)*xScale*.5,out[9]=(upTan-downTan)*yScale*.5,out[10]=far/(near-far),out[11]=-1,out[12]=0,out[13]=0,out[14]=far*near/(near-far),out[15]=0,out},mat4.ortho=function(out,left,right,bottom,top,near,far){var lr=1/(left-right),bt=1/(bottom-top),nf=1/(near-far);return out[0]=-2*lr,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=-2*bt,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=2*nf,out[11]=0,out[12]=(left+right)*lr,out[13]=(top+bottom)*bt,out[14]=(far+near)*nf,out[15]=1,out},mat4.lookAt=function(out,eye,center,up){var x0,x1,x2,y0,y1,y2,z0,z1,z2,len,eyex=eye[0],eyey=eye[1],eyez=eye[2],upx=up[0],upy=up[1],upz=up[2],centerx=center[0],centery=center[1],centerz=center[2];return Math.abs(eyex-centerx)<glMatrix.EPSILON&&Math.abs(eyey-centery)<glMatrix.EPSILON&&Math.abs(eyez-centerz)<glMatrix.EPSILON?mat4.identity(out):(z0=eyex-centerx,z1=eyey-centery,z2=eyez-centerz,len=1/Math.sqrt(z0*z0+z1*z1+z2*z2),z0*=len,z1*=len,z2*=len,x0=upy*z2-upz*z1,x1=upz*z0-upx*z2,x2=upx*z1-upy*z0,len=Math.sqrt(x0*x0+x1*x1+x2*x2),len?(len=1/len,x0*=len,x1*=len,x2*=len):(x0=0,x1=0,x2=0),y0=z1*x2-z2*x1,y1=z2*x0-z0*x2,y2=z0*x1-z1*x0,len=Math.sqrt(y0*y0+y1*y1+y2*y2),len?(len=1/len,y0*=len,y1*=len,y2*=len):(y0=0,y1=0,y2=0),out[0]=x0,out[1]=y0,out[2]=z0,out[3]=0,out[4]=x1,out[5]=y1,out[6]=z1,out[7]=0,out[8]=x2,out[9]=y2,out[10]=z2,out[11]=0,out[12]=-(x0*eyex+x1*eyey+x2*eyez),out[13]=-(y0*eyex+y1*eyey+y2*eyez),out[14]=-(z0*eyex+z1*eyey+z2*eyez),out[15]=1,out)},mat4.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"},mat4.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))},mat4.add=function(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out[6]=a[6]+b[6],out[7]=a[7]+b[7],out[8]=a[8]+b[8],out[9]=a[9]+b[9],out[10]=a[10]+b[10],out[11]=a[11]+b[11],out[12]=a[12]+b[12],out[13]=a[13]+b[13],out[14]=a[14]+b[14],out[15]=a[15]+b[15],out},mat4.subtract=function(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out[6]=a[6]-b[6],out[7]=a[7]-b[7],out[8]=a[8]-b[8],out[9]=a[9]-b[9],out[10]=a[10]-b[10],out[11]=a[11]-b[11],out[12]=a[12]-b[12],out[13]=a[13]-b[13],out[14]=a[14]-b[14],out[15]=a[15]-b[15],out},mat4.sub=mat4.subtract,mat4.multiplyScalar=function(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out[6]=a[6]*b,out[7]=a[7]*b,out[8]=a[8]*b,out[9]=a[9]*b,out[10]=a[10]*b,out[11]=a[11]*b,out[12]=a[12]*b,out[13]=a[13]*b,out[14]=a[14]*b,out[15]=a[15]*b,out},mat4.multiplyScalarAndAdd=function(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out[6]=a[6]+b[6]*scale,out[7]=a[7]+b[7]*scale,out[8]=a[8]+b[8]*scale,out[9]=a[9]+b[9]*scale,out[10]=a[10]+b[10]*scale,out[11]=a[11]+b[11]*scale,out[12]=a[12]+b[12]*scale,out[13]=a[13]+b[13]*scale,out[14]=a[14]+b[14]*scale,out[15]=a[15]+b[15]*scale,out},mat4.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]},mat4.equals=function(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],a6=a[6],a7=a[7],a8=a[8],a9=a[9],a10=a[10],a11=a[11],a12=a[12],a13=a[13],a14=a[14],a15=a[15],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8],b9=b[9],b10=b[10],b11=b[11],b12=b[12],b13=b[13],b14=b[14],b15=b[15];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=glMatrix.EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=glMatrix.EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))&&Math.abs(a6-b6)<=glMatrix.EPSILON*Math.max(1,Math.abs(a6),Math.abs(b6))&&Math.abs(a7-b7)<=glMatrix.EPSILON*Math.max(1,Math.abs(a7),Math.abs(b7))&&Math.abs(a8-b8)<=glMatrix.EPSILON*Math.max(1,Math.abs(a8),Math.abs(b8))&&Math.abs(a9-b9)<=glMatrix.EPSILON*Math.max(1,Math.abs(a9),Math.abs(b9))&&Math.abs(a10-b10)<=glMatrix.EPSILON*Math.max(1,Math.abs(a10),Math.abs(b10))&&Math.abs(a11-b11)<=glMatrix.EPSILON*Math.max(1,Math.abs(a11),Math.abs(b11))&&Math.abs(a12-b12)<=glMatrix.EPSILON*Math.max(1,Math.abs(a12),Math.abs(b12))&&Math.abs(a13-b13)<=glMatrix.EPSILON*Math.max(1,Math.abs(a13),Math.abs(b13))&&Math.abs(a14-b14)<=glMatrix.EPSILON*Math.max(1,Math.abs(a14),Math.abs(b14))&&Math.abs(a15-b15)<=glMatrix.EPSILON*Math.max(1,Math.abs(a15),Math.abs(b15))},module.exports=mat4},function(module,exports,__webpack_require__){var glMatrix=__webpack_require__(3),mat3=__webpack_require__(23),vec3=__webpack_require__(24),vec4=__webpack_require__(25),quat={};quat.create=function(){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out},quat.rotationTo=function(){var tmpvec3=vec3.create(),xUnitVec3=vec3.fromValues(1,0,0),yUnitVec3=vec3.fromValues(0,1,0);return function(out,a,b){var dot=vec3.dot(a,b);return dot<-.999999?(vec3.cross(tmpvec3,xUnitVec3,a),vec3.length(tmpvec3)<1e-6&&vec3.cross(tmpvec3,yUnitVec3,a),vec3.normalize(tmpvec3,tmpvec3),quat.setAxisAngle(out,tmpvec3,Math.PI),out):dot>.999999?(out[0]=0,out[1]=0,out[2]=0,out[3]=1,out):(vec3.cross(tmpvec3,a,b),out[0]=tmpvec3[0],out[1]=tmpvec3[1],out[2]=tmpvec3[2],out[3]=1+dot,quat.normalize(out,out))}}(),quat.setAxes=function(){var matr=mat3.create();return function(out,view,right,up){return matr[0]=right[0],matr[3]=right[1],matr[6]=right[2],matr[1]=up[0],matr[4]=up[1],matr[7]=up[2],matr[2]=-view[0],matr[5]=-view[1],matr[8]=-view[2],quat.normalize(out,quat.fromMat3(out,matr))}}(),quat.clone=vec4.clone,quat.fromValues=vec4.fromValues,quat.copy=vec4.copy,quat.set=vec4.set,quat.identity=function(out){return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out},quat.setAxisAngle=function(out,axis,rad){rad*=.5;var s=Math.sin(rad);return out[0]=s*axis[0],out[1]=s*axis[1],out[2]=s*axis[2],out[3]=Math.cos(rad),out},quat.getAxisAngle=function(out_axis,q){var rad=2*Math.acos(q[3]),s=Math.sin(rad/2);return 0!=s?(out_axis[0]=q[0]/s,out_axis[1]=q[1]/s,out_axis[2]=q[2]/s):(out_axis[0]=1,out_axis[1]=0,out_axis[2]=0),rad},quat.add=vec4.add,quat.multiply=function(out,a,b){var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3];return out[0]=ax*bw+aw*bx+ay*bz-az*by,out[1]=ay*bw+aw*by+az*bx-ax*bz,out[2]=az*bw+aw*bz+ax*by-ay*bx,out[3]=aw*bw-ax*bx-ay*by-az*bz,out},quat.mul=quat.multiply,quat.scale=vec4.scale,quat.rotateX=function(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+aw*bx,out[1]=ay*bw+az*bx,out[2]=az*bw-ay*bx,out[3]=aw*bw-ax*bx,out},quat.rotateY=function(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],by=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw-az*by,out[1]=ay*bw+aw*by,out[2]=az*bw+ax*by,out[3]=aw*bw-ay*by,out},quat.rotateZ=function(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],bz=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+ay*bz,out[1]=ay*bw-ax*bz,out[2]=az*bw+aw*bz,out[3]=aw*bw-az*bz,out},quat.calculateW=function(out,a){var x=a[0],y=a[1],z=a[2];return out[0]=x,out[1]=y,out[2]=z,out[3]=Math.sqrt(Math.abs(1-x*x-y*y-z*z)),out},quat.dot=vec4.dot,quat.lerp=vec4.lerp,quat.slerp=function(out,a,b,t){var omega,cosom,sinom,scale0,scale1,ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3];return cosom=ax*bx+ay*by+az*bz+aw*bw,cosom<0&&(cosom=-cosom,bx=-bx,by=-by,bz=-bz,bw=-bw),1-cosom>1e-6?(omega=Math.acos(cosom),sinom=Math.sin(omega),scale0=Math.sin((1-t)*omega)/sinom,scale1=Math.sin(t*omega)/sinom):(scale0=1-t,scale1=t),out[0]=scale0*ax+scale1*bx,out[1]=scale0*ay+scale1*by,out[2]=scale0*az+scale1*bz,out[3]=scale0*aw+scale1*bw,out},quat.sqlerp=function(){var temp1=quat.create(),temp2=quat.create();return function(out,a,b,c,d,t){return quat.slerp(temp1,a,d,t),quat.slerp(temp2,b,c,t),quat.slerp(out,temp1,temp2,2*t*(1-t)),out}}(),quat.invert=function(out,a){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],dot=a0*a0+a1*a1+a2*a2+a3*a3,invDot=dot?1/dot:0;return out[0]=-a0*invDot,out[1]=-a1*invDot,out[2]=-a2*invDot,out[3]=a3*invDot,out},quat.conjugate=function(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=a[3],out},quat.length=vec4.length,quat.len=quat.length,quat.squaredLength=vec4.squaredLength,quat.sqrLen=quat.squaredLength,quat.normalize=vec4.normalize,quat.fromMat3=function(out,m){var fRoot,fTrace=m[0]+m[4]+m[8];if(fTrace>0)fRoot=Math.sqrt(fTrace+1),out[3]=.5*fRoot,fRoot=.5/fRoot,out[0]=(m[5]-m[7])*fRoot,out[1]=(m[6]-m[2])*fRoot,out[2]=(m[1]-m[3])*fRoot;else{var i=0;m[4]>m[0]&&(i=1),m[8]>m[3*i+i]&&(i=2);var j=(i+1)%3,k=(i+2)%3;fRoot=Math.sqrt(m[3*i+i]-m[3*j+j]-m[3*k+k]+1),out[i]=.5*fRoot,fRoot=.5/fRoot,out[3]=(m[3*j+k]-m[3*k+j])*fRoot,out[j]=(m[3*j+i]+m[3*i+j])*fRoot,out[k]=(m[3*k+i]+m[3*i+k])*fRoot}return out},quat.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},quat.exactEquals=vec4.exactEquals,quat.equals=vec4.equals,module.exports=quat},function(module,exports,__webpack_require__){var glMatrix=__webpack_require__(3),vec2={};vec2.create=function(){var out=new glMatrix.ARRAY_TYPE(2);return out[0]=0,out[1]=0,out},vec2.clone=function(a){var out=new glMatrix.ARRAY_TYPE(2);return out[0]=a[0],out[1]=a[1],out},vec2.fromValues=function(x,y){var out=new glMatrix.ARRAY_TYPE(2);return out[0]=x,out[1]=y,out},vec2.copy=function(out,a){return out[0]=a[0],out[1]=a[1],out},vec2.set=function(out,x,y){return out[0]=x,out[1]=y,out},vec2.add=function(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out},vec2.subtract=function(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out},vec2.sub=vec2.subtract,vec2.multiply=function(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out},vec2.mul=vec2.multiply,vec2.divide=function(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out},vec2.div=vec2.divide,vec2.ceil=function(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out},vec2.floor=function(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out},vec2.min=function(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out},vec2.max=function(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out},vec2.round=function(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out},vec2.scale=function(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out},vec2.scaleAndAdd=function(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out},vec2.distance=function(a,b){var x=b[0]-a[0],y=b[1]-a[1];return Math.sqrt(x*x+y*y)},vec2.dist=vec2.distance,vec2.squaredDistance=function(a,b){var x=b[0]-a[0],y=b[1]-a[1];return x*x+y*y},vec2.sqrDist=vec2.squaredDistance,vec2.length=function(a){var x=a[0],y=a[1];return Math.sqrt(x*x+y*y)},vec2.len=vec2.length,vec2.squaredLength=function(a){var x=a[0],y=a[1];return x*x+y*y},vec2.sqrLen=vec2.squaredLength,vec2.negate=function(out,a){return out[0]=-a[0],out[1]=-a[1],out},vec2.inverse=function(out,a){return out[0]=1/a[0],out[1]=1/a[1],out},vec2.normalize=function(out,a){var x=a[0],y=a[1],len=x*x+y*y;return len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len),out},vec2.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]},vec2.cross=function(out,a,b){var z=a[0]*b[1]-a[1]*b[0];return out[0]=out[1]=0,out[2]=z,out},vec2.lerp=function(out,a,b,t){var ax=a[0],ay=a[1];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out},vec2.random=function(out,scale){scale=scale||1;var r=2*glMatrix.RANDOM()*Math.PI;return out[0]=Math.cos(r)*scale,out[1]=Math.sin(r)*scale,out},vec2.transformMat2=function(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[2]*y,out[1]=m[1]*x+m[3]*y,out},vec2.transformMat2d=function(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[2]*y+m[4],out[1]=m[1]*x+m[3]*y+m[5],out},vec2.transformMat3=function(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[3]*y+m[6],out[1]=m[1]*x+m[4]*y+m[7],out},vec2.transformMat4=function(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[4]*y+m[12],out[1]=m[1]*x+m[5]*y+m[13],out},vec2.forEach=function(){var vec=vec2.create();return function(a,stride,offset,count,fn,arg){var i,l;for(stride||(stride=2),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1];return a}}(),vec2.str=function(a){return"vec2("+a[0]+", "+a[1]+")"},vec2.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]},vec2.equals=function(a,b){var a0=a[0],a1=a[1],b0=b[0],b1=b[1];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))},module.exports=vec2},function(module,exports,__webpack_require__){"use strict";function getAndApplyExtension(gl,name){var ext=gl.getExtension(name);if(!ext)return!1;var suffix=name.split("_")[0],suffixRE=new RegExp(suffix+"$");for(var key in ext){if("function"==typeof ext[key]){var unsuffixedKey=key.replace(suffixRE,"");key.substring&&(gl[unsuffixedKey]=ext[key].bind(ext))}}return!0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getAndApplyExtension},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),exposeAttributes=function(){_GLTool2.default.VERTEX_SHADER=_GLTool2.default.gl.VERTEX_SHADER,_GLTool2.default.FRAGMENT_SHADER=_GLTool2.default.gl.FRAGMENT_SHADER,_GLTool2.default.COMPILE_STATUS=_GLTool2.default.gl.COMPILE_STATUS,_GLTool2.default.DEPTH_TEST=_GLTool2.default.gl.DEPTH_TEST,_GLTool2.default.CULL_FACE=_GLTool2.default.gl.CULL_FACE,_GLTool2.default.BLEND=_GLTool2.default.gl.BLEND,_GLTool2.default.POINTS=_GLTool2.default.gl.POINTS,_GLTool2.default.LINES=_GLTool2.default.gl.LINES,_GLTool2.default.TRIANGLES=_GLTool2.default.gl.TRIANGLES,_GLTool2.default.LINEAR=_GLTool2.default.gl.LINEAR,_GLTool2.default.NEAREST=_GLTool2.default.gl.NEAREST,_GLTool2.default.LINEAR_MIPMAP_NEAREST=_GLTool2.default.gl.LINEAR_MIPMAP_NEAREST,_GLTool2.default.NEAREST_MIPMAP_LINEAR=_GLTool2.default.gl.NEAREST_MIPMAP_LINEAR,_GLTool2.default.LINEAR_MIPMAP_LINEAR=_GLTool2.default.gl.LINEAR_MIPMAP_LINEAR,_GLTool2.default.NEAREST_MIPMAP_NEAREST=_GLTool2.default.gl.NEAREST_MIPMAP_NEAREST,_GLTool2.default.MIRRORED_REPEAT=_GLTool2.default.gl.MIRRORED_REPEAT,_GLTool2.default.CLAMP_TO_EDGE=_GLTool2.default.gl.CLAMP_TO_EDGE,_GLTool2.default.SCISSOR_TEST=_GLTool2.default.gl.SCISSOR_TEST,_GLTool2.default.UNSIGNED_BYTE=_GLTool2.default.gl.UNSIGNED_BYTE};exports.default=exposeAttributes},function(module,exports,__webpack_require__){"use strict";function checkFloat(){return _GLTool2.default.webgl2?_GLTool2.default.gl.FLOAT:_GLTool2.default.getExtension("OES_texture_float")?_GLTool2.default.gl.FLOAT:_GLTool2.default.gl.UNSIGNED_BYTE}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return hasChecked||(_float=checkFloat()),_float};var _GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),hasChecked=!1,_float=void 0},function(module,exports,__webpack_require__){"use strict";function checkHalfFloat(){if(_GLTool2.default.webgl2)return _GLTool2.default.gl.HALF_FLOAT;var extHalfFloat=_GLTool2.default.getExtension("OES_texture_half_float");return extHalfFloat?extHalfFloat.HALF_FLOAT_OES:_GLTool2.default.gl.UNSIGNED_BYTE}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return hasChecked||(halfFloat=checkHalfFloat()),halfFloat};var _GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),hasChecked=!1,halfFloat=void 0},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["EXT_shader_texture_lod","EXT_sRGB","EXT_frag_depth","OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","WEBGL_depth_texture","EXT_texture_filter_anisotropic","OES_vertex_array_object","ANGLE_instanced_arrays","WEBGL_draw_buffers"]},function(module,exports){module.exports=function(strings){"string"==typeof strings&&(strings=[strings]);for(var exprs=[].slice.call(arguments,1),parts=[],i=0;i<strings.length-1;i++)parts.push(strings[i],exprs[i]||"");return parts.push(strings[i]),parts.join("")}},function(module,exports){module.exports="// basic.frag\n\n#define SHADER_NAME BASIC_FRAGMENT\n\nprecision lowp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform float time;\n// uniform sampler2D texture;\n\nvoid main(void) {\n    gl_FragColor = vec4(vTextureCoord, sin(time) * .5 + .5, 1.0);\n}"},function(module,exports){function parseHeaders(arrayBuffer){var header=new Int32Array(arrayBuffer,0,headerLengthInt);if(header[off_magic]!==DDS_MAGIC)throw new Error("Invalid magic number in DDS header");if(!header[off_pfFlags]&DDPF_FOURCC)throw new Error("Unsupported format, must contain a FourCC code");var blockBytes,format,fourCC=header[off_pfFourCC];switch(fourCC){case FOURCC_DXT1:blockBytes=8,format="dxt1";break;case FOURCC_DXT3:blockBytes=16,format="dxt3";break;case FOURCC_DXT5:blockBytes=16,format="dxt5";break;case FOURCC_FP32F:format="rgba32f";break;case FOURCC_DX10:var dx10Header=new Uint32Array(arrayBuffer.slice(128,148));format=dx10Header[0];var resourceDimension=dx10Header[1];dx10Header[2],dx10Header[3],dx10Header[4];if(resourceDimension!==D3D10_RESOURCE_DIMENSION_TEXTURE2D||format!==DXGI_FORMAT_R32G32B32A32_FLOAT)throw new Error("Unsupported DX10 texture format "+format);format="rgba32f";break;default:throw new Error("Unsupported FourCC code: "+int32ToFourCC(fourCC))}var flags=header[off_flags],mipmapCount=1;flags&DDSD_MIPMAPCOUNT&&(mipmapCount=Math.max(1,header[off_mipmapCount]));var cubemap=!1;header[off_caps2]&DDSCAPS2_CUBEMAP&&(cubemap=!0);var dataLength,width=header[off_width],height=header[off_height],dataOffset=header[off_size]+4,texWidth=width,texHeight=height,images=[];if(fourCC===FOURCC_DX10&&(dataOffset+=20),cubemap)for(var f=0;f<6;f++){if("rgba32f"!==format)throw new Error("Only RGBA32f cubemaps are supported");width=texWidth,height=texHeight;for(var requiredMipLevels=Math.log(width)/Math.log(2)+1,i=0;i<requiredMipLevels;i++)dataLength=width*height*16,images.push({offset:dataOffset,length:dataLength,shape:[width,height]}),i<mipmapCount&&(dataOffset+=dataLength),width=Math.floor(width/2),height=Math.floor(height/2)}else for(var i=0;i<mipmapCount;i++)dataLength=Math.max(4,width)/4*Math.max(4,height)/4*blockBytes,images.push({offset:dataOffset,length:dataLength,shape:[width,height]}),dataOffset+=dataLength,width=Math.floor(width/2),height=Math.floor(height/2);return{shape:[texWidth,texHeight],images:images,format:format,flags:flags,cubemap:cubemap}}function fourCCToInt32(value){return value.charCodeAt(0)+(value.charCodeAt(1)<<8)+(value.charCodeAt(2)<<16)+(value.charCodeAt(3)<<24)}function int32ToFourCC(value){return String.fromCharCode(255&value,value>>8&255,value>>16&255,value>>24&255)}var DDS_MAGIC=542327876,DDSD_MIPMAPCOUNT=131072,DDPF_FOURCC=4,FOURCC_DXT1=fourCCToInt32("DXT1"),FOURCC_DXT3=fourCCToInt32("DXT3"),FOURCC_DXT5=fourCCToInt32("DXT5"),FOURCC_DX10=fourCCToInt32("DX10"),FOURCC_FP32F=116,DDSCAPS2_CUBEMAP=512,D3D10_RESOURCE_DIMENSION_TEXTURE2D=3,DXGI_FORMAT_R32G32B32A32_FLOAT=2,headerLengthInt=31,off_magic=0,off_size=1,off_flags=2,off_height=3,off_width=4,off_mipmapCount=7,off_pfFlags=20,off_pfFourCC=21,off_caps2=28;module.exports=parseHeaders},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLCubeTexture=__webpack_require__(27),_GLCubeTexture2=_interopRequireDefault(_GLCubeTexture),gl=void 0,CubeFrameBuffer=function(){function CubeFrameBuffer(size){var mParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,CubeFrameBuffer),gl=_GLTool2.default.gl,this._size=size,this.magFilter=mParameters.magFilter||gl.LINEAR,this.minFilter=mParameters.minFilter||gl.LINEAR,this.wrapS=mParameters.wrapS||gl.CLAMP_TO_EDGE,this.wrapT=mParameters.wrapT||gl.CLAMP_TO_EDGE,this._init()}return _createClass(CubeFrameBuffer,[{key:"_init",value:function(){this.texture=gl.createTexture(),this.glTexture=new _GLCubeTexture2.default(this.texture,{},!0),gl.bindTexture(gl.TEXTURE_CUBE_MAP,this.texture),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MAG_FILTER,this.magFilter),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MIN_FILTER,this.minFilter),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_T,this.wrapT);for(var targets=[gl.TEXTURE_CUBE_MAP_POSITIVE_X,gl.TEXTURE_CUBE_MAP_NEGATIVE_X,gl.TEXTURE_CUBE_MAP_POSITIVE_Y,gl.TEXTURE_CUBE_MAP_NEGATIVE_Y,gl.TEXTURE_CUBE_MAP_POSITIVE_Z,gl.TEXTURE_CUBE_MAP_NEGATIVE_Z],i=0;i<targets.length;i++)gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!1),gl.texImage2D(targets[i],0,gl.RGBA,this.width,this.height,0,gl.RGBA,gl.FLOAT,null);this._frameBuffers=[];for(var _i=0;_i<targets.length;_i++){var frameBuffer=gl.createFramebuffer();gl.bindFramebuffer(gl.FRAMEBUFFER,frameBuffer),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,targets[_i],this.texture,0);gl.checkFramebufferStatus(gl.FRAMEBUFFER);gl.FRAMEBUFFER_COMPLETE,this._frameBuffers.push(frameBuffer)}gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.bindRenderbuffer(gl.RENDERBUFFER,null),gl.bindTexture(gl.TEXTURE_CUBE_MAP,null)}},{key:"bind",value:function(mTargetIndex){_GLTool2.default.viewport(0,0,this.width,this.height),gl.bindFramebuffer(gl.FRAMEBUFFER,this._frameBuffers[mTargetIndex])}},{key:"unbind",value:function(){gl.bindFramebuffer(gl.FRAMEBUFFER,null),_GLTool2.default.viewport(0,0,_GLTool2.default.width,_GLTool2.default.height)}},{key:"getTexture",value:function(){return this.glTexture}},{key:"width",get:function(){return this._size}},{key:"height",get:function(){return this._size}}]),CubeFrameBuffer}();exports.default=CubeFrameBuffer},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function isPowerOfTwo(x){return 0!==x&&!(x&x-1)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLTexture=__webpack_require__(14),_GLTexture2=_interopRequireDefault(_GLTexture),gl=void 0,MultisampleFrameBuffer=function(){function MultisampleFrameBuffer(mWidth,mHeight){var mParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,MultisampleFrameBuffer),gl=_GLTool2.default.gl,this.width=mWidth,this.height=mHeight,this.magFilter=mParameters.magFilter||gl.LINEAR,this.minFilter=mParameters.minFilter||gl.LINEAR,this.wrapS=mParameters.wrapS||gl.CLAMP_TO_EDGE,this.wrapT=mParameters.wrapT||gl.CLAMP_TO_EDGE,this.useDepth=mParameters.useDepth||!0,this.useStencil=mParameters.useStencil||!1,this.texelType=mParameters.type,this._numSample=mParameters.numSample||8,isPowerOfTwo(this.width)&&isPowerOfTwo(this.height)||(this.wrapS=this.wrapT=gl.CLAMP_TO_EDGE,this.minFilter===gl.LINEAR_MIPMAP_NEAREST&&(this.minFilter=gl.LINEAR)),this._init()}return _createClass(MultisampleFrameBuffer,[{key:"_init",value:function(){var texelType=gl.UNSIGNED_BYTE;this.texelType&&(texelType=this.texelType),this.texelType=texelType,this.frameBuffer=gl.createFramebuffer(),this.frameBufferColor=gl.createFramebuffer(),this.renderBufferColor=gl.createRenderbuffer(),this.renderBufferDepth=gl.createRenderbuffer(),this.glTexture=this._createTexture(),this.glDepthTexture=this._createTexture(gl.DEPTH_COMPONENT16,gl.UNSIGNED_SHORT,gl.DEPTH_COMPONENT,!0),gl.bindRenderbuffer(gl.RENDERBUFFER,this.renderBufferColor),gl.renderbufferStorageMultisample(gl.RENDERBUFFER,this._numSample,gl.RGBA8,this.width,this.height),gl.bindRenderbuffer(gl.RENDERBUFFER,this.renderBufferDepth),gl.renderbufferStorageMultisample(gl.RENDERBUFFER,this._numSample,gl.DEPTH_COMPONENT16,this.width,this.height),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBuffer),gl.framebufferRenderbuffer(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.RENDERBUFFER,this.renderBufferColor),gl.framebufferRenderbuffer(gl.FRAMEBUFFER,gl.DEPTH_ATTACHMENT,gl.RENDERBUFFER,this.renderBufferDepth),gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBufferColor),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,this.glTexture.texture,0),gl.bindFramebuffer(gl.FRAMEBUFFER,null)}},{key:"_createTexture",value:function(mInternalformat,mTexelType,mFormat){var forceNearest=arguments.length>3&&void 0!==arguments[3]&&arguments[3];void 0===mInternalformat&&(mInternalformat=gl.RGBA),void 0===mTexelType&&(mTexelType=this.texelType),mFormat||(mFormat=mInternalformat);var t=gl.createTexture(),glt=new _GLTexture2.default(t,!0),magFilter=forceNearest?_GLTool2.default.NEAREST:this.magFilter,minFilter=forceNearest?_GLTool2.default.NEAREST:this.minFilter;return gl.bindTexture(gl.TEXTURE_2D,t),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,magFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,minFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this.wrapT),gl.texImage2D(gl.TEXTURE_2D,0,mInternalformat,this.width,this.height,0,mFormat,mTexelType,null),gl.bindTexture(gl.TEXTURE_2D,null),glt}},{key:"bind",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&_GLTool2.default.viewport(0,0,this.width,this.height),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBuffer)}},{key:"unbind",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&_GLTool2.default.viewport(0,0,_GLTool2.default.width,_GLTool2.default.height);var width=this.width,height=this.height;gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.bindFramebuffer(gl.READ_FRAMEBUFFER,this.frameBuffer),gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER,this.frameBufferColor),gl.clearBufferfv(gl.COLOR,0,[0,0,0,0]),gl.blitFramebuffer(0,0,width,height,0,0,width,height,gl.COLOR_BUFFER_BIT,_GLTool2.default.NEAREST),gl.bindFramebuffer(gl.FRAMEBUFFER,null)}},{key:"getTexture",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.glTexture}},{key:"getDepthTexture",value:function(){return this.glDepthTexture}}]),MultisampleFrameBuffer}();exports.default=MultisampleFrameBuffer},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Mesh=__webpack_require__(6),_Mesh2=_interopRequireDefault(_Mesh),gl=void 0,TransformFeedbackObject=function(){function TransformFeedbackObject(strVertexShader,strFragmentShader){_classCallCheck(this,TransformFeedbackObject),gl=_GLTool2.default.gl,this._vs=strVertexShader,this._fs=strFragmentShader,this._init()}return _createClass(TransformFeedbackObject,[{key:"_init",value:function(){this._meshCurrent=new _Mesh2.default,this._meshTarget=new _Mesh2.default,this._numPoints=-1,this._varyings=[],this.transformFeedback=gl.createTransformFeedback()}},{key:"bufferData",value:function(mData,mName,mVaryingName){var isTransformFeedback=!!mVaryingName;this._meshCurrent.bufferData(mData,mName,null,gl.STREAM_COPY,!1),this._meshTarget.bufferData(mData,mName,null,gl.STREAM_COPY,!1),isTransformFeedback&&(this._varyings.push(mVaryingName),this._numPoints<0&&(this._numPoints=mData.length))}},{key:"bufferIndex",value:function(mArrayIndices){this._meshCurrent.bufferIndex(mArrayIndices),this._meshTarget.bufferIndex(mArrayIndices)}},{key:"uniform",value:function(mName,mType,mValue){this.shader&&this.shader.uniform(mName,mType,mValue)}},{key:"generate",value:function(){this.shader=new _GLShader2.default(this._vs,this._fs,this._varyings)}},{key:"render",value:function(){this.shader||this.generate(),this.shader.bind(),_GLTool2.default.drawTransformFeedback(this),this._swap()}},{key:"_swap",value:function(){var tmp=this._meshCurrent;this._meshCurrent=this._meshTarget,this._meshTarget=tmp}},{key:"numPoints",get:function(){return this._numPoints}},{key:"meshCurrent",get:function(){return this._meshCurrent}},{key:"meshTarget",get:function(){return this._meshTarget}},{key:"meshSource",get:function(){return this._meshCurrent}},{key:"meshDestination",get:function(){return this._meshTarget}}]),TransformFeedbackObject}();exports.default=TransformFeedbackObject},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function getFunc(mEasing){switch(mEasing){default:case"linear":return Easing.Linear.None;case"expIn":return Easing.Exponential.In;case"expOut":return Easing.Exponential.Out;case"expInOut":return Easing.Exponential.InOut;case"cubicIn":return Easing.Cubic.In;case"cubicOut":return Easing.Cubic.Out;case"cubicInOut":return Easing.Cubic.InOut;case"quarticIn":return Easing.Quartic.In;case"quarticOut":return Easing.Quartic.Out;case"quarticInOut":return Easing.Quartic.InOut;case"quinticIn":return Easing.Quintic.In;case"quinticOut":return Easing.Quintic.Out;case"quinticInOut":return Easing.Quintic.InOut;case"sinusoidalIn":return Easing.Sinusoidal.In;case"sinusoidalOut":return Easing.Sinusoidal.Out;case"sinusoidalInOut":return Easing.Sinusoidal.InOut;case"circularIn":return Easing.Circular.In;case"circularOut":return Easing.Circular.Out;case"circularInOut":return Easing.Circular.InOut;case"elasticIn":return Easing.Elastic.In;case"elasticOut":return Easing.Elastic.Out;case"elasticInOut":return Easing.Elastic.InOut;case"backIn":return Easing.Back.In;case"backOut":return Easing.Back.Out;case"backInOut":return Easing.Back.InOut;case"bounceIn":return Easing.Bounce.in;case"bounceOut":return Easing.Bounce.out;case"bounceInOut":return Easing.Bounce.inOut}}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_scheduling=__webpack_require__(8),_scheduling2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_scheduling),Easing={Linear:{None:function(k){return k}},Quadratic:{In:function(k){return k*k},Out:function(k){return k*(2-k)},InOut:function(k){return(k*=2)<1?.5*k*k:-.5*(--k*(k-2)-1)}},Cubic:{In:function(k){return k*k*k},Out:function(k){return--k*k*k+1},InOut:function(k){return(k*=2)<1?.5*k*k*k:.5*((k-=2)*k*k+2)}},Quartic:{In:function(k){return k*k*k*k},Out:function(k){return 1- --k*k*k*k},InOut:function(k){return(k*=2)<1?.5*k*k*k*k:-.5*((k-=2)*k*k*k-2)}},Quintic:{In:function(k){return k*k*k*k*k},Out:function(k){return--k*k*k*k*k+1},InOut:function(k){return(k*=2)<1?.5*k*k*k*k*k:.5*((k-=2)*k*k*k*k+2)}},Sinusoidal:{In:function(k){return 1-Math.cos(k*Math.PI/2)},Out:function(k){return Math.sin(k*Math.PI/2)},InOut:function(k){return.5*(1-Math.cos(Math.PI*k))}},Exponential:{In:function(k){return 0===k?0:Math.pow(1024,k-1)},Out:function(k){return 1===k?1:1-Math.pow(2,-10*k)},InOut:function(k){return 0===k?0:1===k?1:(k*=2)<1?.5*Math.pow(1024,k-1):.5*(2-Math.pow(2,-10*(k-1)))}},Circular:{In:function(k){return 1-Math.sqrt(1-k*k)},Out:function(k){return Math.sqrt(1- --k*k)},InOut:function(k){return(k*=2)<1?-.5*(Math.sqrt(1-k*k)-1):.5*(Math.sqrt(1-(k-=2)*k)+1)}},Elastic:{In:function(k){var s=void 0,a=.1;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),-a*Math.pow(2,10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/.4))},Out:function(k){var s=void 0,a=.1;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*k)*Math.sin((k-s)*(2*Math.PI)/.4)+1)},InOut:function(k){var s=void 0,a=.1;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),(k*=2)<1?a*Math.pow(2,10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/.4)*-.5:a*Math.pow(2,-10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(k){var s=1.70158;return k*k*((s+1)*k-s)},Out:function(k){var s=1.70158;return--k*k*((s+1)*k+s)+1},InOut:function(k){var s=2.5949095;return(k*=2)<1?k*k*((s+1)*k-s)*.5:.5*((k-=2)*k*((s+1)*k+s)+2)}},Bounce:{in:function(k){return 1-Easing.Bounce.out(1-k)},out:function(k){return k<1/2.75?7.5625*k*k:k<2/2.75?7.5625*(k-=1.5/2.75)*k+.75:k<2.5/2.75?7.5625*(k-=2.25/2.75)*k+.9375:7.5625*(k-=2.625/2.75)*k+.984375},inOut:function(k){return k<.5?.5*Easing.Bounce.in(2*k):.5*Easing.Bounce.out(2*k-1)+.5}}},TweenNumber=function(){function TweenNumber(mValue){var _this=this,mEasing=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expOut",mSpeed=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;_classCallCheck(this,TweenNumber),this._value=mValue,this._startValue=mValue,this._targetValue=mValue,this._counter=1,this.speed=mSpeed,this.easing=mEasing,this._needUpdate=!0,this._efIndex=_scheduling2.default.addEF(function(){return _this._update()})}return _createClass(TweenNumber,[{key:"_update",value:function(){var newCounter=this._counter+this.speed;if(newCounter>1&&(newCounter=1),this._counter===newCounter)return void(this._needUpdate=!1);this._counter=newCounter,this._needUpdate=!0}},{key:"limit",value:function(mMin,mMax){if(mMin>mMax)return void this.limit(mMax,mMin);this._min=mMin,this._max=mMax,this._checkLimit()}},{key:"setTo",value:function(mValue){this._value=mValue,this._targetValue=mValue,this._counter=1}},{key:"_checkLimit",value:function(){void 0!==this._min&&this._targetValue<this._min&&(this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._targetValue=this._max)}},{key:"destroy",value:function(){_scheduling2.default.removeEF(this._efIndex)}},{key:"value",set:function(mValue){this._startValue=this._value,this._targetValue=mValue,this._checkLimit(),this._counter=0},get:function(){if(this._needUpdate){var f=getFunc(this.easing),p=f(this._counter);this._value=this._startValue+p*(this._targetValue-this._startValue),this._needUpdate=!1}return this._value}},{key:"targetValue",get:function(){return this._targetValue}}]),TweenNumber}();exports.default=TweenNumber},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),_glMatrix2=_interopRequireDefault(_glMatrix),_EaseNumber=__webpack_require__(16),_EaseNumber2=_interopRequireDefault(_EaseNumber),_scheduling=__webpack_require__(8),_scheduling2=_interopRequireDefault(_scheduling),getMouse=function(mEvent,mTarget){var o=mTarget||{};return mEvent.touches?(o.x=mEvent.touches[0].pageX,o.y=mEvent.touches[0].pageY):(o.x=mEvent.clientX,o.y=mEvent.clientY),o},QuatRotation=function(){function QuatRotation(mTarget){var _this=this,mListenerTarget=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,mEasing=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;_classCallCheck(this,QuatRotation),this._target=mTarget,this._listenerTarget=mListenerTarget,this.matrix=_glMatrix2.default.mat4.create(),this.m=_glMatrix2.default.mat4.create(),this._vZaxis=_glMatrix2.default.vec3.clone([0,0,0]),this._zAxis=_glMatrix2.default.vec3.clone([0,0,1]),this.preMouse={x:0,y:0},this.mouse={x:0,y:0},this._isMouseDown=!1,this._rotation=_glMatrix2.default.quat.create(),this.tempRotation=_glMatrix2.default.quat.create(),this._rotateZMargin=0,this._offset=.004,this._slerp=-1,this._isLocked=!1,this._diffX=new _EaseNumber2.default(0,mEasing),this._diffY=new _EaseNumber2.default(0,mEasing),this._listenerTarget.addEventListener("mousedown",function(e){return _this._onDown(e)}),this._listenerTarget.addEventListener("touchstart",function(e){return _this._onDown(e)}),this._listenerTarget.addEventListener("mousemove",function(e){return _this._onMove(e)}),this._listenerTarget.addEventListener("touchmove",function(e){return _this._onMove(e)}),window.addEventListener("touchend",function(){return _this._onUp()}),window.addEventListener("mouseup",function(){return _this._onUp()}),_scheduling2.default.addEF(function(){return _this._loop()})}return _createClass(QuatRotation,[{key:"inverseControl",value:function(){var isInvert=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isInvert=isInvert}},{key:"lock",value:function(){var mValue=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLocked=mValue}},{key:"setCameraPos",value:function(mQuat){var speed=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;if(this.easing=speed,!(this._slerp>0)){var tempRotation=_glMatrix2.default.quat.clone(this._rotation);this._updateRotation(tempRotation),this._rotation=_glMatrix2.default.quat.clone(tempRotation),this._currDiffX=this.diffX=0,this._currDiffY=this.diffY=0,this._isMouseDown=!1,this._isRotateZ=0,this._targetQuat=_glMatrix2.default.quat.clone(mQuat),this._slerp=1}}},{key:"resetQuat",value:function(){this._rotation=_glMatrix2.default.quat.clone([0,0,1,0]),this.tempRotation=_glMatrix2.default.quat.clone([0,0,0,0]),this._targetQuat=void 0,this._slerp=-1}},{key:"_onDown",value:function(mEvent){if(!this._isLocked){var mouse=getMouse(mEvent),tempRotation=_glMatrix2.default.quat.clone(this._rotation);this._updateRotation(tempRotation),this._rotation=tempRotation,this._isMouseDown=!0,this._isRotateZ=0,this.preMouse={x:mouse.x,y:mouse.y},mouse.y<this._rotateZMargin||mouse.y>window.innerHeight-this._rotateZMargin?this._isRotateZ=1:(mouse.x<this._rotateZMargin||mouse.x>window.innerWidth-this._rotateZMargin)&&(this._isRotateZ=2),this._diffX.setTo(0),this._diffY.setTo(0)}}},{key:"_onMove",value:function(mEvent){this._isLocked||getMouse(mEvent,this.mouse)}},{key:"_onUp",value:function(){this._isLocked||(this._isMouseDown=!1)}},{key:"_updateRotation",value:function(mTempRotation){this._isMouseDown&&!this._isLocked&&(this._diffX.value=-(this.mouse.x-this.preMouse.x),this._diffY.value=this.mouse.y-this.preMouse.y,this._isInvert&&(this._diffX.value=-this._diffX.targetValue,this._diffY.value=-this._diffY.targetValue));var angle=void 0,_quat=void 0;if(this._isRotateZ>0)1===this._isRotateZ?(angle=-this._diffX.value*this._offset,angle*=this.preMouse.y<this._rotateZMargin?-1:1,_quat=_glMatrix2.default.quat.clone([0,0,Math.sin(angle),Math.cos(angle)]),_glMatrix2.default.quat.multiply(_quat,mTempRotation,_quat)):(angle=-this._diffY.value*this._offset,angle*=this.preMouse.x<this._rotateZMargin?1:-1,_quat=_glMatrix2.default.quat.clone([0,0,Math.sin(angle),Math.cos(angle)]),_glMatrix2.default.quat.multiply(_quat,mTempRotation,_quat));else{var v=_glMatrix2.default.vec3.clone([this._diffX.value,this._diffY.value,0]),axis=_glMatrix2.default.vec3.create();_glMatrix2.default.vec3.cross(axis,v,this._zAxis),_glMatrix2.default.vec3.normalize(axis,axis),angle=_glMatrix2.default.vec3.length(v)*this._offset,_quat=_glMatrix2.default.quat.clone([Math.sin(angle)*axis[0],Math.sin(angle)*axis[1],Math.sin(angle)*axis[2],Math.cos(angle)]),_glMatrix2.default.quat.multiply(mTempRotation,_quat,mTempRotation)}}},{key:"_loop",value:function(){_glMatrix2.default.mat4.identity(this.m),void 0===this._targetQuat?(_glMatrix2.default.quat.set(this.tempRotation,this._rotation[0],this._rotation[1],this._rotation[2],this._rotation[3]),this._updateRotation(this.tempRotation)):(this._slerp+=.1*(0-this._slerp),this._slerp<5e-4?(_glMatrix2.default.quat.copy(this._rotation,this._targetQuat),_glMatrix2.default.quat.copy(this.tempRotation,this._targetQuat),this._targetQuat=void 0,this._diffX.setTo(0),this._diffY.setTo(0),this._slerp=-1):(_glMatrix2.default.quat.set(this.tempRotation,0,0,0,0),_glMatrix2.default.quat.slerp(this.tempRotation,this._targetQuat,this._rotation,this._slerp))),_glMatrix2.default.vec3.transformQuat(this._vZaxis,this._vZaxis,this.tempRotation),_glMatrix2.default.mat4.fromQuat(this.matrix,this.tempRotation)}},{key:"easing",set:function(mValue){this._diffX.easing=mValue,this._diffY.easing=mValue},get:function(){return this._diffX.easing}}]),QuatRotation}();exports.default=QuatRotation},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_CameraPerspective2=__webpack_require__(18),_CameraPerspective3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_CameraPerspective2),_glMatrix=__webpack_require__(1),CAMERA_SETTINGS=[[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(1,0,0),_glMatrix.vec3.fromValues(0,-1,0)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(-1,0,0),_glMatrix.vec3.fromValues(0,-1,0)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(0,1,0),_glMatrix.vec3.fromValues(0,0,1)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(0,-1,0),_glMatrix.vec3.fromValues(0,0,-1)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(0,0,1),_glMatrix.vec3.fromValues(0,-1,0)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(0,0,-1),_glMatrix.vec3.fromValues(0,-1,0)]],CameraCube=function(_CameraPerspective){function CameraCube(){_classCallCheck(this,CameraCube);var _this=_possibleConstructorReturn(this,(CameraCube.__proto__||Object.getPrototypeOf(CameraCube)).call(this));return _this.setPerspective(Math.PI/2,1,.1,1e3),_this}return _inherits(CameraCube,_CameraPerspective),_createClass(CameraCube,[{key:"face",value:function(mIndex){var o=CAMERA_SETTINGS[mIndex];this.lookAt(o[0],o[1],o[2])}}]),CameraCube}(_CameraPerspective3.default);exports.default=CameraCube},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_BinaryLoader2=__webpack_require__(19),_BinaryLoader3=_interopRequireDefault(_BinaryLoader2),_Mesh=__webpack_require__(6),_Mesh2=_interopRequireDefault(_Mesh),ObjLoader=function(_BinaryLoader){function ObjLoader(){return _classCallCheck(this,ObjLoader),_possibleConstructorReturn(this,(ObjLoader.__proto__||Object.getPrototypeOf(ObjLoader)).apply(this,arguments))}return _inherits(ObjLoader,_BinaryLoader),_createClass(ObjLoader,[{key:"load",value:function(url,callback){var drawType=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;this._drawType=drawType,_get(ObjLoader.prototype.__proto__||Object.getPrototypeOf(ObjLoader.prototype),"load",this).call(this,url,callback)}},{key:"_onLoaded",value:function(){this.parseObj(this._req.response)}},{key:"parseObj",value:function(objStr){function parseVertexIndex(value){var index=parseInt(value);return 3*(index>=0?index-1:index+vertices.length/3)}function parseNormalIndex(value){var index=parseInt(value);return 3*(index>=0?index-1:index+normals.length/3)}function parseUVIndex(value){var index=parseInt(value);return 2*(index>=0?index-1:index+uvs.length/2)}function addVertex(a,b,c){positions.push([vertices[a],vertices[a+1],vertices[a+2]]),positions.push([vertices[b],vertices[b+1],vertices[b+2]]),positions.push([vertices[c],vertices[c+1],vertices[c+2]]),indices.push(3*count+0),indices.push(3*count+1),indices.push(3*count+2),count++}function addUV(a,b,c){coords.push([uvs[a],uvs[a+1]]),coords.push([uvs[b],uvs[b+1]]),coords.push([uvs[c],uvs[c+1]])}function addNormal(a,b,c){finalNormals.push([normals[a],normals[a+1],normals[a+2]]),finalNormals.push([normals[b],normals[b+1],normals[b+2]]),finalNormals.push([normals[c],normals[c+1],normals[c+2]])}function addFace(a,b,c,d,ua,ub,uc,ud,na,nb,nc,nd){var ia=parseVertexIndex(a),ib=parseVertexIndex(b),ic=parseVertexIndex(c),id=void 0;void 0===d?addVertex(ia,ib,ic):(id=parseVertexIndex(d),addVertex(ia,ib,id),addVertex(ib,ic,id)),void 0!==ua&&(ia=parseUVIndex(ua),ib=parseUVIndex(ub),ic=parseUVIndex(uc),void 0===d?addUV(ia,ib,ic):(id=parseUVIndex(ud),addUV(ia,ib,id),addUV(ib,ic,id))),void 0!==na&&(ia=parseNormalIndex(na),ib=parseNormalIndex(nb),ic=parseNormalIndex(nc),void 0===d?addNormal(ia,ib,ic):(id=parseNormalIndex(nd),addNormal(ia,ib,id),addNormal(ib,ic,id)))}for(var lines=objStr.split("\n"),positions=[],coords=[],finalNormals=[],vertices=[],normals=[],uvs=[],indices=[],count=0,result=void 0,vertexPattern=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,normalPattern=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,uvPattern=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,facePattern1=/f( +-?\d+)( +-?\d+)( +-?\d+)( +-?\d+)?/,facePattern2=/f( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))?/,facePattern3=/f( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))?/,facePattern4=/f( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))?/,i=0;i<lines.length;i++){var line=lines[i];line=line.trim(),0!==line.length&&"#"!==line.charAt(0)&&(null!==(result=vertexPattern.exec(line))?vertices.push(parseFloat(result[1]),parseFloat(result[2]),parseFloat(result[3])):null!==(result=normalPattern.exec(line))?normals.push(parseFloat(result[1]),parseFloat(result[2]),parseFloat(result[3])):null!==(result=uvPattern.exec(line))?uvs.push(parseFloat(result[1]),parseFloat(result[2])):null!==(result=facePattern1.exec(line))?addFace(result[1],result[2],result[3],result[4]):null!==(result=facePattern2.exec(line))?addFace(result[2],result[5],result[8],result[11],result[3],result[6],result[9],result[12]):null!==(result=facePattern3.exec(line))?addFace(result[2],result[6],result[10],result[14],result[3],result[7],result[11],result[15],result[4],result[8],result[12],result[16]):null!==(result=facePattern4.exec(line))&&addFace(result[2],result[5],result[8],result[11],void 0,void 0,void 0,void 0,result[3],result[6],result[9],result[12]))}return this._generateMeshes({positions:positions,coords:coords,normals:finalNormals,indices:indices})}},{key:"_generateMeshes",value:function(o){var hasNormals=o.normals.length>0,hasUVs=o.coords.length>0,mesh=void 0;if(o.positions.length>65535){var meshes=[],lastIndex=0,oCopy={};for(oCopy.positions=o.positions.concat(),oCopy.coords=o.coords.concat(),oCopy.indices=o.indices.concat(),oCopy.normals=o.normals.concat();o.indices.length>0;){for(var sliceNum=Math.min(65535,o.positions.length),indices=o.indices.splice(0,sliceNum),positions=[],coords=[],normals=[],index=void 0,tmpIndex=0,i=0;i<indices.length;i++)indices[i]>tmpIndex&&(tmpIndex=indices[i]),index=indices[i],positions.push(oCopy.positions[index]),hasUVs&&coords.push(oCopy.coords[index]),hasNormals&&normals.push(oCopy.normals[index]),indices[i]-=lastIndex;lastIndex=tmpIndex+1,mesh=new _Mesh2.default(this._drawType),mesh.bufferVertex(positions),hasUVs&&mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),hasNormals&&mesh.bufferNormal(normals),meshes.push(mesh)}return this._callback&&this._callback(meshes,oCopy),meshes}return mesh=new _Mesh2.default(this._drawType),mesh.bufferVertex(o.positions),hasUVs&&mesh.bufferTexCoord(o.coords),mesh.bufferIndex(o.indices),hasNormals&&mesh.bufferNormal(o.normals),this._callback&&this._callback(mesh,o),mesh}}]),ObjLoader}(_BinaryLoader3.default);ObjLoader.parse=function(objStr){return(new ObjLoader).parseObj(objStr)},exports.default=ObjLoader},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_BinaryLoader2=__webpack_require__(19),_BinaryLoader3=_interopRequireDefault(_BinaryLoader2),_HDRParser=__webpack_require__(68),_HDRParser2=_interopRequireDefault(_HDRParser),HDRLoader=function(_BinaryLoader){function HDRLoader(){return _classCallCheck(this,HDRLoader),_possibleConstructorReturn(this,(HDRLoader.__proto__||Object.getPrototypeOf(HDRLoader)).call(this,!0))}return _inherits(HDRLoader,_BinaryLoader),_createClass(HDRLoader,[{key:"parse",value:function(mArrayBuffer){return(0,_HDRParser2.default)(mArrayBuffer)}},{key:"_onLoaded",value:function(){var o=this.parse(this._req.response);this._callback&&this._callback(o)}}]),HDRLoader}(_BinaryLoader3.default);HDRLoader.parse=function(mArrayBuffer){return(0,_HDRParser2.default)(mArrayBuffer)},exports.default=HDRLoader},function(module,exports,__webpack_require__){"use strict";function readPixelsRawRLE(buffer,data,offset,fileOffset,scanlineWidth,numScanlines){function readBuf(buf){var bytesRead=0;do{buf[bytesRead++]=buffer[fileOffset]}while(++fileOffset<bufferLength&&bytesRead<buf.length);return bytesRead}function readBufOffset(buf,offset,length){var bytesRead=0;do{buf[offset+bytesRead++]=buffer[fileOffset]}while(++fileOffset<bufferLength&&bytesRead<length);return bytesRead}for(var rgbe=new Array(4),scanlineBuffer=null,ptr=void 0,ptrEnd=void 0,count=void 0,buf=new Array(2),bufferLength=buffer.length;numScanlines>0;){if(readBuf(rgbe)<rgbe.length)throw new Error("Error reading bytes: expected "+rgbe.length);if(2!==rgbe[0]||2!==rgbe[1]||0!=(128&rgbe[2]))return data[offset++]=rgbe[0],data[offset++]=rgbe[1],data[offset++]=rgbe[2],data[offset++]=rgbe[3],void function(buffer,data,offset,numpixels){var numExpected=4*numpixels,numRead=readBufOffset(data,offset,numExpected);if(numRead<numExpected)throw new Error("Error reading raw pixels: got "+numRead+" bytes, expected "+numExpected)}(0,data,offset,scanlineWidth*numScanlines-1);if(((255&rgbe[2])<<8|255&rgbe[3])!==scanlineWidth)throw new Error("Wrong scanline width "+((255&rgbe[2])<<8|255&rgbe[3])+", expected "+scanlineWidth);null===scanlineBuffer&&(scanlineBuffer=new Array(4*scanlineWidth)),ptr=0;for(var i=0;i<4;i++)for(ptrEnd=(i+1)*scanlineWidth;ptr<ptrEnd;){if(readBuf(buf)<buf.length)throw new Error("Error reading 2-byte buffer");if((255&buf[0])>128){if(0===(count=(255&buf[0])-128)||count>ptrEnd-ptr)throw new Error("Bad scanline data");for(;count-- >0;)scanlineBuffer[ptr++]=buf[1]}else{if(0===(count=255&buf[0])||count>ptrEnd-ptr)throw new Error("Bad scanline data");if(scanlineBuffer[ptr++]=buf[1],--count>0){if(readBufOffset(scanlineBuffer,ptr,count)<count)throw new Error("Error reading non-run data");ptr+=count}}}for(var _i=0;_i<scanlineWidth;_i++)data[offset+0]=scanlineBuffer[_i],data[offset+1]=scanlineBuffer[_i+scanlineWidth],data[offset+2]=scanlineBuffer[_i+2*scanlineWidth],data[offset+3]=scanlineBuffer[_i+3*scanlineWidth],offset+=4;numScanlines--}}function parseHdr(buffer){buffer instanceof ArrayBuffer&&(buffer=new Uint8Array(buffer));for(var fileOffset=0,bufferLength=buffer.length,NEW_LINE=10,width=0,height=0,exposure=1,rle=!1,i=0;i<20;i++){var line=function(){var buf="";do{var b=buffer[fileOffset];if(b===NEW_LINE){++fileOffset;break}buf+=String.fromCharCode(b)}while(++fileOffset<bufferLength);return buf}(),match=void 0;if(match=line.match(radiancePattern));else if(match=line.match(formatPattern))rle=!0;else if(match=line.match(exposurePattern))exposure=Number(match[1]);else if(match=line.match(commentPattern));else if(match=line.match(widthHeightPattern)){height=Number(match[1]),width=Number(match[2]);break}}if(!rle)throw new Error("File is not run length encoded!");var data=new Uint8Array(width*height*4);readPixelsRawRLE(buffer,data,0,fileOffset,width,height);for(var floatData=new Float32Array(width*height*4),offset=0;offset<data.length;offset+=4){var r=data[offset+0]/255,g=data[offset+1]/255,b=data[offset+2]/255,e=data[offset+3],f=Math.pow(2,e-128);r*=f,g*=f,b*=f;var floatOffset=offset;floatData[floatOffset+0]=r,floatData[floatOffset+1]=g,floatData[floatOffset+2]=b,floatData[floatOffset+3]=1}return{shape:[width,height],exposure:exposure,gamma:1,data:floatData}}Object.defineProperty(exports,"__esModule",{value:!0});var radiancePattern="#\\?RADIANCE",commentPattern="#.*",exposurePattern="EXPOSURE=\\s*([0-9]*[.][0-9]*)",formatPattern="FORMAT=32-bit_rle_rgbe",widthHeightPattern="-Y ([0-9]+) \\+X ([0-9]+)";exports.default=parseHdr},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _colladaParser=__webpack_require__(70),_colladaParser2=_interopRequireDefault(_colladaParser),_Mesh=__webpack_require__(6),_Mesh2=_interopRequireDefault(_Mesh),generateMesh=function(meshes){var caches={};meshes.forEach(function(mesh){var _mesh$mesh=mesh.mesh,vertices=_mesh$mesh.vertices,normals=_mesh$mesh.normals,coords=_mesh$mesh.coords,triangles=_mesh$mesh.triangles,name=_mesh$mesh.name;if(!caches[name]){var glMesh=(new _Mesh2.default).bufferFlattenData(vertices,"aVertexPosition",3).bufferFlattenData(coords,"aTextureCoord",2).bufferFlattenData(normals,"aNormal",3).bufferIndex(triangles);caches[name]=glMesh}mesh.glMesh=caches[name]})},parse=function(mData){var meshes=_colladaParser2.default.parse(mData);return generateMesh(meshes),meshes},load=function(mPath,mCallback){_colladaParser2.default.load(mPath,function(meshes){generateMesh(meshes),mCallback(meshes)})},ColladaParser={parse:parse,load:load};exports.default=ColladaParser},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Collada=__webpack_require__(71),_Collada2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Collada),_glMatrix=__webpack_require__(1),parseData=function(mData){function getMaterial(id){var mat=void 0;for(var _s in materials)_s===id&&(mat=materials[_s]);var oMaterial={};return mat.diffuse&&(oMaterial.diffuseColor=mat.diffuse),oMaterial.diffuseColor=mat.diffuse||[0,0,0],oMaterial.shininess=mat.shininess||0,mat.textures&&(mat.textures.diffuse&&(oMaterial.diffuseMapID=mat.textures.diffuse.map_id),mat.textures.normal&&(oMaterial.normalMapID=mat.textures.normal.map_id)),oMaterial}function walk(node,mtxParent){var m=_glMatrix.mat4.create();if(node.model?_glMatrix.mat4.multiply(m,mtxParent,node.model):_glMatrix.mat4.copy(m,mtxParent),node.children.length>0&&node.children.forEach(function(child){walk(child,m)}),node.mesh){var _oMesh={};_oMesh.modelMatrix=m,_oMesh.mesh=meshes[node.mesh],_oMesh.id=node.id,_oMesh.name=node.name,_oMesh.material=getMaterial(node.material),meshObjs.push(_oMesh)}}var materials=mData.materials,meshes=mData.meshes,meshObjs=[],allMeshes=[];for(var s in meshes){var oMesh=meshes[s],vertices=oMesh.vertices,normals=oMesh.normals,coords=oMesh.coords,triangles=oMesh.triangles,buffers={vertices:vertices,normals:normals,coords:coords,triangles:triangles};allMeshes.push({id:s,buffers:buffers})}var mtx=_glMatrix.mat4.create();return walk(mData.root,mtx),meshObjs},parse=function(mFile){var o=_Collada2.default.parse(mFile);return parseData(o)},load=function(mPath,mCallBack){_Collada2.default.load(mPath,function(mData){mCallBack(parseData(mData))})},ColladaParser={load:load,parse:parse};exports.default=ColladaParser,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";(function(global){function request(url,callback){var req=new XMLHttpRequest;req.onload=function(){this.response;200==this.status&&callback&&callback(this.response)},req.open("get",url,!0),req.send()}Object.defineProperty(exports,"__esModule",{value:!0});var _glMatrix=__webpack_require__(1),isWorker=void 0===global.document,DEG2RAD=2*Math.PI/360,temp_mat4=null,temp_vec2=null,temp_vec3=null,temp_vec4=null,temp_quat=null,Collada={libsPath:"./",workerPath:"./",no_flip:!0,use_transferables:!0,onerror:null,verbose:!1,config:{forceParser:!1},init:function(config){config=config||{};for(var i in config)this[i]=config[i];if(this.config=config,isWorker)try{importScripts(this.libsPath+"gl-matrix-min.js",this.libsPath+"tinyxml.js")}catch(err){Collada.throwException(Collada.LIBMISSING_ERROR)}temp_mat4=_glMatrix.mat4.create(),temp_vec2=vec3.create(),temp_vec3=vec3.create(),temp_vec4=vec3.create(),temp_quat=_glMatrix.quat.create()},load:function(url,callback){request(url,function(data){callback(data?Collada.parse(data):null)})},_xmlroot:null,_nodes_by_id:null,_transferables:null,_controllers_found:null,_geometries_found:null,safeString:function(str){return str?this.convertID?this.convertID(str):str.replace(/ /g,"_"):""},LIBMISSING_ERROR:"Libraries loading error, when using workers remember to pass the URL to the tinyxml.js in the options.libsPath",NOXMLPARSER_ERROR:"TinyXML not found, when using workers remember to pass the URL to the tinyxml.js in the options.libsPath (Workers do not allow to access the native XML DOMParser)",throwException:function(msg){throw isWorker?self.postMessage({action:"exception",msg:msg}):Collada.onerror&&Collada.onerror(msg),msg},getFilename:function(filename){var pos=filename.lastIndexOf("\\");return-1!=pos&&(filename=filename.substr(pos+1)),pos=filename.lastIndexOf("/"),-1!=pos&&(filename=filename.substr(pos+1)),filename},last_name:0,generateName:function(v){v=v||"name_";var name=v+this.last_name;return this.last_name++,name},parse:function(data,options,filename){options=options||{},filename=filename||"_dae_"+Date.now()+".dae";var xmlparser=null,root=null;if(this._transferables=[],this.verbose,global.DOMParser&&!this.config.forceParser)xmlparser=new DOMParser,root=xmlparser.parseFromString(data,"text/xml"),this.verbose;else{if(!global.DOMImplementation)return Collada.throwException(Collada.NOXMLPARSER_ERROR);try{xmlparser=new DOMImplementation}catch(err){return Collada.throwException(Collada.NOXMLPARSER_ERROR)}root=xmlparser.loadXML(data),this.verbose;for(var by_ids=root._nodes_by_id={},i=0,l=root.all.length;i<l;++i){var node=root.all[i];by_ids[node.id]=node,node.getAttribute("sid")&&(by_ids[node.getAttribute("sid")]=node)}this.extra_functions||(this.extra_functions=!0,DOMDocument.prototype.querySelector=DOMElement.prototype.querySelector=function(selector){for(var tags=selector.split(" "),current_element=this;tags.length;){var current=tags.shift(),tokens=current.split("#"),tagname=tokens[0],id=tokens[1],elements=tagname?current_element.getElementsByTagName(tagname):current_element.childNodes;if(id){for(var i=0;i<elements.length;i++)if(elements.item(i).getAttribute("id")==id){if(0==tags.length)return elements.item(i);current_element=elements.item(i);break}}else{if(0==tags.length)return elements.item(0);current_element=elements.item(0)}}return null},DOMDocument.prototype.querySelectorAll=DOMElement.prototype.querySelectorAll=function(selector){function inner(root,tags){if(tags){var current=tags.shift(),elements=root.getElementsByTagName(current);if(0!=tags.length)for(var i=0;i<elements.length;i++)inner(elements.item(i),tags.concat());else for(var i=0;i<elements.length;i++)result.push(elements.item(i))}}var tags=selector.split(" ");if(1==tags.length)return this.getElementsByTagName(selector);var result=[];inner(this,tags);var list=new DOMNodeList(this.documentElement);return list._nodes=result,list.length=result.length,list},Object.defineProperty(DOMElement.prototype,"textContent",{get:function(){return this.getChildNodes().item(0).toString()},set:function(){}}))}this._xmlroot=root;var xmlcollada=root.querySelector("COLLADA");xmlcollada&&(this._current_DAE_version=xmlcollada.getAttribute("version"));var xmlvisual_scene=root.getElementsByTagName("visual_scene").item(0);if(!xmlvisual_scene)throw"visual_scene XML node not found in DAE";this._nodes_by_id={},this._controllers_found={},this._geometries_found={};var scene={object_type:"SceneTree",light:null,materials:{},meshes:{},resources:{},root:{children:[]},external_files:{}},xmlasset=root.getElementsByTagName("asset")[0];xmlasset&&(scene.metadata=this.readAsset(xmlasset));for(var xmlnodes=xmlvisual_scene.childNodes,i=0;i<xmlnodes.length;i++)if("node"==xmlnodes.item(i).localName){var node=this.readNodeTree(xmlnodes.item(i),scene,0,!1);node&&scene.root.children.push(node)}for(var i=0;i<xmlnodes.length;i++)"node"==xmlnodes.item(i).localName&&this.readNodeInfo(xmlnodes.item(i),scene,0,!1);this.readLibraryControllers(scene);var animations=this.readAnimations(root,scene);if(animations){var animations_name="#animations_"+filename.substr(0,filename.indexOf("."));scene.resources[animations_name]=animations,scene.root.animations=animations_name}return scene.images=this.readImages(root),this._nodes_by_id={},this._controllers_found={},this._geometries_found={},this._xmlroot=null,scene},readAsset:function(xmlasset){for(var metadata={},i=0;i<xmlasset.childNodes.length;i++){var xmlchild=xmlasset.childNodes.item(i);if(1==xmlchild.nodeType)switch(xmlchild.localName){case"contributor":var tool=xmlchild.querySelector("authoring_tool");tool&&(metadata.authoring_tool=tool.textContext);break;case"unit":metadata.unit=xmlchild.getAttribute("name");break;default:metadata[xmlchild.localName]=xmlchild.textContent}}return metadata},readNodeTree:function(xmlnode,scene,level,flip){var node_id=this.safeString(xmlnode.getAttribute("id")),node_sid=this.safeString(xmlnode.getAttribute("sid"));if(!node_id&&!node_sid)return null;var node={id:node_sid||node_id,children:[],_depth:level},node_type=xmlnode.getAttribute("type");node_type&&(node.type=node_type);var node_name=xmlnode.getAttribute("name");node_name&&(node.name=node_name),this._nodes_by_id[node.id]=node,node_id&&(this._nodes_by_id[node_id]=node),node_sid&&(this._nodes_by_id[node_sid]=node),node.model=this.readTransform(xmlnode,level,flip);for(var i=0;i<xmlnode.childNodes.length;i++){var xmlchild=xmlnode.childNodes.item(i);if(1==xmlchild.nodeType)if("node"!=xmlchild.localName);else{var child_node=this.readNodeTree(xmlchild,scene,level+1,flip);child_node&&node.children.push(child_node)}}return node},readNodeInfo:function(xmlnode,scene,level,flip,parent){var node,node_id=this.safeString(xmlnode.getAttribute("id")),node_sid=this.safeString(xmlnode.getAttribute("sid"));if(node_id||node_sid)node=this._nodes_by_id[node_id||node_sid];else{if(!parent)return null;node=this._nodes_by_id[parent.id||parent.sid]}if(!node)return null;for(var i=0;i<xmlnode.childNodes.length;i++){var xmlchild=xmlnode.childNodes.item(i);if(1==xmlchild.nodeType)if("node"!=xmlchild.localName){if("instance_geometry"==xmlchild.localName){var url=xmlchild.getAttribute("url"),mesh_id=url.toString().substr(1);if(node.mesh=mesh_id,!scene.meshes[url]){var mesh_data=this.readGeometry(url,flip);mesh_data&&(mesh_data.name=mesh_id,scene.meshes[mesh_id]=mesh_data)}var xmlmaterials=xmlchild.querySelectorAll("instance_material");if(xmlmaterials)for(var iMat=0;iMat<xmlmaterials.length;++iMat){var xmlmaterial=xmlmaterials.item(iMat);if(xmlmaterial){var matname=xmlmaterial.getAttribute("target").toString().substr(1);if(!scene.materials[matname]){var material=this.readMaterial(matname);material&&(material.id=matname,scene.materials[material.id]=material)}0==iMat?node.material=matname:(node.materials||(node.materials=[]),node.materials.push(matname))}}}if("instance_controller"==xmlchild.localName){var url=xmlchild.getAttribute("url"),xmlcontroller=this._xmlroot.querySelector("controller"+url);if(xmlcontroller){var mesh_data=this.readController(xmlcontroller,flip,scene),xmlbind_material=xmlchild.querySelector("bind_material");if(xmlbind_material)for(var xmltechniques=xmlbind_material.querySelectorAll("technique_common"),iTec=0;iTec<xmltechniques.length;iTec++)for(var xmltechnique=xmltechniques.item(iTec),xmlinstance_materials=xmltechnique.querySelectorAll("instance_material"),iMat=0;iMat<xmlinstance_materials.length;iMat++){var xmlinstance_material=xmlinstance_materials.item(iMat);if(xmlinstance_material){var matname=xmlinstance_material.getAttribute("target").toString().substr(1);if(!scene.materials[matname]){var material=this.readMaterial(matname);material&&(material.id=matname,scene.materials[material.id]=material)}0==iMat?node.material=matname:(node.materials||(node.materials=[]),node.materials.push(matname))}}if(mesh_data){var mesh=mesh_data;"morph"==mesh_data.type&&(mesh=mesh_data.mesh,node.morph_targets=mesh_data.morph_targets),mesh.name=url.toString(),node.mesh=url.toString(),scene.meshes[url]=mesh}}}if("instance_light"==xmlchild.localName){var url=xmlchild.getAttribute("url");this.readLight(node,url)}if("instance_camera"==xmlchild.localName){var url=xmlchild.getAttribute("url");this.readCamera(node,url)}}else this.readNodeInfo(xmlchild,scene,level+1,flip,xmlnode)}},material_translate_table:{},light_translate_table:{point:"omni",directional:"directional",spot:"spot"},camera_translate_table:{xfov:"fov",aspect_ratio:"aspect",znear:"near",zfar:"far"},querySelectorAndId:function(root,selector,id){for(var nodes=root.querySelectorAll(selector),i=0;i<nodes.length;i++){var attr_id=nodes.item(i).getAttribute("id");if(attr_id&&(attr_id=attr_id.toString())==id)return nodes.item(i)}return null},getFirstChildElement:function(root,localName){for(var c=root.childNodes,i=0;i<c.length;++i){var item=c.item(i);if(item.localName&&!localName||localName&&localName==item.localName)return item}return null},readMaterial:function(url){var xmlmaterial=this.querySelectorAndId(this._xmlroot,"library_materials material",url);if(!xmlmaterial)return null;var xmleffect=xmlmaterial.querySelector("instance_effect");if(!xmleffect)return null;var effect_url=xmleffect.getAttribute("url").substr(1),xmleffects=this.querySelectorAndId(this._xmlroot,"library_effects effect",effect_url);if(!xmleffects)return null;var xmltechnique=xmleffects.querySelector("technique");if(!xmltechnique)return null;for(var xmlnewparams=xmleffects.querySelectorAll("newparam"),newparams={},i=0;i<xmlnewparams.length;i++){var parent,init_from=xmlnewparams[i].querySelector("init_from");if(init_from)parent=init_from.innerHTML;else{parent=xmlnewparams[i].querySelector("source").innerHTML}newparams[xmlnewparams[i].getAttribute("sid")]={parent:parent}}var material={},images=this.readImages(this._xmlroot),xmlphong=xmltechnique.querySelector("phong");if(xmlphong||(xmlphong=xmltechnique.querySelector("blinn")),xmlphong||(xmlphong=xmltechnique.querySelector("lambert")),!xmlphong)return null;for(var i=0;i<xmlphong.childNodes.length;++i){var xmlparam=xmlphong.childNodes.item(i);if(xmlparam.localName){var param_name=xmlparam.localName.toString();this.material_translate_table[param_name]&&(param_name=this.material_translate_table[param_name]);var xmlparam_value=this.getFirstChildElement(xmlparam);if(xmlparam_value)if("color"!=xmlparam_value.localName.toString())if("float"!=xmlparam_value.localName.toString()){if("texture"==xmlparam_value.localName.toString()){material.textures||(material.textures={});var map_id=xmlparam_value.getAttribute("texture");if(!map_id)continue;-1===map_id.indexOf(".")&&(map_id=this.getParentParam(newparams,map_id),images[map_id]&&(map_id=images[map_id].path));var map_info={map_id:map_id},uvs=xmlparam_value.getAttribute("texcoord");map_info.uvs=uvs,material.textures[param_name]=map_info}}else material[param_name]=this.readContentAsFloats(xmlparam_value)[0];else{var value=this.readContentAsFloats(xmlparam_value);"RGB_ZERO"==xmlparam.getAttribute("opaque")?material[param_name]=value.subarray(0,4):material[param_name]=value.subarray(0,3)}}}return material.object_type="Material",material},getParentParam:function(newparams,param){return newparams[param]&&newparams[param].parent?this.getParentParam(newparams,newparams[param].parent):param},readLight:function(node,url){function parse_params(light,xml){for(var i=0;i<xml.childNodes.length;i++){var child=xml.childNodes.item(i);if(child&&1==child.nodeType)switch(child.localName){case"color":light.color=Collada.readContentAsFloats(child);break;case"falloff_angle":light.angle_end=Collada.readContentAsFloats(child)[0],light.angle=light.angle_end-10}}}var light={},xmlnode=null;if(url.length>1)xmlnode=this._xmlroot.querySelector("library_lights "+url);else{var xmlliblights=this._xmlroot.querySelector("library_lights");xmlnode=this.getFirstChildElement(xmlliblights,"light")}if(!xmlnode)return null;var children=[],xml=xmlnode.querySelector("technique_common");if(xml)for(var i=0;i<xml.childNodes.length;i++)1==xml.childNodes.item(i).nodeType&&children.push(xml.childNodes.item(i));for(var xmls=xmlnode.querySelectorAll("technique"),i=0;i<xmls.length;i++)for(var xml2=xmls.item(i),j=0;j<xml2.childNodes.length;j++)1==xml2.childNodes.item(j).nodeType&&children.push(xml2.childNodes.item(j));for(var i=0;i<children.length;i++){var xml=children[i];switch(xml.localName){case"point":case"directional":case"spot":light.type=this.light_translate_table[xml.localName],parse_params(light,xml);break;case"intensity":light.intensity=this.readContentAsFloats(xml)[0]}}if(node.model){light.position=[node.model[12],node.model[13],node.model[14]];var forward=[-node.model[8],-node.model[9],-node.model[10]];light.target=[light.position[0]+forward[0],light.position[1]+forward[1],light.position[2]+forward[2]]}else light.position=[0,0,0],light.target=[0,-1,0];node.light=light},readCamera:function(node,url){var camera={},xmlnode=this._xmlroot.querySelector("library_cameras "+url);if(!xmlnode)return null;var children=[],xml=xmlnode.querySelector("technique_common");if(xml)for(var i=0;i<xml.childNodes.length;i++)1==xml.childNodes.item(i).nodeType&&children.push(xml.childNodes.item(i));for(var i=0;i<children.length;i++){var tag=children[i];!function(camera,xml){for(var i=0;i<xml.childNodes.length;i++){var child=xml.childNodes.item(i);child&&1==child.nodeType&&(camera[Collada.camera_translate_table[child.localName]||child.localName]=parseFloat(child.textContent))}}(camera,tag)}camera.yfov&&!camera.fov&&camera.aspect&&(camera.fov=camera.yfov*camera.aspect),node.camera=camera},readTransform:function(xmlnode,level,flip){for(var matrix=_glMatrix.mat4.create(),temp=_glMatrix.mat4.create(),tmpq=_glMatrix.quat.create(),i=0;i<xmlnode.childNodes.length;i++){var xml=xmlnode.childNodes.item(i);if(xml&&1==xml.nodeType){if("matrix"==xml.localName){var matrix=this.readContentAsFloats(xml);return this.transformMatrix(matrix,0==level),matrix}if("translate"!=xml.localName)if("rotate"!=xml.localName){if("scale"==xml.localName){var values=this.readContentAsFloats(xml);if(flip){var tmp=values[1];values[1]=values[2],values[2]=-tmp}_glMatrix.mat4.scale(matrix,matrix,values)}}else{var values=this.readContentAsFloats(xml);if(4==values.length){var id=xml.getAttribute("sid");if("jointOrientX"==id&&(values[3]+=90,!0),flip){var tmp=values[1];values[1]=values[2],values[2]=-tmp}0!=values[3]&&(_glMatrix.quat.setAxisAngle(tmpq,values.subarray(0,3),values[3]*DEG2RAD),_glMatrix.mat4.fromQuat(temp,tmpq),_glMatrix.mat4.multiply(matrix,matrix,temp))}}else{var values=this.readContentAsFloats(xml);if(flip&&level>0){var tmp=values[1];values[1]=values[2],values[2]=-tmp}_glMatrix.mat4.translate(matrix,matrix,values)}}}return matrix},readTransform2:function(xmlnode,level,flip){for(var matrix=_glMatrix.mat4.create(),rotation=_glMatrix.quat.create(),tmpmatrix=_glMatrix.mat4.create(),tmpq=_glMatrix.quat.create(),translate=vec3.create(),scale=vec3.fromValues(1,1,1),i=0;i<xmlnode.childNodes.length;i++){var xml=xmlnode.childNodes.item(i);if("matrix"==xml.localName){var matrix=this.readContentAsFloats(xml);return this.transformMatrix(matrix,0==level),matrix}if("translate"!=xml.localName)if("rotate"!=xml.localName){if("scale"==xml.localName){var values=this.readContentAsFloats(xml);if(flip){var tmp=values[1];values[1]=values[2],values[2]=-tmp}scale.set(values)}}else{var values=this.readContentAsFloats(xml);if(4==values.length){var id=xml.getAttribute("sid");if("jointOrientX"==id&&(values[3]+=90,!0),flip){var tmp=values[1];values[1]=values[2],values[2]=-tmp}0!=values[3]&&(_glMatrix.quat.setAxisAngle(tmpq,values.subarray(0,3),values[3]*DEG2RAD),_glMatrix.quat.multiply(rotation,rotation,tmpq))}}else{var values=this.readContentAsFloats(xml);translate.set(values)}}if(flip&&level>0){var tmp=translate[1];translate[1]=translate[2],translate[2]=-tmp}return _glMatrix.mat4.translate(matrix,matrix,translate),_glMatrix.mat4.fromQuat(tmpmatrix,rotation),_glMatrix.mat4.multiply(matrix,matrix,tmpmatrix),_glMatrix.mat4.scale(matrix,matrix,scale),matrix},readGeometry:function(id,flip,scene){if(void 0!==this._geometries_found[id])return this._geometries_found[id];var xmlgeometry=this._xmlroot.getElementById(id.substr(1));if(!xmlgeometry)return this._geometries_found[id]=null,null;if("controller"==xmlgeometry.localName){var geometry=this.readController(xmlgeometry,flip,scene);return this._geometries_found[id]=geometry,geometry}if("geometry"!=xmlgeometry.localName)return this._geometries_found[id]=null,null;var xmlmesh=xmlgeometry.querySelector("mesh");if(!xmlmesh)return this._geometries_found[id]=null,null;for(var sources={},xmlsources=xmlmesh.querySelectorAll("source"),i=0;i<xmlsources.length;i++){var xmlsource=xmlsources.item(i);if(xmlsource.querySelector){var float_array=xmlsource.querySelector("float_array");if(float_array){var floats=this.readContentAsFloats(float_array),xmlaccessor=xmlsource.querySelector("accessor"),stride=parseInt(xmlaccessor.getAttribute("stride"));sources[xmlsource.getAttribute("id")]={stride:stride,data:floats}}}}var xmlvertices=xmlmesh.querySelector("vertices input"),vertices_source=sources[xmlvertices.getAttribute("source").substr(1)];sources[xmlmesh.querySelector("vertices").getAttribute("id")]=vertices_source;var mesh=null,xmlpolygons=xmlmesh.querySelector("polygons");if(xmlpolygons&&(mesh=this.readTriangles(xmlpolygons,sources)),!mesh){var xmltriangles=xmlmesh.querySelectorAll("triangles");xmltriangles&&xmltriangles.length&&(mesh=this.readTriangles(xmltriangles,sources))}if(!mesh){var xmlpolylist=xmlmesh.querySelector("polylist");xmlpolylist&&(mesh=this.readPolylist(xmlpolylist,sources))}if(!mesh){var xmllinestrip=xmlmesh.querySelector("linestrips");xmllinestrip&&(mesh=this.readLineStrip(sources,xmllinestrip))}if(!mesh)return this._geometries_found[id]=null,null;if(flip&&!this.no_flip){for(var tmp=0,array=mesh.vertices,i=0,l=array.length;i<l;i+=3)tmp=array[i+1],array[i+1]=array[i+2],array[i+2]=-tmp;array=mesh.normals;for(var i=0,l=array.length;i<l;i+=3)tmp=array[i+1],array[i+1]=array[i+2],array[i+2]=-tmp}if(isWorker&&this.use_transferables)for(var i in mesh){var data=mesh[i];data&&data.buffer&&data.length>100&&this._transferables.push(data.buffer)}return mesh.filename=id,mesh.object_type="Mesh",this._geometries_found[id]=mesh,mesh},readTriangles:function(xmltriangles,sources){for(var groups=[],buffers=[],last_index=0,facemap={},vertex_remap=[],indicesArray=[],last_start=0,material_name="",tris=0;tris<xmltriangles.length;tris++){var xml_shape_root=xmltriangles.item(tris),triangles="triangles"==xml_shape_root.localName;material_name=xml_shape_root.getAttribute("material"),0==tris&&(buffers=this.readShapeInputs(xml_shape_root,sources));for(var xmlps=xml_shape_root.querySelectorAll("p"),i=(buffers.length,0);i<xmlps.length;i++){var xmlp=xmlps.item(i);if(!xmlp||!xmlp.textContent)break;var data=xmlp.textContent.trim().split(" "),first_index=-1,current_index=-1,prev_index=-1,num_values_per_vertex=1;for(var b in buffers)num_values_per_vertex=Math.max(num_values_per_vertex,buffers[b][4]+1);for(var k=0,l=data.length;k<l;k+=num_values_per_vertex){var vertex_id=data.slice(k,k+num_values_per_vertex).join(" ");if(prev_index=current_index,facemap.hasOwnProperty(vertex_id))current_index=facemap[vertex_id];else{for(var j=0;j<buffers.length;++j){var buffer=buffers[j],array=buffer[1],source=buffer[3],index=parseInt(data[k+buffer[4]]);0==j&&(vertex_remap[array.length/buffer[2]]=index),index*=buffer[2];for(var x=0;x<buffer[2];++x){if(void 0===source[index+x])throw"UNDEFINED!";array.push(source[index+x])}}current_index=last_index,last_index+=1,facemap[vertex_id]=current_index}triangles||(0==k&&(first_index=current_index),k>2&&(indicesArray.push(first_index),indicesArray.push(prev_index))),indicesArray.push(current_index)}}var group={name:"group"+tris,start:last_start,length:indicesArray.length-last_start,material:material_name||""};last_start=indicesArray.length,groups.push(group)}var mesh={vertices:new Float32Array(buffers[0][1]),info:{groups:groups},_remap:new Uint32Array(vertex_remap)};return this.transformMeshInfo(mesh,buffers,indicesArray),mesh},readPolylist:function(xml_shape_root,sources){var buffers=[],last_index=0,facemap={},vertex_remap=[],indicesArray=[];xml_shape_root.getAttribute("material"),buffers=this.readShapeInputs(xml_shape_root,sources);for(var xmlvcount=xml_shape_root.querySelector("vcount"),vcount=this.readContentAsUInt32(xmlvcount),xmlp=xml_shape_root.querySelector("p"),data=this.readContentAsUInt32(xmlp),num_data_vertex=buffers.length,pos=0,i=0,l=vcount.length;i<l;++i)for(var num_vertices=vcount[i],first_index=-1,current_index=-1,prev_index=-1,k=0;k<num_vertices;++k){var vertex_id=data.subarray(pos,pos+num_data_vertex).join(" ");if(prev_index=current_index,facemap.hasOwnProperty(vertex_id))current_index=facemap[vertex_id];else{for(var j=0;j<buffers.length;++j){var buffer=buffers[j],index=parseInt(data[pos+j]),array=buffer[1],source=buffer[3];0==j&&(vertex_remap[array.length/num_data_vertex]=index),index*=buffer[2];for(var x=0;x<buffer[2];++x)array.push(source[index+x])}current_index=last_index,last_index+=1,facemap[vertex_id]=current_index}num_vertices>3&&(0==k&&(first_index=current_index),k>2&&(indicesArray.push(first_index),indicesArray.push(prev_index))),indicesArray.push(current_index),pos+=num_data_vertex}var mesh={vertices:new Float32Array(buffers[0][1]),info:{},_remap:new Uint32Array(vertex_remap)};return this.transformMeshInfo(mesh,buffers,indicesArray),mesh},readShapeInputs:function(xml_shape_root,sources){for(var buffers=[],xmlinputs=xml_shape_root.querySelectorAll("input"),i=0;i<xmlinputs.length;i++){var xmlinput=xmlinputs.item(i);if(xmlinput.getAttribute){var semantic=xmlinput.getAttribute("semantic").toUpperCase(),stream_source=sources[xmlinput.getAttribute("source").substr(1)],offset=parseInt(xmlinput.getAttribute("offset")),data_set=0;xmlinput.getAttribute("set")&&(data_set=parseInt(xmlinput.getAttribute("set"))),buffers.push([semantic,[],stream_source.stride,stream_source.data,offset,data_set])}}return buffers},transformMeshInfo:function(mesh,buffers,indicesArray){for(var translator={normal:"normals",texcoord:"coords"},i=1;i<buffers.length;++i){var name=buffers[i][0].toLowerCase(),data=buffers[i][1];data.length&&(translator[name]&&(name=translator[name]),mesh[name]&&(name+=buffers[i][5]),mesh[name]=new Float32Array(data))}return indicesArray&&indicesArray.length&&(mesh.vertices.length>65536?mesh.triangles=new Uint32Array(indicesArray):mesh.triangles=new Uint16Array(indicesArray)),mesh},readLineStrip:function(sources,xmllinestrip){for(var buffers=[],last_index=0,facemap={},vertex_remap=[],indicesArray=[],xmlinputs=xmllinestrip.querySelectorAll("input"),i=0;i<xmlinputs.length;i++){var xmlinput=xmlinputs.item(i);if(xmlinput.getAttribute){var semantic=xmlinput.getAttribute("semantic").toUpperCase(),stream_source=sources[xmlinput.getAttribute("source").substr(1)],offset=parseInt(xmlinput.getAttribute("offset")),data_set=0;xmlinput.getAttribute("set")&&(data_set=parseInt(xmlinput.getAttribute("set"))),buffers.push([semantic,[],stream_source.stride,stream_source.data,offset,data_set])}}for(var xmlps=xmllinestrip.querySelectorAll("p"),num_data_vertex=buffers.length,i=0;i<xmlps.length;i++){var xmlp=xmlps.item(i);if(!xmlp||!xmlp.textContent)break;for(var data=xmlp.textContent.trim().split(" "),current_index=-1,k=0,l=data.length;k<l;k+=num_data_vertex){var vertex_id=data.slice(k,k+num_data_vertex).join(" ");if(current_index,facemap.hasOwnProperty(vertex_id))current_index=facemap[vertex_id];else{for(var j=0;j<buffers.length;++j){var buffer=buffers[j],index=parseInt(data[k+j]),array=buffer[1],source=buffer[3];0==j&&(vertex_remap[array.length/num_data_vertex]=index),index*=buffer[2];for(var x=0;x<buffer[2];++x)array.push(source[index+x])}current_index=last_index,last_index+=1,facemap[vertex_id]=current_index}indicesArray.push(current_index)}}var mesh={primitive:"line_strip",vertices:new Float32Array(buffers[0][1]),info:{}};return this.transformMeshInfo(mesh,buffers,indicesArray)},findXMLNodeById:function(root,nodename,id){if(this._xmlroot._nodes_by_id){var n=this._xmlroot._nodes_by_id[id];if(n&&n.localName==nodename)return n}else{var n=this._xmlroot.getElementById(id);if(n)return n}for(var childs=root.childNodes,i=0;i<childs.length;++i){var xmlnode=childs.item(i);if(1==xmlnode.nodeType&&xmlnode.localName==nodename){if(xmlnode.getAttribute("id")==id)return xmlnode}}return null},readImages:function(root){var xmlimages=root.querySelector("library_images");if(!xmlimages)return null;for(var images={},xmlimages_childs=xmlimages.childNodes,i=0;i<xmlimages_childs.length;++i){var xmlimage=xmlimages_childs.item(i);if(1==xmlimage.nodeType){var xmlinitfrom=xmlimage.querySelector("init_from");if(xmlinitfrom&&xmlinitfrom.textContent){var filename=this.getFilename(xmlinitfrom.textContent),id=xmlimage.getAttribute("id");images[id]={filename:filename,map:id,name:xmlimage.getAttribute("name"),path:xmlinitfrom.textContent}}}}return images},readAnimations:function(root,scene){var xmlanimations=root.querySelector("library_animations");if(!xmlanimations)return null;for(var xmlanimation_childs=xmlanimations.childNodes,animations={object_type:"Animation",takes:{}},default_take={tracks:[]},tracks=default_take.tracks,i=0;i<xmlanimation_childs.length;++i){var xmlanimation=xmlanimation_childs.item(i);if(1==xmlanimation.nodeType&&"animation"==xmlanimation.localName){if(xmlanimation.getAttribute("id"))this.readAnimation(xmlanimation,tracks);else{var xmlanimation2_childs=xmlanimation.querySelectorAll("animation");if(xmlanimation2_childs.length)for(var j=0;j<xmlanimation2_childs.length;++j){var xmlanimation2=xmlanimation2_childs.item(j);this.readAnimation(xmlanimation2,tracks)}else this.readAnimation(xmlanimation,tracks)}}}if(!tracks.length)return null;for(var max_time=0,i=0;i<tracks.length;++i)max_time<tracks[i].duration&&(max_time=tracks[i].duration);return default_take.name="default",default_take.duration=max_time,animations.takes[default_take.name]=default_take,animations},readAnimation:function(xmlanimation,result){if("animation"!=xmlanimation.localName)return null;var xmlchannel_list=(xmlanimation.getAttribute("id"),xmlanimation.querySelectorAll("channel"));if(!xmlchannel_list.length)return null;for(var tracks=result||[],i=0;i<xmlchannel_list.length;++i){var anim=this.readChannel(xmlchannel_list.item(i),xmlanimation);anim&&tracks.push(anim)}return tracks},readChannel:function(xmlchannel,xmlanimation){if("channel"!=xmlchannel.localName||"animation"!=xmlanimation.localName)return null;var source=xmlchannel.getAttribute("source"),target=xmlchannel.getAttribute("target"),xmlsampler=this.findXMLNodeById(xmlanimation,"sampler",source.substr(1));if(!xmlsampler)return null;for(var inputs={},params={},sources={},xmlinputs=xmlsampler.querySelectorAll("input"),time_data=null,j=0;j<xmlinputs.length;j++){var xmlinput=xmlinputs.item(j),source_name=xmlinput.getAttribute("source"),semantic=xmlinput.getAttribute("semantic"),xmlsource=this.findXMLNodeById(xmlanimation,"source",source_name.substr(1));if(xmlsource){var xmlparam=xmlsource.querySelector("param");if(xmlparam){var type=xmlparam.getAttribute("type");inputs[semantic]={source:source_name,type:type};var data_array=null;if("float"==type||"float4x4"==type){var xmlfloatarray=xmlsource.querySelector("float_array"),floats=this.readContentAsFloats(xmlfloatarray);sources[source_name]=floats,data_array=floats;var param_name=xmlparam.getAttribute("name");"TIME"==param_name&&(time_data=data_array),"OUTPUT"==semantic&&(param_name=semantic),param_name&&(params[param_name]=type)}}}}if(!time_data)return null;var path=target.split("/"),anim={},nodename=path[0],node=this._nodes_by_id[nodename],locator=node.id+"/"+path[1];anim.name=path[1],anim.property=locator;var type="number",element_size=1,param_type=params.OUTPUT;switch(param_type){case"float":element_size=1;break;case"float3x3":element_size=9,type="mat3";break;case"float4x4":element_size=16,type="mat4"}anim.type=type,anim.value_size=element_size,anim.duration=time_data[time_data.length-1];var value_data=sources[inputs.OUTPUT.source];if(!value_data)return null;for(var num_samples=time_data.length,sample_size=element_size+1,anim_data=new Float32Array(num_samples*sample_size),j=0;j<time_data.length;++j){anim_data[j*sample_size]=time_data[j];var value=value_data.subarray(j*element_size,(j+1)*element_size);"float4x4"==param_type&&this.transformMatrix(value,node?0==node._depth:0),anim_data.set(value,j*sample_size+1)}if(isWorker&&this.use_transferables){var data=anim_data;data&&data.buffer&&data.length>100&&this._transferables.push(data.buffer)}return anim.data=anim_data,anim},findNode:function(root,id){if(root.id==id)return root;if(root.children)for(var i in root.children){var ret=this.findNode(root.children[i],id);if(ret)return ret}return null},readLibraryControllers:function(scene){var xmllibrarycontrollers=this._xmlroot.querySelector("library_controllers");if(!xmllibrarycontrollers)return null;for(var xmllibrarycontrollers_childs=xmllibrarycontrollers.childNodes,i=0;i<xmllibrarycontrollers_childs.length;++i){var xmlcontroller=xmllibrarycontrollers_childs.item(i);if(1==xmlcontroller.nodeType&&"controller"==xmlcontroller.localName){var id=xmlcontroller.getAttribute("id");this._controllers_found[id]||this.readController(xmlcontroller,null,scene)}}},readController:function(xmlcontroller,flip,scene){if("controller"==!xmlcontroller.localName)return null;var id=xmlcontroller.getAttribute("id");if(this._controllers_found[id])return this._controllers_found[id];var mesh=null,xmlskin=xmlcontroller.querySelector("skin");xmlskin&&(mesh=this.readSkinController(xmlskin,flip,scene));var xmlmorph=xmlcontroller.querySelector("morph");return xmlmorph&&(mesh=this.readMorphController(xmlmorph,flip,scene,mesh)),this._controllers_found[id]?id+="_1blah":this._controllers_found[id]=mesh,mesh},readSkinController:function(xmlskin,flip,scene){var id_geometry=xmlskin.getAttribute("source"),mesh=this.readGeometry(id_geometry,flip,scene);if(!mesh)return null;var sources=this.readSources(xmlskin,flip);if(!sources)return null;var bind_matrix=null,xmlbindmatrix=xmlskin.querySelector("bind_shape_matrix");xmlbindmatrix?(bind_matrix=this.readContentAsFloats(xmlbindmatrix),this.transformMatrix(bind_matrix,!0,!0)):bind_matrix=_glMatrix.mat4.create();var joints=[],xmljoints=xmlskin.querySelector("joints");if(xmljoints){for(var joints_source=null,inv_bind_source=null,xmlinputs=xmljoints.querySelectorAll("input"),i=0;i<xmlinputs.length;i++){var xmlinput=xmlinputs[i],sem=xmlinput.getAttribute("semantic").toUpperCase(),src=xmlinput.getAttribute("source"),source=sources[src.substr(1)];"JOINT"==sem?joints_source=source:"INV_BIND_MATRIX"==sem&&(inv_bind_source=source)}if(!inv_bind_source||!joints_source)return null;for(var i in joints_source){var inv_mat=inv_bind_source.subarray(16*i,16*i+16),nodename=joints_source[i],node=this._nodes_by_id[nodename];node&&(this.transformMatrix(inv_mat,0==node._depth,!0),joints.push([nodename,inv_mat]))}}var xmlvertexweights=xmlskin.querySelector("vertex_weights");if(xmlvertexweights){for(var weights_indexed_array=null,xmlinputs=xmlvertexweights.querySelectorAll("input"),i=0;i<xmlinputs.length;i++)"WEIGHT"==xmlinputs[i].getAttribute("semantic").toUpperCase()&&(weights_indexed_array=sources[xmlinputs.item(i).getAttribute("source").substr(1)]);if(!weights_indexed_array)throw"no weights found";for(var xmlvcount=xmlvertexweights.querySelector("vcount"),vcount=this.readContentAsUInt32(xmlvcount),xmlv=xmlvertexweights.querySelector("v"),v=this.readContentAsUInt32(xmlv),num_vertices=mesh.vertices.length/3,weights_array=new Float32Array(4*num_vertices),bone_index_array=new Uint8Array(4*num_vertices),pos=0,remap=mesh._remap,max_bone=0,i=0,l=vcount.length;i<l;++i){for(var num_bones=vcount[i],offset=pos,b=bone_index_array.subarray(4*i,4*i+4),w=weights_array.subarray(4*i,4*i+4),sum=0,j=0;j<num_bones&&j<4;++j)b[j]=v[offset+2*j],b[j]>max_bone&&(max_bone=b[j]),w[j]=weights_indexed_array[v[offset+2*j+1]],sum+=w[j];if(num_bones>4&&sum<1)for(var inv_sum=1/sum,j=0;j<4;++j)w[j]*=inv_sum;pos+=2*num_bones}for(var final_weights=new Float32Array(4*num_vertices),final_bone_indices=new Uint8Array(4*num_vertices),used_joints=[],i=0;i<num_vertices;++i){for(var p=4*remap[i],w=weights_array.subarray(p,p+4),b=bone_index_array.subarray(p,p+4),k=0;k<3;++k){for(var max_pos=k,max_value=w[k],j=k+1;j<4;++j)w[j]<=max_value||(max_pos=j,max_value=w[j]);if(max_pos!=k){var tmp=w[k];w[k]=w[max_pos],w[max_pos]=tmp,tmp=b[k],b[k]=b[max_pos],b[max_pos]=tmp}}final_weights.set(w,4*i),final_bone_indices.set(b,4*i),w[0]&&(used_joints[b[0]]=!0),w[1]&&(used_joints[b[1]]=!0),w[2]&&(used_joints[b[2]]=!0),w[3]&&(used_joints[b[3]]=!0)}joints.length;for(var new_bones=[],bones_translation={},i=0;i<used_joints.length;++i)used_joints[i]&&(bones_translation[i]=new_bones.length,new_bones.push(joints[i]));if(new_bones.length<joints.length){for(var i=0;i<final_bone_indices.length;i++)final_bone_indices[i]=bones_translation[final_bone_indices[i]];joints=new_bones}mesh.weights=final_weights,mesh.bone_indices=final_bone_indices,mesh.bones=joints,mesh.bind_matrix=bind_matrix}return mesh},readMorphController:function(xmlmorph,flip,scene,mesh){var id_geometry=xmlmorph.getAttribute("source"),base_mesh=this.readGeometry(id_geometry,flip,scene);if(!base_mesh)return null;var sources=this.readSources(xmlmorph,flip),morphs=[],xmltargets=xmlmorph.querySelector("targets");if(!xmltargets)return null;for(var xmlinputs=xmltargets.querySelectorAll("input"),targets=null,weights=null,i=0;i<xmlinputs.length;i++){var xmlinput=xmlinputs.item(i),semantic=xmlinput.getAttribute("semantic").toUpperCase(),data=sources[xmlinput.getAttribute("source").substr(1)];"MORPH_TARGET"==semantic?targets=data:"MORPH_WEIGHT"==semantic&&(weights=data)}if(!targets||!weights)return null;for(var i in targets){var id="#"+targets[i],geometry=this.readGeometry(id,flip,scene);scene.meshes[id]=geometry,morphs.push({mesh:id,weight:weights[i]})}return base_mesh.morph_targets=morphs,base_mesh},readBindMaterials:function(xmlbind_material,mesh){for(var materials=[],xmltechniques=xmlbind_material.querySelectorAll("technique_common"),i=0;i<xmltechniques.length;i++)for(var xmltechnique=xmltechniques.item(i),xmlinstance_materials=xmltechnique.querySelectorAll("instance_material"),j=0;j<xmlinstance_materials.length;j++){var xmlinstance_material=xmlinstance_materials.item(j);xmlinstance_material&&materials.push(xmlinstance_material.getAttribute("symbol"))}return materials},readSources:function(xmlnode,flip){for(var sources={},xmlsources=xmlnode.querySelectorAll("source"),i=0;i<xmlsources.length;i++){var xmlsource=xmlsources.item(i);if(xmlsource.querySelector){if(xmlsource.querySelector("float_array")){var floats=this.readContentAsFloats(xmlsource);sources[xmlsource.getAttribute("id")]=floats}else{var name_array=xmlsource.querySelector("Name_array");if(name_array){var names=this.readContentAsStringsArray(name_array);if(!names)continue;sources[xmlsource.getAttribute("id")]=names}else{var ref_array=xmlsource.querySelector("IDREF_array");if(ref_array){var names=this.readContentAsStringsArray(ref_array);if(!names)continue;sources[xmlsource.getAttribute("id")]=names}else;}}}}return sources},readContentAsUInt32:function(xmlnode){if(!xmlnode)return null;var text=xmlnode.textContent;if(text=text.replace(/\n/gi," "),text=text.trim(),0==text.length)return null;for(var numbers=text.split(" "),floats=new Uint32Array(numbers.length),k=0;k<numbers.length;k++)floats[k]=parseInt(numbers[k]);return floats},readContentAsFloats:function(xmlnode){if(!xmlnode)return null;var text=xmlnode.textContent;text=text.replace(/\n/gi," "),text=text.replace(/\s\s+/gi," "),text=text.replace(/\t/gi,""),text=text.trim();for(var numbers=text.split(" "),count=xmlnode.getAttribute("count"),length=count?parseInt(count):numbers.length,floats=new Float32Array(length),k=0;k<numbers.length;k++)floats[k]=parseFloat(numbers[k]);return floats},readContentAsStringsArray:function(xmlnode){if(!xmlnode)return null;var text=xmlnode.textContent;text=text.replace(/\n/gi," "),text=text.replace(/\s\s/gi," "),text=text.trim();for(var words=text.split(" "),k=0;k<words.length;k++)words[k]=words[k].trim();if(xmlnode.getAttribute("count")&&parseInt(xmlnode.getAttribute("count"))!=words.length){var merged_words=[],name="";for(var i in words)name?name+=" "+words[i]:name=words[i],this._nodes_by_id[this.safeString(name)]&&(merged_words.push(this.safeString(name)),name="");var count=parseInt(xmlnode.getAttribute("count"));return merged_words.length==count?merged_words:null}return words},max3d_matrix_0:new Float32Array([0,-1,0,0,0,0,-1,0,1,0,0,-0,0,0,0,1]),transformMatrix:function(matrix,first_level,inverted){if(_glMatrix.mat4.transpose(matrix,matrix),this.no_flip)return matrix;if(first_level){var temp=new Float32Array(matrix.subarray(4,8));matrix.set(matrix.subarray(8,12),4),matrix.set(temp,8),temp=matrix.subarray(8,12),vec4.scale(temp,temp,-1)}else{var M=_glMatrix.mat4.create(),m=matrix;M.set([m[0],m[2],-m[1]],0),M.set([m[8],m[10],-m[9]],4),M.set([-m[4],-m[6],m[5]],8),M.set([m[12],m[14],-m[13]],12),m.set(M)}return matrix}};exports.default=Collada,module.exports=exports.default}).call(exports,__webpack_require__(72))},function(module,exports){var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Pass=__webpack_require__(10),_GLTool=(_interopRequireDefault(_Pass),__webpack_require__(0)),_GLTool2=_interopRequireDefault(_GLTool),_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_FrameBuffer=__webpack_require__(15),_FrameBuffer2=_interopRequireDefault(_FrameBuffer),EffectComposer=function(){function EffectComposer(mWidth,mHeight){arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,EffectComposer),this._width=mWidth||_GLTool2.default.width,this._height=mHeight||_GLTool2.default.height,this._params={},this.setSize(mWidth,mHeight),this._mesh=_Geom2.default.bigTriangle(),this._passes=[],this._returnTexture}return _createClass(EffectComposer,[{key:"addPass",value:function(pass){if(pass.passes)return void this.addPass(pass.passes);if(pass.length)for(var i=0;i<pass.length;i++)this._passes.push(pass[i]);else this._passes.push(pass)}},{key:"render",value:function(mSource){var _this=this,source=mSource,fboTarget=void 0;return this._passes.forEach(function(pass){fboTarget=pass.hasFbo?pass.fbo:_this._fboTarget,fboTarget.bind(),_GLTool2.default.clear(0,0,0,0),pass.render(source),_GLTool2.default.draw(_this._mesh),fboTarget.unbind(),pass.hasFbo?source=pass.fbo.getTexture():(_this._swap(),source=_this._fboCurrent.getTexture())}),this._returnTexture=source,source}},{key:"_swap",value:function(){var tmp=this._fboCurrent;this._fboCurrent=this._fboTarget,this._fboTarget=tmp,this._current=this._fboCurrent,this._target=this._fboTarget}},{key:"setSize",value:function(mWidth,mHeight){this._width=mWidth,this._height=mHeight,this._fboCurrent=new _FrameBuffer2.default(this._width,this._height,this._params),this._fboTarget=new _FrameBuffer2.default(this._width,this._height,this._params)}},{key:"getTexture",value:function(){return this._returnTexture}},{key:"passes",get:function(){return this._passes}}]),EffectComposer}();exports.default=EffectComposer},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _PassVBlur=__webpack_require__(38),_PassVBlur2=_interopRequireDefault(_PassVBlur),_PassHBlur=__webpack_require__(40),_PassHBlur2=_interopRequireDefault(_PassHBlur),_PassMacro2=__webpack_require__(37),_PassMacro3=_interopRequireDefault(_PassMacro2),PassBlur=function(_PassMacro){function PassBlur(){var mQuality=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,mWidth=arguments[1],mHeight=arguments[2],mParams=arguments[3];_classCallCheck(this,PassBlur);var _this=_possibleConstructorReturn(this,(PassBlur.__proto__||Object.getPrototypeOf(PassBlur)).call(this)),vBlur=new _PassVBlur2.default(mQuality,mWidth,mHeight,mParams),hBlur=new _PassHBlur2.default(mQuality,mWidth,mHeight,mParams);return _this.addPass(vBlur),_this.addPass(hBlur),_this}return _inherits(PassBlur,_PassMacro),PassBlur}(_PassMacro3.default);exports.default=PassBlur},function(module,exports){module.exports="// blur5.frag\n// source  : https://github.com/Jam3/glsl-fast-gaussian-blur\n\n#define SHADER_NAME BLUR_5\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform vec2 uDirection;\nuniform vec2 uResolution;\n\nvec4 blur5(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n\tvec4 color = vec4(0.0);\n\tvec2 off1 = vec2(1.3333333333333333) * direction;\n\tcolor += texture2D(image, uv) * 0.29411764705882354;\n\tcolor += texture2D(image, uv + (off1 / resolution)) * 0.35294117647058826;\n\tcolor += texture2D(image, uv - (off1 / resolution)) * 0.35294117647058826;\n\treturn color; \n}\n\n\nvoid main(void) {\n    gl_FragColor = blur5(texture, vTextureCoord, uResolution, uDirection);\n}"},function(module,exports){module.exports="// blur9.frag\n// source  : https://github.com/Jam3/glsl-fast-gaussian-blur\n\n#define SHADER_NAME BLUR_9\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform vec2 uDirection;\nuniform vec2 uResolution;\n\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n\tvec4 color = vec4(0.0);\n\tvec2 off1 = vec2(1.3846153846) * direction;\n\tvec2 off2 = vec2(3.2307692308) * direction;\n\tcolor += texture2D(image, uv) * 0.2270270270;\n\tcolor += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n\tcolor += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n\tcolor += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n\tcolor += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n\treturn color;\n}\n\n\nvoid main(void) {\n    gl_FragColor = blur9(texture, vTextureCoord, uResolution, uDirection);\n}"},function(module,exports){module.exports="// blur13.frag\n// source  : https://github.com/Jam3/glsl-fast-gaussian-blur\n\n#define SHADER_NAME BLUR_13\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform vec2 uDirection;\nuniform vec2 uResolution;\n\nvec4 blur13(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n\tvec4 color = vec4(0.0);\n\tvec2 off1 = vec2(1.411764705882353) * direction;\n\tvec2 off2 = vec2(3.2941176470588234) * direction;\n\tvec2 off3 = vec2(5.176470588235294) * direction;\n\tcolor += texture2D(image, uv) * 0.1964825501511404;\n\tcolor += texture2D(image, uv + (off1 / resolution)) * 0.2969069646728344;\n\tcolor += texture2D(image, uv - (off1 / resolution)) * 0.2969069646728344;\n\tcolor += texture2D(image, uv + (off2 / resolution)) * 0.09447039785044732;\n\tcolor += texture2D(image, uv - (off2 / resolution)) * 0.09447039785044732;\n\tcolor += texture2D(image, uv + (off3 / resolution)) * 0.010381362401148057;\n\tcolor += texture2D(image, uv - (off3 / resolution)) * 0.010381362401148057;\n\treturn color;\n}\n\n\nvoid main(void) {\n    gl_FragColor = blur13(texture, vTextureCoord, uResolution, uDirection);\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Pass2=__webpack_require__(10),_Pass3=_interopRequireDefault(_Pass2),_fxaa=__webpack_require__(41),_fxaa2=_interopRequireDefault(_fxaa),PassFxaa=function(_Pass){function PassFxaa(){_classCallCheck(this,PassFxaa);var _this=_possibleConstructorReturn(this,(PassFxaa.__proto__||Object.getPrototypeOf(PassFxaa)).call(this,_fxaa2.default));return _this.uniform("uResolution",[1/_GLTool2.default.width,1/_GLTool2.default.height]),_this}return _inherits(PassFxaa,_Pass),PassFxaa}(_Pass3.default);exports.default=PassFxaa},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(20),fs=__webpack_require__(21),BatchCopy=function(_Batch){function BatchCopy(){_classCallCheck(this,BatchCopy);var mesh=_Geom2.default.bigTriangle(),shader=new _GLShader2.default(vs,fs),_this=_possibleConstructorReturn(this,(BatchCopy.__proto__||Object.getPrototypeOf(BatchCopy)).call(this,mesh,shader));return shader.bind(),shader.uniform("texture","uniform1i",0),_this}return _inherits(BatchCopy,_Batch),_createClass(BatchCopy,[{key:"draw",value:function(texture){this.shader.bind(),texture.bind(0),_get(BatchCopy.prototype.__proto__||Object.getPrototypeOf(BatchCopy.prototype),"draw",this).call(this)}}]),BatchCopy}(_Batch3.default);exports.default=BatchCopy},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Mesh=__webpack_require__(6),_Mesh2=_interopRequireDefault(_Mesh),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(81),fs=__webpack_require__(82),BatchAxis=function(_Batch){function BatchAxis(){_classCallCheck(this,BatchAxis);var positions=[],colors=[],indices=[0,1,2,3,4,5],r=9999;positions.push([-r,0,0]),positions.push([r,0,0]),positions.push([0,-r,0]),positions.push([0,r,0]),positions.push([0,0,-r]),positions.push([0,0,r]),colors.push([1,0,0]),colors.push([1,0,0]),colors.push([0,1,0]),colors.push([0,1,0]),colors.push([0,0,1]),colors.push([0,0,1]);var mesh=new _Mesh2.default(_GLTool2.default.LINES);mesh.bufferVertex(positions),mesh.bufferIndex(indices),mesh.bufferData(colors,"aColor",3);var shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchAxis.__proto__||Object.getPrototypeOf(BatchAxis)).call(this,mesh,shader))}return _inherits(BatchAxis,_Batch),BatchAxis}(_Batch3.default);exports.default=BatchAxis},function(module,exports){module.exports="// axis.vert\n\n#define SHADER_NAME BASIC_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec3 aColor;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec3 vColor;\nvarying vec3 vNormal;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vColor = aColor;\n    vNormal = aNormal;\n}"},function(module,exports){module.exports="// axis.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\n\nprecision lowp float;\n#define GLSLIFY 1\nvarying vec3 vColor;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\t// vec3 color = vNormal;\n\tvec3 color = vColor + vNormal * 0.0001;\n    gl_FragColor = vec4(color, 1.0);\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(34),fs=__webpack_require__(11),BatchBall=function(_Batch){function BatchBall(){_classCallCheck(this,BatchBall);var mesh=_Geom2.default.sphere(1,24),shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchBall.__proto__||Object.getPrototypeOf(BatchBall)).call(this,mesh,shader))}return _inherits(BatchBall,_Batch),_createClass(BatchBall,[{key:"draw",value:function(){var position=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],scale=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],color=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1,1],opacity=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.shader.bind(),this.shader.uniform("position","uniform3fv",position),this.shader.uniform("scale","uniform3fv",scale),this.shader.uniform("color","uniform3fv",color),this.shader.uniform("opacity","uniform1f",opacity),_get(BatchBall.prototype.__proto__||Object.getPrototypeOf(BatchBall.prototype),"draw",this).call(this)}}]),BatchBall}(_Batch3.default);exports.default=BatchBall},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Mesh=__webpack_require__(6),_Mesh2=_interopRequireDefault(_Mesh),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(85),fs=__webpack_require__(11),BatchDotsPlane=function(_Batch){function BatchDotsPlane(){_classCallCheck(this,BatchDotsPlane);var positions=[],indices=[],index=0,i=void 0,j=void 0;for(i=-100;i<100;i+=1)for(j=-100;j<100;j+=1)positions.push([i,j,0]),indices.push(index),index++,positions.push([i,0,j]),indices.push(index),index++;var mesh=new _Mesh2.default(_GLTool2.default.POINTS);mesh.bufferVertex(positions),mesh.bufferIndex(indices);var shader=new _GLShader2.default(vs,fs),_this=_possibleConstructorReturn(this,(BatchDotsPlane.__proto__||Object.getPrototypeOf(BatchDotsPlane)).call(this,mesh,shader));return _this.color=[1,1,1],_this.opacity=.5,_this}return _inherits(BatchDotsPlane,_Batch),_createClass(BatchDotsPlane,[{key:"draw",value:function(){this.shader.bind(),this.shader.uniform("color","uniform3fv",this.color),this.shader.uniform("opacity","uniform1f",this.opacity),_get(BatchDotsPlane.prototype.__proto__||Object.getPrototypeOf(BatchDotsPlane.prototype),"draw",this).call(this)}}]),BatchDotsPlane}(_Batch3.default);exports.default=BatchDotsPlane},function(module,exports){module.exports="// basic.vert\n\n#define SHADER_NAME DOTS_PLANE_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec3 vNormal;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition + aNormal * 0.000001, 1.0);\n    gl_PointSize = 1.0;\n    vNormal = aNormal;\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Mesh=__webpack_require__(6),_Mesh2=_interopRequireDefault(_Mesh),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(13),fs=__webpack_require__(11),BatchAxis=function(_Batch){function BatchAxis(){_classCallCheck(this,BatchAxis);var positions=[],indices=[0,1],coords=[[0,0],[1,1]];positions.push([0,0,0]),positions.push([0,0,0]);var mesh=new _Mesh2.default(_GLTool2.default.LINES);mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices);var shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchAxis.__proto__||Object.getPrototypeOf(BatchAxis)).call(this,mesh,shader))}return _inherits(BatchAxis,_Batch),_createClass(BatchAxis,[{key:"draw",value:function(mPositionA,mPositionB){var color=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1,1],opacity=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this._mesh.bufferVertex([mPositionA,mPositionB]),this._shader.bind(),this._shader.uniform("color","vec3",color),this._shader.uniform("opacity","float",opacity),_get(BatchAxis.prototype.__proto__||Object.getPrototypeOf(BatchAxis.prototype),"draw",this).call(this)}}]),BatchAxis}(_Batch3.default);exports.default=BatchAxis},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(35),fs=__webpack_require__(36),BatchSkybox=function(_Batch){function BatchSkybox(){var size=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;_classCallCheck(this,BatchSkybox);var mesh=_Geom2.default.skybox(size),shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchSkybox.__proto__||Object.getPrototypeOf(BatchSkybox)).call(this,mesh,shader))}return _inherits(BatchSkybox,_Batch),_createClass(BatchSkybox,[{key:"draw",value:function(texture){this.shader.bind(),texture.bind(0),_get(BatchSkybox.prototype.__proto__||Object.getPrototypeOf(BatchSkybox.prototype),"draw",this).call(this)}}]),BatchSkybox}(_Batch3.default);exports.default=BatchSkybox},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(89),fs=__webpack_require__(21),BatchSky=function(_Batch){function BatchSky(){var size=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,seg=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;_classCallCheck(this,BatchSky);var mesh=_Geom2.default.sphere(size,seg,!0),shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchSky.__proto__||Object.getPrototypeOf(BatchSky)).call(this,mesh,shader))}return _inherits(BatchSky,_Batch),_createClass(BatchSky,[{key:"draw",value:function(texture){this.shader.bind(),texture.bind(0),_get(BatchSky.prototype.__proto__||Object.getPrototypeOf(BatchSky.prototype),"draw",this).call(this)}}]),BatchSky}(_Batch3.default);exports.default=BatchSky},function(module,exports){module.exports="// sky.vert\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tmat4 matView = uViewMatrix;\n\tmatView[3][0] = 0.0;\n\tmatView[3][1] = 0.0;\n\tmatView[3][2] = 0.0;\n\t\n    gl_Position = uProjectionMatrix * matView * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n    vNormal = aNormal;\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(20),fs=__webpack_require__(41),BatchFXAA=function(_Batch){function BatchFXAA(){_classCallCheck(this,BatchFXAA);var mesh=_Geom2.default.bigTriangle(),shader=new _GLShader2.default(vs,fs),_this=_possibleConstructorReturn(this,(BatchFXAA.__proto__||Object.getPrototypeOf(BatchFXAA)).call(this,mesh,shader));return shader.bind(),shader.uniform("texture","uniform1i",0),_this}return _inherits(BatchFXAA,_Batch),_createClass(BatchFXAA,[{key:"draw",value:function(texture){this.shader.bind(),texture.bind(0),this.shader.uniform("uResolution","vec2",[1/_GLTool2.default.width,1/_GLTool2.default.height]),_get(BatchFXAA.prototype.__proto__||Object.getPrototypeOf(BatchFXAA.prototype),"draw",this).call(this)}}]),BatchFXAA}(_Batch3.default);exports.default=BatchFXAA},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_scheduling=__webpack_require__(8),_scheduling2=_interopRequireDefault(_scheduling),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_CameraPerspective=__webpack_require__(18),_CameraPerspective2=_interopRequireDefault(_CameraPerspective),_CameraOrtho=__webpack_require__(30),_CameraOrtho2=_interopRequireDefault(_CameraOrtho),_OrbitalControl=__webpack_require__(29),_OrbitalControl2=_interopRequireDefault(_OrbitalControl),Scene=function(){function Scene(){var _this=this;_classCallCheck(this,Scene),this._children=[],this._matrixIdentity=mat4.create(),_GLTool2.default.enableAlphaBlending(),this._init(),this._initTextures(),this._initViews(),this._efIndex=_scheduling2.default.addEF(function(){return _this._loop()}),window.addEventListener("resize",function(){return _this.resize()})}return _createClass(Scene,[{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"stop",value:function(){-1!==this._efIndex&&(this._efIndex=_scheduling2.default.removeEF(this._efIndex))}},{key:"start",value:function(){var _this2=this;-1===this._efIndex&&(this._efIndex=_scheduling2.default.addEF(function(){return _this2._loop()}))}},{key:"resize",value:function(){_GLTool2.default.setSize(window.innerWidth,window.innerHeight),this.camera.setAspectRatio(_GLTool2.default.aspectRatio)}},{key:"addChild",value:function(mChild){this._children.push(mChild)}},{key:"removeChild",value:function(mChild){var index=this._children.indexOf(mChild);-1!=index&&this._children.splice(index,1)}},{key:"_initTextures",value:function(){}},{key:"_initViews",value:function(){}},{key:"_renderChildren",value:function(){for(var child=void 0,i=0;i<this._children.length;i++)child=this._children[i],child.toRender();_GLTool2.default.rotate(this._matrixIdentity)}},{key:"_init",value:function(){this.camera=new _CameraPerspective2.default,this.camera.setPerspective(45*Math.PI/180,_GLTool2.default.aspectRatio,.1,100),this.orbitalControl=new _OrbitalControl2.default(this.camera,window,15),this.orbitalControl.radius.value=10,this.cameraOrtho=new _CameraOrtho2.default}},{key:"_loop",value:function(){_GLTool2.default.viewport(0,0,_GLTool2.default.width,_GLTool2.default.height),_GLTool2.default.setMatrices(this.camera),this.update(),this._renderChildren(),this.render()}}]),Scene}();exports.default=Scene},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_EventDispatcher2=__webpack_require__(28),_EventDispatcher3=_interopRequireDefault(_EventDispatcher2),View=function(_EventDispatcher){function View(mStrVertex,mStrFrag){_classCallCheck(this,View);var _this=_possibleConstructorReturn(this,(View.__proto__||Object.getPrototypeOf(View)).call(this));return _this.shader=new _GLShader2.default(mStrVertex,mStrFrag),_this._init(),_this}return _inherits(View,_EventDispatcher),_createClass(View,[{key:"_init",value:function(){}},{key:"render",value:function(){}}]),View}(_EventDispatcher3.default);exports.default=View},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Object3D2=__webpack_require__(32),_Object3D3=_interopRequireDefault(_Object3D2),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),View3D=function(_Object3D){function View3D(mStrVertex,mStrFrag){_classCallCheck(this,View3D);var _this=_possibleConstructorReturn(this,(View3D.__proto__||Object.getPrototypeOf(View3D)).call(this));return _this._children=[],_this.shader=new _GLShader2.default(mStrVertex,mStrFrag),_this._init(),_this._matrixTemp=mat4.create(),_this}return _inherits(View3D,_Object3D),_createClass(View3D,[{key:"_init",value:function(){}},{key:"addChild",value:function(mChild){this._children.push(mChild)}},{key:"removeChild",value:function(mChild){var index=this._children.indexOf(mChild);-1!=index&&this._children.splice(index,1)}},{key:"toRender",value:function(matrix){void 0===matrix&&(matrix=mat4.create()),mat4.mul(this._matrixTemp,matrix,this.matrix),_GLTool2.default.rotate(this._matrixTemp),this.render();for(var i=0;i<this._children.length;i++){this._children[i].toRender(this.matrix)}}},{key:"render",value:function(){}}]),View3D}(_Object3D3.default);exports.default=View3D},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alfrid=__webpack_require__(5),_alfrid2=_interopRequireDefault(_alfrid),_Assets=__webpack_require__(12),_VRUtils=(_interopRequireDefault(_Assets),__webpack_require__(9)),_VRUtils2=_interopRequireDefault(_VRUtils),_saveJson=__webpack_require__(98),_saveJson2=_interopRequireDefault(_saveJson),_ViewLine=__webpack_require__(99),_ViewLine2=_interopRequireDefault(_ViewLine),_ViewPointer=__webpack_require__(103),_ViewPointer2=_interopRequireDefault(_ViewPointer),_ViewTrace=__webpack_require__(106),_ViewTrace2=_interopRequireDefault(_ViewTrace),_points=__webpack_require__(107),_kid=(_interopRequireDefault(_points),__webpack_require__(108)),_kid2=_interopRequireDefault(_kid),scissor=function(x,y,w,h){_alfrid.GL.scissor(x,y,w,h),_alfrid.GL.viewport(x,y,w,h)},SceneApp=function(_Scene){function SceneApp(){_classCallCheck(this,SceneApp);var _this=_possibleConstructorReturn(this,(SceneApp.__proto__||Object.getPrototypeOf(SceneApp)).call(this));return _this.orbitalControl.rx.value=_this.orbitalControl.ry.value=.1,_this.orbitalControl.radius.value=5,_this.camera.setPerspective(.3*Math.PI,_alfrid.GL.aspectRatio,.1,1e5),_this.cameraVR=new _alfrid2.default.Camera,_this._modelMatrix=mat4.create(),_this._rightHand,_VRUtils2.default.canPresent&&(mat4.translate(_this._modelMatrix,_this._modelMatrix,vec3.fromValues(0,0,0)),_alfrid.GL.enable(_alfrid.GL.SCISSOR_TEST),_this.toRender(),_this.resize()),_this}return _inherits(SceneApp,_Scene),_createClass(SceneApp,[{key:"_initTextures",value:function(){}},{key:"_initViews",value:function(){this._vPointer=new _ViewPointer2.default,this._vTrace=new _ViewTrace2.default,this._lines=[],this._bAxis=new _alfrid2.default.BatchAxis,this._createNewLine(),gui.add(this,"load")}},{key:"_createNewLine",value:function(){var _this2=this;if(this._lines.length>0){var line=this._lines.pop();line.points.length>0&&this._lines.push(line)}var vLine=new _ViewLine2.default;vLine.addEventListener("overflowed",function(){return _this2._createNewLine()}),this._lines.push(vLine)}},{key:"clear",value:function(){this._lines=[],this._createNewLine()}},{key:"load",value:function(){var _this3=this;_kid2.default.forEach(function(lineData,i){var index=i;if(!_this3._lines[index]){var l=new _ViewLine2.default;_this3._lines.push(l)}_this3._lines[index].load(lineData)})}},{key:"save",value:function(){var line=this._lines.pop();line.points.length>0&&this._lines.push(line);var pointsData=this._lines.map(function(line){return line.points});(0,_saveJson2.default)(pointsData,"points.json")}},{key:"render",value:function(){_VRUtils2.default.canPresent||this.toRender()}},{key:"toRender",value:function(){var _this4=this;if(_VRUtils2.default.canPresent&&_VRUtils2.default.vrDisplay.requestAnimationFrame(function(){return _this4.toRender()}),this._rightHand||_VRUtils2.default.rightHand&&(this._rightHand=_VRUtils2.default.rightHand,this._rightHand.addEventListener("mainButtonPressed",function(){return _this4.clear()}),this._rightHand.addEventListener("button3Released",function(){return _this4.save()})),_VRUtils2.default.getFrameData(),_VRUtils2.default.isPresenting){var w2=_alfrid.GL.width/2;_VRUtils2.default.setCamera(this.cameraVR,"left"),scissor(0,0,w2,_alfrid.GL.height),_alfrid.GL.setMatrices(this.cameraVR),_alfrid.GL.rotate(this._modelMatrix),this.renderScene(),_VRUtils2.default.setCamera(this.cameraVR,"right"),scissor(w2,0,w2,_alfrid.GL.height),_alfrid.GL.setMatrices(this.cameraVR),_alfrid.GL.rotate(this._modelMatrix),this.renderScene(),_VRUtils2.default.submitFrame(),scissor(0,0,_alfrid.GL.width,_alfrid.GL.height),_alfrid.GL.clear(0,0,0,0),mat4.copy(this.cameraVR.projection,this.camera.projection),_alfrid.GL.setMatrices(this.cameraVR),_alfrid.GL.rotate(this._modelMatrix),this.renderScene()}else _VRUtils2.default.canPresent?(_VRUtils2.default.setCamera(this.cameraVR,"left"),mat4.copy(this.cameraVR.projection,this.camera.projection),scissor(0,0,_alfrid.GL.width,_alfrid.GL.height),_alfrid.GL.setMatrices(this.cameraVR),_alfrid.GL.rotate(this._modelMatrix),this.renderScene()):(_alfrid.GL.setMatrices(this.camera),_alfrid.GL.rotate(this._modelMatrix),this.renderScene())}},{key:"renderScene",value:function(){_alfrid.GL.clear(0,0,0,0),this._bAxis.draw(),this._lines.forEach(function(line){return line.render()}),this._vPointer.render(),this._vTrace.render()}},{key:"resize",value:function(){var scale=_VRUtils2.default.canPresent?2:1;_alfrid.GL.isMobile&&(scale=window.devicePixelRatio),_alfrid.GL.setSize(window.innerWidth*scale,window.innerHeight*scale),this.camera.setAspectRatio(_alfrid.GL.aspectRatio)}}]),SceneApp}(_alfrid.Scene);exports.default=SceneApp},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alfrid=__webpack_require__(5),_alfrid2=_interopRequireDefault(_alfrid),_objectStates=__webpack_require__(96),_objectStates2=_interopRequireDefault(_objectStates),Gamepad=function(_alfrid$EventDispatch){function Gamepad(){_classCallCheck(this,Gamepad);var _this=_possibleConstructorReturn(this,(Gamepad.__proto__||Object.getPrototypeOf(Gamepad)).call(this));return _this.pulsing=!0,_this.pulseStrength=2,_this.mtx=mat4.create(),_this._buttons=new _objectStates2.default({mainPressed:!1,triggerPressed:!1,button3Pressed:!1,button4Pressed:!1}),_this._buttons.mainPressed.onChange(function(o){return _this._onMainButtonTrigger(o)}),_this._buttons.triggerPressed.onChange(function(o){return _this._onTrigger(o)}),_this._buttons.button3Pressed.onChange(function(o){return _this._onButton3Trigger(o)}),_this._buttons.button4Pressed.onChange(function(o){return _this._onButton4Trigger(o)}),_this.buttonState=[!1,!1,!1,!1],_this}return _inherits(Gamepad,_alfrid$EventDispatch),_createClass(Gamepad,[{key:"update",value:function(mData){this.position=mData.pose.position,this.orientation=mData.pose.orientation,this.buttons=mData.buttons,this.hand=mData.hand,mat4.fromRotationTranslation(this.mtx,this.orientation,this.position),0==mData.hapticActuators.length&&(this.pulsing=!1),this.buttons[1].pressed&&this.pulsing&&mData.hapticActuators[0].pulse(.1,this.pulseStrength),this.buttonState=this.buttons.map(function(button){return button.pressed}),this._buttons.setState({mainPressed:this.buttonState[0],triggerPressed:this.buttonState[1],button3Pressed:this.buttonState[2],button4Pressed:this.buttonState[3]}),this.buttonState[0]&&this.dispatchCustomEvent("mainButtonDown"),this.buttonState[1]&&this.dispatchCustomEvent("triggerDown")}},{key:"_onTrigger",value:function(o){var eventName=o?"triggerPressed":"triggerReleased";this.dispatchCustomEvent(eventName,{pressed:o})}},{key:"_onMainButtonTrigger",value:function(o){var eventName=o?"mainButtonPressed":"mainButtonReleased";this.dispatchCustomEvent(eventName,{pressed:o})}},{key:"_onButton3Trigger",value:function(o){var eventName=o?"button3Pressed":"button3Released";this.dispatchCustomEvent(eventName,{pressed:o})}},{key:"_onButton4Trigger",value:function(o){var eventName=o?"button4Pressed":"button4Released";this.dispatchCustomEvent(eventName,{pressed:o})}},{key:"isMainButtonPressed",get:function(){return this.buttonState[0]}},{key:"isTriggerPressed",get:function(){return this.buttonState[1]}}]),Gamepad}(_alfrid2.default.EventDispatcher);exports.default=Gamepad},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_events=__webpack_require__(22),_Attribute=__webpack_require__(97),_Attribute2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Attribute),isObject=function(o){return"object"===(void 0===o?"undefined":_typeof(o))&&!Array.isArray(o)&&void 0===o.length},State=function(_EventEmitter){function State(){var mInitState=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,State);var _this=_possibleConstructorReturn(this,(State.__proto__||Object.getPrototypeOf(State)).call(this));_this._state={};for(var s in mInitState)isObject(mInitState[s])?_this[s]=new State(mInitState[s]):_this[s]=new _Attribute2.default(s,mInitState[s]);return _this._changeBinds=[],_this._addBinds=[],_this}return _inherits(State,_EventEmitter),_createClass(State,[{key:"onChange",value:function(mCb){this._changeBinds.push(mCb)}},{key:"onAdd",value:function(mCb){this._addBinds.push(mCb)}},{key:"setState",value:function(mNewState){var hasChanged=!1,hasNewState=!1,stateChanged={},stateAdded={};for(var s in mNewState)if(void 0===this[s])isObject(mNewState[s])?this[s]=new State(mNewState[s]):this[s]=new _Attribute2.default(s,mNewState[s]),hasNewState=!0,stateAdded[s]=mNewState[s];else if(isObject(mNewState[s])){var _attrChanged=this[s].setState(mNewState[s]);_attrChanged&&(stateChanged[s]=mNewState[s])}else{var attrChanged=this[s].setValue(mNewState[s]);hasChanged=hasChanged||attrChanged,attrChanged&&(stateChanged[s]=mNewState[s])}return hasChanged&&(this._changeBinds.forEach(function(cb){cb(stateChanged)}),this.emit("changed",stateChanged)),hasNewState&&(this._addBinds.forEach(function(cb){cb(stateAdded)}),this.emit("added",stateAdded)),hasChanged}},{key:"getState",value:function(){return this._state}}]),State}(_events.EventEmitter);exports.default=State},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_events=__webpack_require__(22),equals=function(a1,a2){return a1.length==a2.length&&a1.every(function(v,i){return v===a2[i]})},Attribute=function(_EventEmitter){function Attribute(mName,mValue){_classCallCheck(this,Attribute);var _this=_possibleConstructorReturn(this,(Attribute.__proto__||Object.getPrototypeOf(Attribute)).call(this));return _this._value=mValue,_this._name=mName,_this._isArray=!!mValue.every,_this._changeBinds=[],_this}return _inherits(Attribute,_EventEmitter),_createClass(Attribute,[{key:"onChange",value:function(mCb){this._changeBinds.push(mCb)}},{key:"setValue",value:function(mValue){var _this2=this,hasChanged=!1;return hasChanged=this._isArray?!equals(mValue,this._value):this._value!==mValue,hasChanged&&(this._value=mValue,this._changeBinds.forEach(function(cb){cb(_this2._value)}),this.emit("changed",this._value)),hasChanged}}]),Attribute}(_events.EventEmitter);exports.default=Attribute},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var encode=function(s){for(var out=[],i=0;i<s.length;i++)out[i]=s.charCodeAt(i);return new Uint8Array(out)},saveJson=function(obj){var mFileName=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data.json",str=JSON.stringify(obj),data=encode(str),blob=new Blob([data],{type:"application/octet-stream"}),url=URL.createObjectURL(blob),link=document.createElement("a");link.setAttribute("href",url),link.setAttribute("download",mFileName);var event=document.createEvent("MouseEvents");event.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),link.dispatchEvent(event)};exports.default=saveJson},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alfrid=__webpack_require__(5),_alfrid2=_interopRequireDefault(_alfrid),_Line=__webpack_require__(100),_Line2=_interopRequireDefault(_Line),_line=__webpack_require__(101),_line2=_interopRequireDefault(_line),_line3=__webpack_require__(102),_line4=_interopRequireDefault(_line3),_VRUtils=__webpack_require__(9),_VRUtils2=_interopRequireDefault(_VRUtils),ViewLine2=function(_alfrid$View){function ViewLine2(){_classCallCheck(this,ViewLine2);var _this=_possibleConstructorReturn(this,(ViewLine2.__proto__||Object.getPrototypeOf(ViewLine2)).call(this,_line2.default,_line4.default));return _this.index=0,_this.pointer=[-999,0,0],_this._rightHand,_this.lastPosition=vec3.create(),_this._isActivated=!0,_this._savedPositions=[],_this.shader.bind(),_this.shader.uniform("uTime","float",0),_this.shader.uniform("ratio","float",0),_this.shader.uniform("alpha","float",1),_this.shader.uniform("thickness","float",.25),_this}return _inherits(ViewLine2,_alfrid$View),_createClass(ViewLine2,[{key:"_init",value:function(){}},{key:"load",value:function(points){var newPoints=points.map(function(o){return[o[0],o[1],o[2]]});this.update(newPoints)}},{key:"update",value:function(points){this.mesh||(this.mesh=new _Line2.default(points,function(p){return.02*p})),this.mesh.render(points,!0)}},{key:"_setupGamepad",value:function(){var _this2=this;if(!this._rightHand){if(!_VRUtils2.default.rightHand)return;this._rightHand=_VRUtils2.default.rightHand,this._rightHand.addEventListener("triggerPressed",function(e){return _this2._onTriggerChange(e.detail.pressed)}),this._rightHand.addEventListener("triggerReleased",function(e){return _this2._onTriggerReleased(e.detail.pressed)})}var position=this._rightHand.position;if(this._rightHand.isTriggerPressed){if(vec3.distance(position,this.lastPosition)>.005){var p=vec3.clone(position);this._savedPositions.push(p),vec3.copy(this.lastPosition,position),this.update(this._savedPositions)}}}},{key:"_onTriggerChange",value:function(mPressed){if(this._isActivated&&mPressed){var _rightHand=this._rightHand,position=(_rightHand.buttons,_rightHand.position),p=vec3.clone(position);this._savedPositions.push(p),vec3.copy(this.lastPosition,position)}}},{key:"_onTriggerReleased",value:function(){this._isActivated=!1,this.dispatchCustomEvent("overflowed")}},{key:"render",value:function(){this._isActivated&&this._setupGamepad(),this.mesh&&(this.shader.bind(),this.shader.uniform("aspect","float",window.innerWidth/window.innerHeight),this.shader.uniform("resolutions","vec2",[window.innerWidth,window.innerHeight]),_alfrid.GL.draw(this.mesh))}},{key:"points",get:function(){return this._savedPositions}}]),ViewLine2}(_alfrid2.default.View);exports.default=ViewLine2},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alfrid=__webpack_require__(5),_alfrid2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_alfrid),gl=void 0,tempArray1=[],tempArray2=[],Line=function(_alfrid$Mesh){function Line(vertices,c){var drawMode=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_alfrid.GL.TRIANGLES;_classCallCheck(this,Line),gl=_alfrid.GL;var _this=_possibleConstructorReturn(this,(Line.__proto__||Object.getPrototypeOf(Line)).call(this,drawMode));_this.widthCallback=c;var vert=[[0,0,0],[.125,.3125,0],[.0625,.25,0],[0,.25,0],[-.125,.275,0],[-.0875,.375,0]];return _this.positions=[],_this.directions=[],_this.indicesArray=[],_this.counters=[],_this.width=[],_this.uvs=[],_this.previous=[],_this.next=[],_this.vert=vertices||vert,_this.line(!0),_this}return _inherits(Line,_alfrid$Mesh),_createClass(Line,[{key:"line",value:function(){var needsUpdate=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],v=this.vert;this.positions.length=2*v.length,this.counters.length=2*v.length;var index=0,indexC=0;this.previous.length=this.positions.length,this.next.length=this.positions.length;for(var i=0;i<v.length;i++){if(needsUpdate){var c=i/v.length;this.counters[indexC++]=[c],this.counters[indexC++]=[c]}this.positions[index++]=v[i][0],this.positions[index++]=v[i][1],this.positions[index++]=v[i][2],this.positions[index++]=v[i][0],this.positions[index++]=v[i][1],this.positions[index++]=v[i][2]}this.process(needsUpdate)}},{key:"compareV3",value:function(a,b){var aa=6*a,ab=6*b;return this.positions[aa]===this.positions[ab]&&this.positions[aa+1]===this.positions[ab+1]&&this.positions[aa+2]===this.positions[ab+2]}},{key:"copyV3",value:function(a,out){out||(out=tempArray1);var aa=6*a;out[0]=this.positions[aa],out[1]=this.positions[aa+1],out[2]=this.positions[aa+2]}},{key:"process",value:function(needsUpdate){var l=this.positions.length/6,index=0,indexN=0;this.compareV3(0,l-1)?this.copyV3(l-2):this.copyV3(0),this.previous[index++]=tempArray1[0],this.previous[index++]=tempArray1[1],this.previous[index++]=tempArray1[2],this.previous[index++]=tempArray1[0],this.previous[index++]=tempArray1[1],this.previous[index++]=tempArray1[2];for(var i=0;i<l;i++)this.copyV3(i,tempArray1),i>0&&(this.next[indexN++]=tempArray1[0],this.next[indexN++]=tempArray1[1],this.next[indexN++]=tempArray1[2],this.next[indexN++]=tempArray1[0],this.next[indexN++]=tempArray1[1],this.next[indexN++]=tempArray1[2],this.previous[index++]=tempArray2[0],this.previous[index++]=tempArray2[1],this.previous[index++]=tempArray2[2],this.previous[index++]=tempArray2[0],this.previous[index++]=tempArray2[1],this.previous[index++]=tempArray2[2]),tempArray2[0]=tempArray1[0],tempArray2[1]=tempArray1[1],tempArray2[2]=tempArray1[2];if(this.compareV3(l-1,0)?this.copyV3(1,tempArray1):this.copyV3(l-1,tempArray1),this.next[indexN++]=tempArray1[0],this.next[indexN++]=tempArray1[1],this.next[indexN++]=tempArray1[2],this.next[indexN++]=tempArray1[0],this.next[indexN++]=tempArray1[1],this.next[indexN++]=tempArray1[2],index=0,this.bufferFlattenData(this.positions,"aVertexPosition",3,!1),this.bufferFlattenData(this.next,"aNext",3,!1),this.bufferFlattenData(this.previous,"aPrevious",3,!1),this.bufferFlattenData(this.positions,"aNormal",3,!1),needsUpdate){index=0,this.uvs=[];for(var w=void 0,j=0;j<l;j++)w=this.widthCallback?this.widthCallback(j/(l-1)):.1,this.width[index++]=w,this.width[index++]=w,this.uvs.push([j/(l-1),0]),this.uvs.push([j/(l-1),1]);index=0,this.indicesArray=[];for(var j=0;j<l-1;j++){var n=2*j;this.indicesArray[index++]=n,this.indicesArray[index++]=n+1,this.indicesArray[index++]=n+2,this.indicesArray[index++]=n+2,this.indicesArray[index++]=n+1,this.indicesArray[index++]=n+3}index=0,this.directions=[];for(var i=0;i<this.positions.length;i++)this.directions[index++]=i%2==0?[1]:[-1];this.bufferIndex(this.indicesArray),this.bufferFlattenData(this.width,"width",1),this.bufferData(this.directions,"direction",1),this.bufferTexCoord(this.uvs),this.bufferData(this.counters,"aCounters",1)}}},{key:"render",value:function(points){var needsUpdate=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.vert=points||this.vert,this.line(needsUpdate)}}]),Line}(_alfrid2.default.Mesh);exports.default=Line},function(module,exports){module.exports="precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute float direction;\nattribute vec3 aPrevious;\nattribute vec3 aNext;\nattribute float width;\nattribute float aCounters;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uTime;\nuniform int animated;\n\n\nuniform float thickness;\nuniform float aspect;\n\nvarying vec2 vUV;\nvarying vec3 vPosition;\nvarying vec3 vColor;\nvarying vec3 vNormal;\nvarying float vCounters;\n\nvoid main() {\n\n\t// float thickness = .1;\n\tint miter = 0;\n\n\tvec2 aspectVec = vec2(aspect, 1.0);\n\tmat4 projViewModel = uProjectionMatrix * uViewMatrix;//projection * view * model;\n\n\tvec4 previousProjected = projViewModel * vec4(aPrevious.x, aPrevious.y, aPrevious.z, 1.0);\n\tvec4 currentProjected = projViewModel * vec4(aVertexPosition.x, aVertexPosition.y, aVertexPosition.z, 1.0);\n\tvec4 nextProjected = projViewModel * vec4(aNext.x, aNext.y, aNext.z, 1.0);\n\n\tvPosition = currentProjected.xyz;\n\tvNormal = aNormal;\n\tvUV = aTextureCoord;\n\t//get 2D screen space with W divide and aspect correction\n\tvec2 currentScreen = currentProjected.xy / currentProjected.w * aspectVec;\n\tvec2 previousScreen = previousProjected.xy / previousProjected.w * aspectVec;\n\tvec2 nextScreen = nextProjected.xy / nextProjected.w * aspectVec;\n\n\tvCounters = aCounters;\n\n\tfloat len = thickness * sin(width) * (1.-smoothstep(.9,1.,vUV.x*1.));\n\tfloat orientation = direction;\n\n\t//starting point uses (next - current)\n\tvColor = vec3(1.0, .0, 0.0);\n\tvec2 dir = vec2(0.0);\n\tif (currentScreen == previousScreen) {\n\t\tdir = normalize(nextScreen - currentScreen);\n\t\t// vColor = vec3(1.0, 0.0, 0.0);\n\t}\n\t//ending point uses (current - previous)\n\telse if (currentScreen == nextScreen) {\n\t\tdir = normalize(currentScreen - previousScreen);\n\t\t// vColor = vec3(0.0, 1.0, 0.0);\n\t}\n\t//somewhere in middle, needs a join\n\telse {\n\t\t//get directions from (C - B) and (B - A)\n\n\t\tvec2 dirA = normalize((currentScreen - previousScreen));\n\t\tif (miter == 1) {\n\t\t\tvec2 dirB = normalize((nextScreen - currentScreen));\n\t\t\t//now compute the miter join normal and length\n\t\t\tvec2 tangent = normalize(dirA + dirB);\n\t\t\tvec2 perp = vec2(-dirA.y, dirA.x);\n\t\t\tvec2 miter = vec2(-tangent.y, tangent.x);\n\t\t\tdir = tangent;\n\t\t\tlen = thickness / dot(miter, perp);\n\t\t} else {\n\t\t\tdir = dirA;\n\n\t\t}\n\t}\n\tvec2 normal = vec2(-dir.y, dir.x);\n\tvColor = vec3(normal, 1.0);\n\tnormal.x /= aspect;\n\tnormal *= len/2.0;\n\n\tvec4 offset =  vec4(normal * orientation, 0.0, 0.0);\n\n\tgl_Position = currentProjected + offset;\n\tgl_PointSize = 1.0;\n}\n"},function(module,exports){module.exports="// copy.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\n\nprecision highp float;\n#define GLSLIFY 1\n\nvoid main(void) {\n    gl_FragColor = vec4(1.0);\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alfrid=__webpack_require__(5),_alfrid2=_interopRequireDefault(_alfrid),_Assets=__webpack_require__(12),_Assets2=_interopRequireDefault(_Assets),_VRUtils=__webpack_require__(9),_VRUtils2=_interopRequireDefault(_VRUtils),_pointer=__webpack_require__(104),_pointer2=_interopRequireDefault(_pointer),_pointer3=__webpack_require__(105),_pointer4=_interopRequireDefault(_pointer3),ViewPointer=function(_alfrid$View){function ViewPointer(){return _classCallCheck(this,ViewPointer),_possibleConstructorReturn(this,(ViewPointer.__proto__||Object.getPrototypeOf(ViewPointer)).call(this,_pointer2.default,_pointer4.default))}return _inherits(ViewPointer,_alfrid$View),_createClass(ViewPointer,[{key:"_init",value:function(){this.meshPyramid=_Assets2.default.get("pyramid"),this.meshPointer=_Assets2.default.get("pointer"),this._offset0=new _alfrid2.default.EaseNumber(0),this._offset1=new _alfrid2.default.EaseNumber(0)}},{key:"render",value:function(){var _this2=this;_VRUtils2.default.gamePads.forEach(function(gamepad,i){var mtx=gamepad.mtx;_this2["_offset"+i].value=gamepad.isTriggerPressed?1:0,_alfrid.GL.rotate(mtx),_this2.shader.bind(),_this2.shader.uniform("offset","float",0),_alfrid.GL.draw(_this2.meshPyramid),_this2.shader.uniform("offset","float",_this2["_offset"+i].value),_alfrid.GL.draw(_this2.meshPointer)})}}]),ViewPointer}(_alfrid2.default.View);exports.default=ViewPointer},function(module,exports){module.exports="// basic.vert\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n    vNormal = uNormalMatrix * aNormal;\n}"},function(module,exports){module.exports="// copy.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec3 vNormal;\n\nuniform float offset;\n\n\nconst vec3 color0 = vec3(1.0);\nconst vec3 color1 = vec3(1.0, .8, .6);\n\n\nconst vec3 LIGHT = vec3(1.0, .8, .6);\n\nfloat diffuse(vec3 N, vec3 L) {\n\treturn max(dot(N, normalize(L)), 0.0);\n}\n\n\nvec3 diffuse(vec3 N, vec3 L, vec3 C) {\n\treturn diffuse(N, L) * C;\n}\n\nvoid main(void) {\n\tfloat d = diffuse(vNormal, LIGHT);\n\td = mix(d, 1.0, .5);\n\n\n\tvec3 color = mix(color0, color1, offset);\n    gl_FragColor = vec4(vec3(d) * color, 1.0);\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_alfrid=__webpack_require__(5),_alfrid2=_interopRequireDefault(_alfrid),_VRUtils=__webpack_require__(9),_VRUtils2=_interopRequireDefault(_VRUtils),_Assets=__webpack_require__(12),_Assets2=_interopRequireDefault(_Assets),ViewTrace=function(_alfrid$View){function ViewTrace(){_classCallCheck(this,ViewTrace);var _this=_possibleConstructorReturn(this,(ViewTrace.__proto__||Object.getPrototypeOf(ViewTrace)).call(this,null,_alfrid2.default.ShaderLibs.copyFrag));return _this.visible=!1,_this._gamepad,_this}return _inherits(ViewTrace,_alfrid$View),_createClass(ViewTrace,[{key:"_init",value:function(){this.mesh=_alfrid2.default.Geom.plane(1,1/(189/191),1,"xy"),this.mtx=mat4.create(),this.texture=_Assets2.default.get("kid")}},{key:"_onVisibleChange",value:function(o){this.visible=!this.visible}},{key:"_checkGamepad",value:function(){var _this2=this;if(!this._gamepad){if(!_VRUtils2.default.leftHand)return;this._gamepad=_VRUtils2.default.leftHand,this._gamepad.addEventListener("mainButtonPressed",function(e){return _this2._onVisibleChange(e.detail.pressed)}),this._gamepad.addEventListener("mainButtonPressed",function(e){})}}},{key:"render",value:function(){this._checkGamepad(),this._gamepad&&(this._gamepad.isTriggerPressed&&mat4.copy(this.mtx,this._gamepad.mtx),_alfrid.GL.rotate(this.mtx),this.shader.bind(),this.shader.uniform("texture","uniform1i",0),this.texture.bind(0),this.visible&&_alfrid.GL.draw(this.mesh))}}]),ViewTrace}(_alfrid2.default.View);exports.default=ViewTrace},function(module,exports){module.exports=[[{0:.5339970588684082,1:.889691948890686,2:.6183279752731323},{0:.5335301160812378,1:.8912270665168762,2:.6133825778961182}],[{0:.3345981240272522,1:1.5090670585632324,2:.5480508804321289},{0:.3367888927459717,1:1.509647250175476,2:.5433371067047119},{0:.3378198742866516,1:1.5068029165267944,2:.5382061004638672},{0:.3400883674621582,1:1.5022282600402832,2:.5337040424346924},{0:.34388577938079834,1:1.498513102531433,2:.530592679977417},{0:.34864121675491333,1:1.4951740503311157,2:.528376579284668},{0:.35335445404052734,1:1.491701602935791,2:.5254075527191162},{0:.35829776525497437,1:1.4873158931732178,2:.5217792987823486},{0:.36163902282714844,1:1.484095811843872,2:.5196671485900879},{0:.3652818202972412,1:1.4810487031936646,2:.5174648761749268},{0:.3686504364013672,1:1.4778871536254883,2:.5155038833618164},{0:.37344425916671753,1:1.4733195304870605,2:.5142382383346558},{0:.37825483083724976,1:1.470251441001892,2:.51393723487854},{0:.38242650032043457,1:1.4675571918487549,2:.5159215927124023},{0:.38566458225250244,1:1.4650671482086182,2:.5191434621810913},{0:.38081878423690796,1:1.4653406143188477,2:.5230402946472168}],[{0:.32021796703338623,1:1.5063130855560303,2:.5577332973480225},{0:.31827616691589355,1:1.5099854469299316,2:.5606441497802734},{0:.31566405296325684,1:1.5133910179138184,2:.5648493766784668},{0:.3135189414024353,1:1.5156302452087402,2:.5699419975280762},{0:.3123384118080139,1:1.5171459913253784,2:.5762231349945068},{0:.3111147880554199,1:1.5181491374969482,2:.5817506313323975},{0:.309741735458374,1:1.5186991691589355,2:.5889033079147339},{0:.30895817279815674,1:1.5188984870910645,2:.5957628488540649},{0:.3082049489021301,1:1.5184212923049927,2:.6029975414276123},{0:.30755120515823364,1:1.5174171924591064,2:.609782338142395},{0:.30786365270614624,1:1.5157368183135986,2:.6157293319702148},{0:.3085349202156067,1:1.5141007900238037,2:.6211457252502441},{0:.3097240924835205,1:1.5121740102767944,2:.6262383460998535},{0:.31135809421539307,1:1.5097479820251465,2:.631270170211792},{0:.3133387565612793,1:1.5072665214538574,2:.6357557773590088},{0:.31615179777145386,1:1.5048879384994507,2:.6394985914230347},{0:.3193918466567993,1:1.5024125576019287,2:.6429705619812012},{0:.3226860761642456,1:1.499819040298462,2:.6464383602142334},{0:.3264583349227905,1:1.496821403503418,2:.6489417552947998},{0:.33075767755508423,1:1.493759274482727,2:.6501685380935669},{0:.3358006477355957,1:1.490083932876587,2:.6517813205718994},{0:.3410860300064087,1:1.4869418144226074,2:.6532859802246094},{0:.34581804275512695,1:1.4841738939285278,2:.654498815536499},{0:.35071802139282227,1:1.4808502197265625,2:.656333327293396},{0:.35024428367614746,1:1.4783389568328857,2:.6608119010925293},{0:.34576666355133057,1:1.4769233465194702,2:.6632713079452515}],[{0:.3690832257270813,1:1.4571126699447632,2:.6560053825378418},{0:.3722367286682129,1:1.461003303527832,2:.6570847034454346},{0:.3699406385421753,1:1.464418888092041,2:.6604218482971191},{0:.3675577640533447,1:1.466216802597046,2:.6645824909210205},{0:.3669474124908447,1:1.4663842916488647,2:.6699113845825195},{0:.37058722972869873,1:1.4638352394104004,2:.6723732948303223},{0:.37534797191619873,1:1.4608434438705444,2:.6728693246841431},{0:.37938010692596436,1:1.4570577144622803,2:.6711971759796143},{0:.3827022314071655,1:1.4538081884384155,2:.6673126220703125},{0:.38473039865493774,1:1.451641321182251,2:.6632435321807861},{0:.38690054416656494,1:1.4496128559112549,2:.6581535339355469},{0:.3865169882774353,1:1.4495469331741333,2:.6530656814575195},{0:.38165950775146484,1:1.4493811130523682,2:.6514508724212646}],[{0:.3580441474914551,1:1.47662353515625,2:.6329202651977539},{0:.36139869689941406,1:1.477457046508789,2:.6376305818557739},{0:.36380934715270996,1:1.477270245552063,2:.6423008441925049},{0:.36674654483795166,1:1.47586989402771,2:.6466920375823975},{0:.3627682328224182,1:1.472447156906128,2:.6479717493057251},{0:.3588898777961731,1:1.4715828895568848,2:.6446195840835571},{0:.3552423119544983,1:1.4713168144226074,2:.6406266689300537}],[{0:.36010122299194336,1:1.4826664924621582,2:.6101895570755005},{0:.36306846141815186,1:1.4822075366973877,2:.6145807504653931},{0:.36725568771362305,1:1.4798619747161865,2:.6173150539398193},{0:.36998462677001953,1:1.4784334897994995,2:.6216628551483154},{0:.3715564012527466,1:1.4770984649658203,2:.6263673305511475},{0:.37156403064727783,1:1.4767485857009888,2:.6320643424987793},{0:.37001359462738037,1:1.4766285419464111,2:.6372747421264648}],[{0:.352331280708313,1:1.5033907890319824,2:.5566885471343994},{0:.3564269542694092,1:1.5021436214447021,2:.5594286918640137},{0:.35892438888549805,1:1.5000460147857666,2:.5636074542999268},{0:.3619838356971741,1:1.497841477394104,2:.5680651664733887},{0:.36495840549468994,1:1.4954367876052856,2:.5728919506072998},{0:.3671776056289673,1:1.493596076965332,2:.5772453546524048},{0:.3698093295097351,1:1.4918391704559326,2:.5823668241500854},{0:.3714026212692261,1:1.4902244806289673,2:.5872864723205566},{0:.3734978437423706,1:1.4888962507247925,2:.5931228399276733},{0:.3754887580871582,1:1.488021731376648,2:.5984599590301514},{0:.3762276768684387,1:1.487597942352295,2:.6048738956451416},{0:.37666064500808716,1:1.4873703718185425,2:.6111658811569214},{0:.37691885232925415,1:1.4870645999908447,2:.6161651611328125},{0:.37627679109573364,1:1.4863677024841309,2:.6212241649627686}],[{0:.35886114835739136,1:1.5016264915466309,2:.556614875793457},{0:.3639730215072632,1:1.4997613430023193,2:.5570926666259766},{0:.3685276508331299,1:1.4970697164535522,2:.5563669204711914},{0:.3723853826522827,1:1.4944530725479126,2:.5542197227478027},{0:.3757925033569336,1:1.4910117387771606,2:.5504205226898193},{0:.37853002548217773,1:1.488524317741394,2:.5470050573348999},{0:.38161027431488037,1:1.4859172105789185,2:.5432014465332031},{0:.3849222660064697,1:1.4842711687088013,2:.5385215282440186},{0:.387711763381958,1:1.4823737144470215,2:.534203290939331},{0:.3894098997116089,1:1.4811824560165405,2:.5291352272033691},{0:.3910027742385864,1:1.4804189205169678,2:.523962140083313}],[{0:.3946473002433777,1:1.4721211194992065,2:.5292930603027344},{0:.3912365436553955,1:1.4752496480941772,2:.5268592834472656},{0:.39119231700897217,1:1.4751077890396118,2:.5215669870376587},{0:.3930850028991699,1:1.4720550775527954,2:.5169353485107422},{0:.3974117040634155,1:1.468650221824646,2:.515363335609436},{0:.4019191265106201,1:1.4661459922790527,2:.5168033838272095},{0:.40650129318237305,1:1.4635108709335327,2:.5198222398757935},{0:.4099283218383789,1:1.4620654582977295,2:.5232408046722412},{0:.4125572443008423,1:1.4613161087036133,2:.5274488925933838},{0:.41514766216278076,1:1.460744857788086,2:.5328152179718018},{0:.4158470034599304,1:1.4613251686096191,2:.5377589464187622},{0:.4106379747390747,1:1.4599158763885498,2:.5371900796890259},{0:.40451014041900635,1:1.4578890800476074,2:.5357439517974854}],[{0:.4150576591491699,1:1.4540714025497437,2:.5364631414413452},{0:.4196012020111084,1:1.452605128288269,2:.5389372110366821},{0:.4232129454612732,1:1.4501540660858154,2:.5414446592330933},{0:.42795330286026,1:1.4467655420303345,2:.5433986186981201},{0:.43207383155822754,1:1.4440977573394775,2:.5451966524124146},{0:.43602943420410156,1:1.4417870044708252,2:.5479542016983032},{0:.43977469205856323,1:1.4398436546325684,2:.5514721870422363},{0:.443445086479187,1:1.4377037286758423,2:.5546209812164307},{0:.44699764251708984,1:1.4361881017684937,2:.5584725141525269},{0:.4500848054885864,1:1.4353184700012207,2:.5627349615097046},{0:.45303958654403687,1:1.4345098733901978,2:.567368745803833},{0:.45573240518569946,1:1.4336851835250854,2:.5723998546600342},{0:.457791805267334,1:1.433044672012329,2:.5776107311248779},{0:.45983225107192993,1:1.4328573942184448,2:.583543062210083},{0:.4615567922592163,1:1.4329473972320557,2:.5894463062286377},{0:.46270692348480225,1:1.4331703186035156,2:.5958077907562256},{0:.46328043937683105,1:1.4333829879760742,2:.6021318435668945},{0:.46331948041915894,1:1.4337317943572998,2:.6080455780029297},{0:.46241700649261475,1:1.4345369338989258,2:.6146872043609619},{0:.46093642711639404,1:1.4360100030899048,2:.6213443279266357},{0:.4589707851409912,1:1.4377846717834473,2:.6277278661727905},{0:.4565715789794922,1:1.4394527673721313,2:.6331099271774292},{0:.453898549079895,1:1.4415833950042725,2:.6382787227630615},{0:.45103001594543457,1:1.4439102411270142,2:.6425940990447998},{0:.44802385568618774,1:1.4464218616485596,2:.6463558673858643},{0:.4445157051086426,1:1.4489772319793701,2:.6493916511535645},{0:.4406764507293701,1:1.4515976905822754,2:.6523867845535278},{0:.43637681007385254,1:1.4542639255523682,2:.6553024053573608},{0:.43244069814682007,1:1.4568167924880981,2:.6577271223068237},{0:.42880117893218994,1:1.459213137626648,2:.6603517532348633},{0:.4241037368774414,1:1.4622769355773926,2:.6631349325180054},{0:.41871124505996704,1:1.4647200107574463,2:.6641247272491455},{0:.41380274295806885,1:1.4656442403793335,2:.663637638092041}],[{0:.43583768606185913,1:1.4513369798660278,2:.5357868671417236},{0:.43997490406036377,1:1.4495614767074585,2:.5330989360809326},{0:.44328606128692627,1:1.4450929164886475,2:.5294098854064941},{0:.44599246978759766,1:1.4418354034423828,2:.5262727737426758},{0:.44976651668548584,1:1.4381052255630493,2:.5225013494491577},{0:.4540824890136719,1:1.4341967105865479,2:.5188276767730713},{0:.45742785930633545,1:1.4311562776565552,2:.5163745880126953},{0:.4608027935028076,1:1.428295612335205,2:.5139122009277344},{0:.46424928307533264,1:1.4250969886779785,2:.5114543437957764},{0:.46748584508895874,1:1.4215681552886963,2:.5086305141448975},{0:.47082751989364624,1:1.4182535409927368,2:.5055803060531616},{0:.4742339849472046,1:1.4149445295333862,2:.5025115013122559},{0:.47782936692237854,1:1.411636233329773,2:.49976444244384766},{0:.4812149405479431,1:1.408646821975708,2:.496934175491333},{0:.48475366830825806,1:1.4056508541107178,2:.4943253993988037},{0:.4884631931781769,1:1.402423620223999,2:.49145424365997314},{0:.49349793791770935,1:1.398378849029541,2:.48769044876098633},{0:.498504102230072,1:1.3944592475891113,2:.48371922969818115},{0:.503049373626709,1:1.3904380798339844,2:.4800459146499634},{0:.5078496336936951,1:1.3865220546722412,2:.4758915901184082},{0:.5123571157455444,1:1.3823695182800293,2:.47132062911987305},{0:.5167975425720215,1:1.3786261081695557,2:.4672825336456299},{0:.5216217041015625,1:1.3747713565826416,2:.46345674991607666},{0:.5263678431510925,1:1.3712611198425293,2:.4604393243789673},{0:.5315396785736084,1:1.3671963214874268,2:.457037091255188},{0:.5351874232292175,1:1.363994836807251,2:.45464861392974854},{0:.5391533374786377,1:1.3607351779937744,2:.45184481143951416},{0:.5430679321289062,1:1.3569724559783936,2:.44929397106170654},{0:.5472878217697144,1:1.353271484375,2:.44651031494140625},{0:.5515636801719666,1:1.3491063117980957,2:.4440898895263672},{0:.5558596849441528,1:1.3449254035949707,2:.44178569316864014},{0:.5601886510848999,1:1.3406715393066406,2:.4394993782043457},{0:.5648386478424072,1:1.3366172313690186,2:.43682122230529785},{0:.5691442489624023,1:1.332645058631897,2:.4347273111343384},{0:.5734935998916626,1:1.328644037246704,2:.43285036087036133},{0:.5781091451644897,1:1.325040340423584,2:.43106400966644287},{0:.5824368000030518,1:1.3213282823562622,2:.4294452667236328},{0:.5866509675979614,1:1.3175710439682007,2:.42824244499206543},{0:.5909539461135864,1:1.3140686750411987,2:.426865816116333},{0:.5948249101638794,1:1.3107984066009521,2:.4253816604614258},{0:.598703145980835,1:1.3068585395812988,2:.42397797107696533},{0:.6027442216873169,1:1.3031284809112549,2:.42230796813964844},{0:.6065119504928589,1:1.2997220754623413,2:.4212946891784668},{0:.6102943420410156,1:1.2960461378097534,2:.42051732540130615},{0:.615491509437561,1:1.2906486988067627,2:.4194735288619995},{0:.6189233064651489,1:1.2869333028793335,2:.4184262752532959},{0:.622953474521637,1:1.2807185649871826,2:.41669440269470215},{0:.6254673004150391,1:1.2749195098876953,2:.4148111343383789},{0:.6262645721435547,1:1.269942045211792,2:.4136911630630493},{0:.6240107417106628,1:1.2652769088745117,2:.41420626640319824}],[{0:.5221347808837891,1:1.3765432834625244,2:.5246955156326294},{0:.5273438692092896,1:1.374594807624817,2:.5223109722137451},{0:.5319564938545227,1:1.370604395866394,2:.5215801000595093},{0:.5362318754196167,1:1.3664608001708984,2:.5199596881866455},{0:.5409207344055176,1:1.3614132404327393,2:.5193290710449219},{0:.5451346635818481,1:1.3564262390136719,2:.5184298753738403},{0:.5495322942733765,1:1.3514745235443115,2:.5177277326583862},{0:.5539151430130005,1:1.3464381694793701,2:.5162718296051025},{0:.557692289352417,1:1.3417372703552246,2:.5141540765762329},{0:.5613985061645508,1:1.336900234222412,2:.5120642185211182},{0:.5650981068611145,1:1.3321818113327026,2:.5099320411682129},{0:.5681031942367554,1:1.3281170129776,2:.5079472064971924},{0:.5704535245895386,1:1.3241106271743774,2:.5057477951049805},{0:.5726550221443176,1:1.3196512460708618,2:.5036927461624146},{0:.5688679218292236,1:1.3191169500350952,2:.5085535049438477}],[{0:.4764039218425751,1:1.401794195175171,2:.6748180389404297},{0:.48107409477233887,1:1.4008972644805908,2:.6787395477294922},{0:.4860406219959259,1:1.3993303775787354,2:.6824408769607544},{0:.4897402226924896,1:1.3975551128387451,2:.685691237449646},{0:.4950920045375824,1:1.3945422172546387,2:.6899466514587402},{0:.5006750822067261,1:1.3906347751617432,2:.6936153173446655},{0:.5057787895202637,1:1.3865607976913452,2:.6972111463546753},{0:.5101512670516968,1:1.3825126886367798,2:.7013723850250244},{0:.5146677494049072,1:1.3785152435302734,2:.7048856019973755},{0:.5193142294883728,1:1.3738603591918945,2:.7079510688781738},{0:.5234211683273315,1:1.369896411895752,2:.7106328010559082},{0:.52732253074646,1:1.3658761978149414,2:.7124490737915039},{0:.5315549373626709,1:1.3617490530014038,2:.7134379148483276},{0:.5354927778244019,1:1.3578193187713623,2:.7140243053436279},{0:.5391477346420288,1:1.3543500900268555,2:.7143286466598511},{0:.543166995048523,1:1.350496530532837,2:.7147245407104492},{0:.545012354850769,1:1.345430850982666,2:.7149645090103149},{0:.5418574810028076,1:1.3412764072418213,2:.7177059650421143}],[{0:.4225021004676819,1:1.4556975364685059,2:.6641991138458252},{0:.42477893829345703,1:1.4553589820861816,2:.669055700302124},{0:.4272846579551697,1:1.4542852640151978,2:.6734726428985596},{0:.42951059341430664,1:1.4527325630187988,2:.6778695583343506},{0:.43244898319244385,1:1.4507060050964355,2:.6824591159820557},{0:.43509870767593384,1:1.4484007358551025,2:.6865671873092651},{0:.4374939203262329,1:1.4460220336914062,2:.6911886930465698},{0:.44000065326690674,1:1.4435213804244995,2:.695324182510376},{0:.4431699514389038,1:1.440397024154663,2:.699294924736023},{0:.44664621353149414,1:1.4369779825210571,2:.7035545110702515},{0:.4504660367965698,1:1.4329860210418701,2:.708268404006958},{0:.4544414281845093,1:1.4293333292007446,2:.7120645046234131},{0:.4582345485687256,1:1.425493597984314,2:.7161087989807129},{0:.462040513753891,1:1.4221309423446655,2:.7199740409851074},{0:.4659126102924347,1:1.4185419082641602,2:.7229623794555664},{0:.4699268937110901,1:1.4148964881896973,2:.7259341478347778},{0:.4738239347934723,1:1.410889983177185,2:.7292461395263672},{0:.47775599360466003,1:1.4074187278747559,2:.7321900129318237},{0:.48137715458869934,1:1.4040802717208862,2:.7352486848831177},{0:.4855235815048218,1:1.4003077745437622,2:.738383412361145},{0:.4900870621204376,1:1.3965651988983154,2:.7413049936294556},{0:.49458369612693787,1:1.392717957496643,2:.7442672252655029},{0:.49900615215301514,1:1.389119267463684,2:.747645378112793},{0:.5033527612686157,1:1.3849642276763916,2:.7510498762130737},{0:.5075355768203735,1:1.3810641765594482,2:.7548079490661621},{0:.5119531154632568,1:1.377436637878418,2:.7586214542388916},{0:.516437292098999,1:1.3736417293548584,2:.7625441551208496},{0:.5197920799255371,1:1.3706727027893066,2:.7649811506271362},{0:.5232260227203369,1:1.3675965070724487,2:.7673659324645996},{0:.5266058444976807,1:1.3645353317260742,2:.7695094347000122},{0:.5299429893493652,1:1.3611685037612915,2:.7717291116714478},{0:.5335104465484619,1:1.3576931953430176,2:.7734166383743286},{0:.5382936000823975,1:1.3526564836502075,2:.7751361131668091},{0:.5430898666381836,1:1.3473517894744873,2:.7764472961425781},{0:.548095703125,1:1.3420301675796509,2:.7784897089004517},{0:.5532808303833008,1:1.3370468616485596,2:.780501127243042},{0:.5584132075309753,1:1.332292079925537,2:.7823880910873413},{0:.563159704208374,1:1.327370524406433,2:.7837133407592773},{0:.5675950646400452,1:1.3223319053649902,2:.7840390205383301},{0:.5712214708328247,1:1.3182756900787354,2:.7836275100708008},{0:.5740722417831421,1:1.3136190176010132,2:.7824190855026245},{0:.576127290725708,1:1.308621883392334,2:.7814180850982666}],[{0:.44527339935302734,1:1.4439754486083984,2:.5829112529754639},{0:.445375919342041,1:1.4442172050476074,2:.5886005163192749},{0:.44523876905441284,1:1.444570779800415,2:.5946706533432007},{0:.4457283616065979,1:1.4446914196014404,2:.600494384765625},{0:.44589829444885254,1:1.4452615976333618,2:.6060342788696289},{0:.4441361427307129,1:1.4463529586791992,2:.6111106872558594},{0:.4425118565559387,1:1.4469819068908691,2:.6161302328109741},{0:.43991315364837646,1:1.4476338624954224,2:.6204681396484375},{0:.43697869777679443,1:1.4479702711105347,2:.6247345209121704}],[{0:.3941601514816284,1:1.477935552597046,2:.602855920791626},{0:.39854252338409424,1:1.4759103059768677,2:.605522632598877},{0:.4026227593421936,1:1.473160743713379,2:.6076774597167969},{0:.40667182207107544,1:1.4703253507614136,2:.6105659008026123},{0:.4112548828125,1:1.4670491218566895,2:.6123454570770264},{0:.41538745164871216,1:1.4636924266815186,2:.6123933792114258},{0:.4200392961502075,1:1.4602994918823242,2:.6118595600128174},{0:.4245564937591553,1:1.4569337368011475,2:.6114221811294556},{0:.4291696548461914,1:1.4540822505950928,2:.6102737188339233},{0:.4335670471191406,1:1.4519370794296265,2:.6088182926177979},{0:.4338427782058716,1:1.4498417377471924,2:.6041456460952759}],[{0:.4022306203842163,1:1.4621875286102295,2:.6309932470321655},{0:.40354490280151367,1:1.461771845817566,2:.6259872913360596},{0:.400638222694397,1:1.4658482074737549,2:.624394416809082},{0:.39735841751098633,1:1.4686238765716553,2:.6271553039550781},{0:.3980609178543091,1:1.4676916599273682,2:.6324598789215088},{0:.4021332263946533,1:1.4645042419433594,2:.6340440511703491},{0:.4045366048812866,1:1.4615570306777954,2:.6301591396331787}],[{0:.39021188020706177,1:1.476722240447998,2:.6213573217391968},{0:.3889329433441162,1:1.4780062437057495,2:.6264148950576782},{0:.38878297805786133,1:1.4770557880401611,2:.6316924095153809},{0:.38869309425354004,1:1.4753254652023315,2:.6364092826843262}],[{0:.39320605993270874,1:1.4777034521102905,2:.5662964582443237},{0:.39103567600250244,1:1.48048996925354,2:.5707029104232788},{0:.3898894786834717,1:1.4816110134124756,2:.5762642621994019},{0:.38974452018737793,1:1.4818947315216064,2:.5813089609146118},{0:.3901689052581787,1:1.4807682037353516,2:.5863630771636963},{0:.3877626061439514,1:1.476790189743042,2:.5882889032363892}],[{0:.400488018989563,1:1.4626573324203491,2:.5760208368301392},{0:.4038430452346802,1:1.4622825384140015,2:.5719486474990845},{0:.40144312381744385,1:1.4640175104141235,2:.5676496028900146},{0:.39796513319015503,1:1.467538833618164,2:.5668802261352539},{0:.3959256410598755,1:1.4705548286437988,2:.5706954002380371},{0:.3958078622817993,1:1.4714075326919556,2:.575835108757019},{0:.3976123332977295,1:1.4705718755722046,2:.5812093019485474},{0:.4008290767669678,1:1.466251015663147,2:.5814721584320068},{0:.40167611837387085,1:1.4638605117797852,2:.5769007205963135}],[{0:.28605353832244873,1:1.6029354333877563,2:.35550081729888916},{0:.28930872678756714,1:1.6048600673675537,2:.35921573638916016},{0:.29270416498184204,1:1.6061680316925049,2:.3632165193557739},{0:.29701608419418335,1:1.6056110858917236,2:.3668041229248047},{0:.3016950488090515,1:1.6053613424301147,2:.3703092336654663},{0:.30505675077438354,1:1.605132818222046,2:.37497663497924805},{0:.3081589937210083,1:1.6054816246032715,2:.37935805320739746},{0:.3086671233177185,1:1.6045010089874268,2:.3843168020248413}],[{0:.2997928261756897,1:1.6024502515792847,2:.3467496633529663},{0:.3041515350341797,1:1.602933406829834,2:.34955263137817383},{0:.3083566427230835,1:1.602905511856079,2:.3523883819580078},{0:.31303101778030396,1:1.602353572845459,2:.3565722703933716},{0:.316686749458313,1:1.6021775007247925,2:.36087679862976074},{0:.3205578327178955,1:1.601733922958374,2:.364116907119751},{0:.32414424419403076,1:1.6013180017471313,2:.3683433532714844},{0:.32471853494644165,1:1.5988739728927612,2:.3730398416519165},{0:.3203403353691101,1:1.5953572988510132,2:.37279772758483887}],[{0:.3190821409225464,1:1.5929803848266602,2:.34551286697387695},{0:.32449132204055786,1:1.5923402309417725,2:.34447813034057617},{0:.3285064101219177,1:1.5905390977859497,2:.341839075088501},{0:.3323454260826111,1:1.5877889394760132,2:.338120698928833},{0:.3355901837348938,1:1.5847727060317993,2:.3334275484085083},{0:.337846040725708,1:1.5826606750488281,2:.3286428451538086},{0:.3395731449127197,1:1.580505132675171,2:.32440125942230225},{0:.3410131335258484,1:1.5789694786071777,2:.3196423053741455},{0:.3427332639694214,1:1.576822280883789,2:.3135937452316284},{0:.3441425561904907,1:1.5749095678329468,2:.3073720932006836},{0:.3450412154197693,1:1.5733931064605713,2:.30251479148864746},{0:.34583979845046997,1:1.572317123413086,2:.29719817638397217},{0:.3461329936981201,1:1.5710484981536865,2:.2913846969604492},{0:.34641414880752563,1:1.569925308227539,2:.28475117683410645},{0:.34642553329467773,1:1.5687180757522583,2:.2782273292541504},{0:.3464394807815552,1:1.5675386190414429,2:.2720801830291748},{0:.34637022018432617,1:1.5663238763809204,2:.2661067247390747},{0:.3466886878013611,1:1.565114974975586,2:.2600514888763428},{0:.347320556640625,1:1.5641326904296875,2:.2550457715988159},{0:.3488806486129761,1:1.5632433891296387,2:.25036442279815674}],[{0:.303546667098999,1:1.596216082572937,2:.34962499141693115},{0:.30010324716567993,1:1.5976436138153076,2:.34608161449432373},{0:.29585933685302734,1:1.5992904901504517,2:.34385883808135986},{0:.2912483811378479,1:1.60120689868927,2:.34352314472198486},{0:.2866023778915405,1:1.6031407117843628,2:.3430434465408325},{0:.28196853399276733,1:1.605324149131775,2:.3408823013305664},{0:.27669960260391235,1:1.6075769662857056,2:.3396366834640503},{0:.27178245782852173,1:1.6097761392593384,2:.337587833404541},{0:.26697397232055664,1:1.612067461013794,2:.3357492685317993},{0:.26191389560699463,1:1.6142635345458984,2:.3338834047317505},{0:.2567068338394165,1:1.616868495941162,2:.33293581008911133},{0:.25206446647644043,1:1.6190530061721802,2:.33179426193237305},{0:.2471122145652771,1:1.6210734844207764,2:.3296562433242798},{0:.24223047494888306,1:1.6225593090057373,2:.3272745609283447},{0:.23760753870010376,1:1.6241986751556396,2:.3249483108520508},{0:.232266366481781,1:1.6253859996795654,2:.3226339817047119},{0:.2276850938796997,1:1.6265124082565308,2:.32015669345855713},{0:.22368645668029785,1:1.6278538703918457,2:.31719517707824707},{0:.22060781717300415,1:1.6280525922775269,2:.31302714347839355},{0:.21781301498413086,1:1.627977967262268,2:.3081486225128174},{0:.21647882461547852,1:1.6278835535049438,2:.30270493030548096},{0:.2153257131576538,1:1.6271899938583374,2:.2969245910644531},{0:.2152213454246521,1:1.626400113105774,2:.2916688919067383},{0:.21521097421646118,1:1.6258021593093872,2:.2860466241836548},{0:.21473395824432373,1:1.6248118877410889,2:.27977263927459717},{0:.21435409784317017,1:1.624182939529419,2:.274566650390625},{0:.21441292762756348,1:1.6236697435379028,2:.2694936990737915},{0:.2145572304725647,1:1.622711181640625,2:.2638291120529175},{0:.21568840742111206,1:1.62154221534729,2:.2578474283218384},{0:.21682697534561157,1:1.6207691431045532,2:.2526923418045044},{0:.2184963822364807,1:1.6199445724487305,2:.2475268840789795},{0:.21943354606628418,1:1.6183758974075317,2:.24208760261535645},{0:.22060638666152954,1:1.617056131362915,2:.2367401123046875},{0:.2222883701324463,1:1.6157352924346924,2:.23177576065063477},{0:.22330135107040405,1:1.6142767667770386,2:.22607994079589844},{0:.22419649362564087,1:1.6126958131790161,2:.22044241428375244},{0:.224545419216156,1:1.610945224761963,2:.21508467197418213},{0:.22506141662597656,1:1.6095309257507324,2:.20923840999603271},{0:.22528201341629028,1:1.6082738637924194,2:.204215407371521},{0:.22531592845916748,1:1.60616934299469,2:.19871294498443604}],[{0:.22360479831695557,1:1.6250468492507935,2:.3332860469818115},{0:.22043567895889282,1:1.6275293827056885,2:.3294128179550171},{0:.2157604694366455,1:1.6276817321777344,2:.32743239402770996},{0:.21134865283966064,1:1.6274540424346924,2:.3237731456756592},{0:.20817679166793823,1:1.6270090341567993,2:.31961870193481445},{0:.2060425877571106,1:1.626343011856079,2:.315010666847229},{0:.20453083515167236,1:1.6250388622283936,2:.3100050687789917}],[{0:.22221976518630981,1:1.6448907852172852,2:.3423382043838501},{0:.21826863288879395,1:1.6459146738052368,2:.33878111839294434},{0:.21390646696090698,1:1.6457874774932861,2:.3345518112182617},{0:.21037286520004272,1:1.6455795764923096,2:.33014583587646484},{0:.20679503679275513,1:1.6456564664840698,2:.32659173011779785},{0:.20277106761932373,1:1.646105170249939,2:.3225545883178711},{0:.19838851690292358,1:1.6459749937057495,2:.3179124593734741},{0:.19474297761917114,1:1.6456443071365356,2:.3131147623062134},{0:.19202280044555664,1:1.6449782848358154,2:.3083235025405884},{0:.19028079509735107,1:1.6447638273239136,2:.3027331829071045},{0:.1874992847442627,1:1.643923282623291,2:.2976421117782593},{0:.18602412939071655,1:1.6430972814559937,2:.29237496852874756}],[{0:.19324958324432373,1:1.6421606540679932,2:.2855592966079712},{0:.19293910264968872,1:1.6408807039260864,2:.28055238723754883},{0:.1925233006477356,1:1.638840675354004,2:.275260329246521},{0:.19252735376358032,1:1.6363496780395508,2:.27030396461486816}],[{0:.20480138063430786,1:1.6391520500183105,2:.2865713834762573},{0:.20369476079940796,1:1.6379053592681885,2:.2813248634338379},{0:.20227456092834473,1:1.635725498199463,2:.27580392360687256},{0:.2025907039642334,1:1.6337696313858032,2:.2708570957183838},{0:.20438069105148315,1:1.6322851181030273,2:.2662268877029419},{0:.20589041709899902,1:1.6301411390304565,2:.2613469362258911},{0:.20720398426055908,1:1.6279757022857666,2:.256649374961853}],[{0:.1946304440498352,1:1.6313230991363525,2:.24180197715759277},{0:.19725096225738525,1:1.6329330205917358,2:.246087908744812},{0:.1963057518005371,1:1.6351205110549927,2:.2506558895111084},{0:.19235408306121826,1:1.6369049549102783,2:.25325822830200195},{0:.18687844276428223,1:1.6371371746063232,2:.25299394130706787},{0:.1832982897758484,1:1.6359596252441406,2:.24967026710510254},{0:.1800212264060974,1:1.6346333026885986,2:.2449800968170166},{0:.17909026145935059,1:1.6330537796020508,2:.23942852020263672},{0:.17937791347503662,1:1.6312243938446045,2:.23377835750579834},{0:.18119663000106812,1:1.6293928623199463,2:.22803664207458496},{0:.183210551738739,1:1.6272220611572266,2:.22266995906829834},{0:.18644338846206665,1:1.6251293420791626,2:.21745765209197998},{0:.19052499532699585,1:1.623444676399231,2:.21351420879364014},{0:.19556349515914917,1:1.6220258474349976,2:.2110837697982788},{0:.20037740468978882,1:1.6212430000305176,2:.20960652828216553},{0:.2056443691253662,1:1.6204406023025513,2:.20902371406555176},{0:.20607542991638184,1:1.6207138299942017,2:.21412885189056396}],[{0:.25525057315826416,1:1.6062394380569458,2:.2867079973220825},{0:.26022589206695557,1:1.6066949367523193,2:.2875235080718994},{0:.26465076208114624,1:1.6064964532852173,2:.2904651165008545},{0:.2702339291572571,1:1.6047776937484741,2:.29398488998413086},{0:.27517449855804443,1:1.6031306982040405,2:.29577577114105225},{0:.27996110916137695,1:1.6015074253082275,2:.2964411973953247}],[{0:.3185223937034607,1:1.5828404426574707,2:.3088425397872925},{0:.3240332007408142,1:1.5826680660247803,2:.3099040985107422},{0:.3294334411621094,1:1.5814528465270996,2:.3111647367477417},{0:.33252084255218506,1:1.5775210857391357,2:.3118772506713867}],[{0:.32515841722488403,1:1.5675644874572754,2:.2914752960205078},{0:.32227104902267456,1:1.567345142364502,2:.28724217414855957},{0:.31790751218795776,1:1.5692203044891357,2:.2852269411087036},{0:.31473469734191895,1:1.5724729299545288,2:.28816914558410645},{0:.3144056797027588,1:1.5751286745071411,2:.29251182079315186},{0:.31690293550491333,1:1.5751110315322876,2:.2969052791595459},{0:.3210909366607666,1:1.5734361410140991,2:.29921770095825195},{0:.3228529095649719,1:1.5694780349731445,2:.29647088050842285},{0:.32285380363464355,1:1.567421317100525,2:.2913593053817749}],[{0:.29344481229782104,1:1.5948683023452759,2:.2977827787399292},{0:.2945709824562073,1:1.5921121835708618,2:.29309749603271484},{0:.2969468832015991,1:1.589697241783142,2:.28875184059143066},{0:.2995896339416504,1:1.586938738822937,2:.2845931053161621},{0:.3028550148010254,1:1.5838137865066528,2:.2800571918487549},{0:.30690068006515503,1:1.5809375047683716,2:.27582406997680664},{0:.31068897247314453,1:1.5783315896987915,2:.27280938625335693},{0:.31552135944366455,1:1.5753979682922363,2:.2694823741912842},{0:.32004207372665405,1:1.573289394378662,2:.2660020589828491},{0:.3232613205909729,1:1.5706363916397095,2:.2625868320465088},{0:.32604843378067017,1:1.5683027505874634,2:.25861871242523193},{0:.3283926844596863,1:1.5657798051834106,2:.253987193107605},{0:.32812875509262085,1:1.5637861490249634,2:.248862624168396},{0:.3241202235221863,1:1.5649346113204956,2:.24487543106079102},{0:.31958073377609253,1:1.567265510559082,2:.24463927745819092},{0:.3141878843307495,1:1.5690970420837402,2:.24371957778930664},{0:.30933403968811035,1:1.570399522781372,2:.24100208282470703},{0:.30464088916778564,1:1.5707190036773682,2:.23818981647491455},{0:.30916935205459595,1:1.5687832832336426,2:.24074113368988037}],[{0:.27365273237228394,1:1.5982091426849365,2:.2818927764892578},{0:.2685505747795105,1:1.599447250366211,2:.28049159049987793},{0:.2644765377044678,1:1.5992659330368042,2:.27758312225341797},{0:.26236337423324585,1:1.5976983308792114,2:.2724125385284424},{0:.2635146975517273,1:1.5948940515518188,2:.26770317554473877},{0:.268828809261322,1:1.5939884185791016,2:.2672414779663086},{0:.27374422550201416,1:1.5936294794082642,2:.26912689208984375},{0:.2771785259246826,1:1.593437671661377,2:.27280640602111816},{0:.27776259183883667,1:1.5953443050384521,2:.27756690979003906},{0:.2737048864364624,1:1.5963337421417236,2:.28034090995788574}],[{0:.21021807193756104,1:1.6215648651123047,2:.23040688037872314},{0:.20855069160461426,1:1.6195950508117676,2:.22579658031463623},{0:.20749175548553467,1:1.6182280778884888,2:.2205270528793335},{0:.2072165608406067,1:1.6157211065292358,2:.2150726318359375},{0:.2058652639389038,1:1.6131374835968018,2:.2102140188217163},{0:.20490878820419312,1:1.6106994152069092,2:.20569860935211182},{0:.20551514625549316,1:1.6082855463027954,2:.2011336088180542}],[{0:.21419835090637207,1:1.610891342163086,2:.197951078414917},{0:.21424996852874756,1:1.6097620725631714,2:.19251370429992676},{0:.21429574489593506,1:1.607955813407898,2:.18748843669891357},{0:.21429407596588135,1:1.606180191040039,2:.18260610103607178},{0:.21408063173294067,1:1.604127049446106,2:.17727148532867432},{0:.21348720788955688,1:1.6015571355819702,2:.171211838722229},{0:.21299302577972412,1:1.59999680519104,2:.16629934310913086},{0:.21149325370788574,1:1.5972487926483154,2:.1622859239578247}],[{0:.2340729832649231,1:1.6029889583587646,2:.2095392942428589},{0:.2373868227005005,1:1.6023645401000977,2:.20469582080841064},{0:.2390957474708557,1:1.6003445386886597,2:.1998913288116455},{0:.24129843711853027,1:1.5981664657592773,2:.19474518299102783},{0:.24005448818206787,1:1.5952540636062622,2:.19051527976989746}],[{0:.22798216342926025,1:1.6008821725845337,2:.1692647933959961},{0:.2298433780670166,1:1.5987391471862793,2:.16492056846618652},{0:.2323000431060791,1:1.5955379009246826,2:.1601719856262207},{0:.23352926969528198,1:1.5921584367752075,2:.15504145622253418},{0:.2349749207496643,1:1.5893213748931885,2:.15081167221069336}],[{0:.21855837106704712,1:1.5933659076690674,2:.1482551097869873},{0:.2208338975906372,1:1.5905104875564575,2:.14363789558410645},{0:.22475165128707886,1:1.5879254341125488,2:.13922953605651855},{0:.22742027044296265,1:1.5845723152160645,2:.13521325588226318},{0:.22936314344406128,1:1.5810996294021606,2:.13125860691070557},{0:.23271113634109497,1:1.5770546197891235,2:.12969696521759033},{0:.23540937900543213,1:1.5734241008758545,2:.12738919258117676}],[{0:.349928081035614,1:1.5470974445343018,2:.22802472114562988},{0:.34903663396835327,1:1.5465006828308105,2:.2231048345565796},{0:.3481791615486145,1:1.5443779230117798,2:.21787214279174805},{0:.3475548028945923,1:1.5418897867202759,2:.21284151077270508},{0:.34776240587234497,1:1.5394420623779297,2:.20828211307525635},{0:.34824132919311523,1:1.5375726222991943,2:.20272743701934814},{0:.3479403257369995,1:1.5355019569396973,2:.19778335094451904},{0:.3464076519012451,1:1.5330793857574463,2:.19303441047668457}],[{0:.34433186054229736,1:1.5564959049224854,2:.2231583595275879},{0:.3416644334793091,1:1.55540132522583,2:.21901655197143555},{0:.3410489559173584,1:1.553618311882019,2:.2142035961151123},{0:.3403245210647583,1:1.5511996746063232,2:.20882153511047363},{0:.339044451713562,1:1.548896074295044,2:.20348334312438965},{0:.3394705653190613,1:1.546460747718811,2:.19853496551513672}],[{0:.3142595887184143,1:1.5622837543487549,2:.2229539155960083},{0:.3153802752494812,1:1.5593832731246948,2:.21861052513122559},{0:.31737613677978516,1:1.556675672531128,2:.2147519588470459},{0:.3198997974395752,1:1.5542900562286377,2:.210851788520813},{0:.3201589584350586,1:1.5527836084365845,2:.20580732822418213},{0:.3165983557701111,1:1.5540096759796143,2:.20201075077056885},{0:.3117450475692749,1:1.5564507246017456,2:.20032858848571777},{0:.306498646736145,1:1.5586086511611938,2:.1982569694519043},{0:.30160993337631226,1:1.5605970621109009,2:.1967376470565796},{0:.29628634452819824,1:1.562366008758545,2:.1946253776550293},{0:.29210925102233887,1:1.5644259452819824,2:.19209134578704834},{0:.2873044013977051,1:1.5663061141967773,2:.19392573833465576}],[{0:.32708585262298584,1:1.559529185295105,2:.22444629669189453},{0:.3255762457847595,1:1.558566689491272,2:.21965503692626953},{0:.3264765739440918,1:1.5560510158538818,2:.2151428461074829},{0:.32798242568969727,1:1.5530534982681274,2:.21081697940826416},{0:.32788389921188354,1:1.5498580932617188,2:.20625662803649902},{0:.32768094539642334,1:1.5466898679733276,2:.201859712600708}],[{0:.25258827209472656,1:1.5910758972167969,2:.20550751686096191},{0:.2552924156188965,1:1.5884240865707397,2:.2013547420501709},{0:.257903516292572,1:1.5860404968261719,2:.1967017650604248},{0:.25901341438293457,1:1.5821233987808228,2:.19343352317810059},{0:.25990015268325806,1:1.577288269996643,2:.19046974182128906}],[{0:.27081114053726196,1:1.5878303050994873,2:.20389986038208008},{0:.27509236335754395,1:1.5859330892562866,2:.20207691192626953},{0:.2770880460739136,1:1.5823208093643188,2:.19844472408294678},{0:.27964985370635986,1:1.578913688659668,2:.1952580213546753}],[{0:.2834523320198059,1:1.581693410873413,2:.20864617824554443},{0:.2851240038871765,1:1.5785510540008545,2:.20500218868255615},{0:.2885146737098694,1:1.5748224258422852,2:.20216429233551025},{0:.290108859539032,1:1.5703301429748535,2:.20437777042388916}],[{0:.29559439420700073,1:1.5745680332183838,2:.21316301822662354},{0:.2972567677497864,1:1.572784662246704,2:.2087104320526123},{0:.29820555448532104,1:1.5693246126174927,2:.2045503854751587}],[{0:.3039281368255615,1:1.574701189994812,2:.21918249130249023},{0:.3059194087982178,1:1.5734288692474365,2:.21433258056640625},{0:.30805981159210205,1:1.5709664821624756,2:.20981895923614502},{0:.30895304679870605,1:1.5685735940933228,2:.20471012592315674},{0:.3091801404953003,1:1.5658702850341797,2:.20015406608581543}],[{0:.3412964344024658,1:1.5380568504333496,2:.18800115585327148},{0:.34575027227401733,1:1.5374860763549805,2:.1838446855545044},{0:.34559082984924316,1:1.535249948501587,2:.1792055368423462},{0:.34398919343948364,1:1.5327880382537842,2:.17378640174865723},{0:.3412020206451416,1:1.5305769443511963,2:.16839075088500977},{0:.3387266993522644,1:1.528568148612976,2:.164137601852417},{0:.33628344535827637,1:1.5263731479644775,2:.1586618423461914},{0:.3345051407814026,1:1.5240240097045898,2:.152246356010437},{0:.3338232636451721,1:1.521989107131958,2:.14624464511871338},{0:.3325800895690918,1:1.5186384916305542,2:.13895106315612793},{0:.33193373680114746,1:1.516007900238037,2:.1338648796081543}],[{0:.34376251697540283,1:1.5226861238479614,2:.16284549236297607},{0:.3455149531364441,1:1.5185755491256714,2:.1594986915588379},{0:.3486577272415161,1:1.5148922204971313,2:.15554606914520264},{0:.3516450524330139,1:1.5114729404449463,2:.1524132490158081},{0:.3550063967704773,1:1.5072931051254272,2:.14849650859832764},{0:.35920464992523193,1:1.5028235912322998,2:.14424872398376465},{0:.3624153137207031,1:1.4996421337127686,2:.14137160778045654},{0:.3657711148262024,1:1.496443271636963,2:.1390061378479004},{0:.3692673444747925,1:1.4931302070617676,2:.13697028160095215},{0:.3730006814002991,1:1.4897446632385254,2:.13512647151947021},{0:.3769976496696472,1:1.4865938425064087,2:.13395822048187256},{0:.3811802268028259,1:1.4830940961837769,2:.13289880752563477},{0:.3853769302368164,1:1.4793379306793213,2:.1321483850479126},{0:.39001113176345825,1:1.4753962755203247,2:.13044381141662598},{0:.3948628306388855,1:1.4710206985473633,2:.12903892993927002},{0:.4001734256744385,1:1.466759204864502,2:.12710130214691162},{0:.4053487777709961,1:1.4622461795806885,2:.125019371509552},{0:.4105845093727112,1:1.4575103521347046,2:.12281471490859985},{0:.4164174795150757,1:1.4522197246551514,2:.12015402317047119},{0:.42145705223083496,1:1.4477465152740479,2:.11761254072189331},{0:.42696648836135864,1:1.4429175853729248,2:.11520463228225708},{0:.43256545066833496,1:1.4380173683166504,2:.11287117004394531},{0:.437835693359375,1:1.433631420135498,2:.11052632331848145},{0:.4436776638031006,1:1.4289789199829102,2:.10827183723449707},{0:.4494853615760803,1:1.4241809844970703,2:.10636633634567261},{0:.45510709285736084,1:1.4200465679168701,2:.1043088436126709},{0:.4608869254589081,1:1.4154281616210938,2:.1019323468208313},{0:.4672827124595642,1:1.4107019901275635,2:.09919309616088867},{0:.47290855646133423,1:1.4064079523086548,2:.09723156690597534},{0:.47910791635513306,1:1.402085542678833,2:.09535086154937744},{0:.4857999086380005,1:1.3983588218688965,2:.09335720539093018},{0:.4920864403247833,1:1.3948478698730469,2:.09201425313949585},{0:.4979778528213501,1:1.3913906812667847,2:.09086275100708008},{0:.503062903881073,1:1.388124704360962,2:.09008628129959106},{0:.5083485841751099,1:1.3834425210952759,2:.08942973613739014},{0:.5115045309066772,1:1.3781733512878418,2:.08908689022064209}],[{0:.19889885187149048,1:1.5956711769104004,2:.11328023672103882},{0:.19691574573516846,1:1.5947959423065186,2:.1080426573753357},{0:.19349229335784912,1:1.5931408405303955,2:.10282635688781738},{0:.19103598594665527,1:1.592037320137024,2:.09815502166748047},{0:.18915009498596191,1:1.5908005237579346,2:.09244710206985474},{0:.1882149577140808,1:1.589729905128479,2:.08684015274047852},{0:.1866856813430786,1:1.5877658128738403,2:.08175808191299438},{0:.1850954294204712,1:1.585309386253357,2:.07539498805999756},{0:.18468749523162842,1:1.5833873748779297,2:.07056641578674316},{0:.18433499336242676,1:1.580897569656372,2:.06553244590759277},{0:.18452376127243042,1:1.5785547494888306,2:.06065642833709717},{0:.18603390455245972,1:1.5760916471481323,2:.05484050512313843},{0:.1877956986427307,1:1.5734858512878418,2:.04939687252044678},{0:.18878066539764404,1:1.5707093477249146,2:.04469507932662964},{0:.19031715393066406,1:1.5678752660751343,2:.038515448570251465},{0:.19197005033493042,1:1.5643254518508911,2:.03222298622131348},{0:.1935606598854065,1:1.5608179569244385,2:.02694249153137207},{0:.19499242305755615,1:1.5570523738861084,2:.022309541702270508},{0:.196516752243042,1:1.5531224012374878,2:.0176430344581604},{0:.19735920429229736,1:1.5494461059570312,2:.012680649757385254},{0:.19858241081237793,1:1.5456095933914185,2:.006695389747619629},{0:.19972878694534302,1:1.5416609048843384,2:.0010077953338623047},{0:.20054137706756592,1:1.5375468730926514,2:-.004250884056091309},{0:.20123767852783203,1:1.5334811210632324,2:-.00906383991241455},{0:.20324993133544922,1:1.530094861984253,2:-.014039993286132812},{0:.20489376783370972,1:1.5254268646240234,2:-.018235206604003906},{0:.2067432999610901,1:1.520589828491211,2:-.0165327787399292}],[{0:.19881433248519897,1:1.6131795644760132,2:.20393431186676025},{0:.19960945844650269,1:1.6118578910827637,2:.19806599617004395},{0:.19633865356445312,1:1.6091364622116089,2:.19375181198120117},{0:.19523406028747559,1:1.6066759824752808,2:.18809664249420166},{0:.19515323638916016,1:1.6044738292694092,2:.18239521980285645},{0:.19519269466400146,1:1.6023763418197632,2:.1757822036743164},{0:.19440191984176636,1:1.5999796390533447,2:.169885516166687},{0:.19377434253692627,1:1.5982321500778198,2:.16366422176361084},{0:.19292426109313965,1:1.59609055519104,2:.1572340726852417},{0:.19256436824798584,1:1.5939322710037231,2:.15106534957885742},{0:.1922539472579956,1:1.5915683507919312,2:.14540624618530273},{0:.1921851634979248,1:1.5893540382385254,2:.14011573791503906},{0:.19207245111465454,1:1.5871045589447021,2:.13517224788665771}],[{0:.24743586778640747,1:1.586990237236023,2:.17286014556884766},{0:.24848389625549316,1:1.585050106048584,2:.16712546348571777},{0:.2481887936592102,1:1.5827274322509766,2:.16184473037719727},{0:.24856024980545044,1:1.5804747343063354,2:.15674614906311035},{0:.2500457763671875,1:1.5787945985794067,2:.15178489685058594},{0:.250333309173584,1:1.5758966207504272,2:.14752376079559326}],[{0:.23812925815582275,1:1.579583764076233,2:.1423889398574829},{0:.2403774857521057,1:1.5779619216918945,2:.1371058225631714},{0:.2426968216896057,1:1.5750428438186646,2:.13260746002197266},{0:.24576795101165771,1:1.5724587440490723,2:.12805330753326416},{0:.24855875968933105,1:1.5701701641082764,2:.12428498268127441},{0:.2520983815193176,1:1.5666635036468506,2:.12003719806671143},{0:.255291223526001,1:1.563463807106018,2:.11552125215530396},{0:.25774306058883667,1:1.5601540803909302,2:.1122087836265564},{0:.2608804702758789,1:1.5564919710159302,2:.11049151420593262}],[{0:.2576145529747009,1:1.590311884880066,2:.177512526512146},{0:.26116645336151123,1:1.5885614156723022,2:.1734069585800171},{0:.2614505887031555,1:1.5855045318603516,2:.16892051696777344},{0:.2614904046058655,1:1.583021879196167,2:.16448283195495605},{0:.26114243268966675,1:1.5802044868469238,2:.1600404977798462},{0:.26172375679016113,1:1.5779658555984497,2:.15475702285766602}],[{0:.26823627948760986,1:1.5743404626846313,2:.15975487232208252},{0:.27056556940078735,1:1.573194980621338,2:.15541481971740723},{0:.2712639570236206,1:1.5698769092559814,2:.15043556690216064},{0:.27191162109375,1:1.5665363073349,2:.14541566371917725},{0:.27361422777175903,1:1.5641602277755737,2:.14109086990356445}],[{0:.28022122383117676,1:1.5857164859771729,2:.1805284023284912},{0:.2814379334449768,1:1.5828479528427124,2:.17601418495178223},{0:.2837620973587036,1:1.5805082321166992,2:.1715068817138672},{0:.28676074743270874,1:1.5776346921920776,2:.16664564609527588},{0:.2885458469390869,1:1.574397325515747,2:.16224896907806396},{0:.2899063229560852,1:1.571503758430481,2:.15716314315795898},{0:.29013824462890625,1:1.5676398277282715,2:.15279150009155273}],[{0:.26608192920684814,1:1.5599478483200073,2:.13171303272247314},{0:.27113962173461914,1:1.5603983402252197,2:.12955665588378906},{0:.275398850440979,1:1.5591089725494385,2:.1265791654586792},{0:.2784786820411682,1:1.5564548969268799,2:.12207883596420288},{0:.2801624536514282,1:1.5531436204910278,2:.11724621057510376},{0:.28060972690582275,1:1.5495845079421997,2:.1125761866569519},{0:.28195708990097046,1:1.5457173585891724,2:.10874134302139282},{0:.28491121530532837,1:1.541676640510559,2:.10953152179718018}],[{0:.27353793382644653,1:1.546344518661499,2:.1390928030014038},{0:.27650564908981323,1:1.5435905456542969,2:.13596069812774658},{0:.278266966342926,1:1.539467453956604,2:.131553053855896},{0:.2798352837562561,1:1.5360052585601807,2:.1268467903137207},{0:.28144335746765137,1:1.531976580619812,2:.12351232767105103},{0:.28453314304351807,1:1.5289618968963623,2:.12035626173019409},{0:.2844367027282715,1:1.5273126363754272,2:.12580466270446777},{0:.281768798828125,1:1.5281013250350952,2:.1308293342590332}],[{0:.26710045337677,1:1.5684423446655273,2:.18830251693725586},{0:.268660306930542,1:1.567385196685791,2:.18275737762451172},{0:.2709691524505615,1:1.5652961730957031,2:.17785191535949707},{0:.2728556990623474,1:1.563125729560852,2:.17296528816223145},{0:.2750653624534607,1:1.5605769157409668,2:.167449951171875},{0:.27666163444519043,1:1.5580558776855469,2:.1631791591644287},{0:.2801434397697449,1:1.5552189350128174,2:.16037774085998535}],[{0:.29647672176361084,1:1.5597468614578247,2:.17660939693450928},{0:.29732227325439453,1:1.5576754808425903,2:.17132353782653809},{0:.2972497344017029,1:1.5549907684326172,2:.1670306921005249},{0:.29796427488327026,1:1.552260160446167,2:.16225385665893555},{0:.29932278394699097,1:1.549333095550537,2:.15839409828186035}],[{0:.2822267413139343,1:1.554811716079712,2:.15612006187438965},{0:.28509753942489624,1:1.55374276638031,2:.15100467205047607},{0:.2880818843841553,1:1.5516574382781982,2:.14593374729156494},{0:.2900089621543884,1:1.548633098602295,2:.14109861850738525},{0:.29185765981674194,1:1.5461349487304688,2:.13668060302734375},{0:.2936455011367798,1:1.5438240766525269,2:.13261449337005615},{0:.2952575087547302,1:1.540920615196228,2:.12816119194030762},{0:.2973841428756714,1:1.5375620126724243,2:.12481224536895752},{0:.29914140701293945,1:1.534271001815796,2:.12147849798202515}],[{0:.3117890954017639,1:1.5617156028747559,2:.17245614528656006},{0:.31517308950424194,1:1.561051607131958,2:.16795706748962402},{0:.31765931844711304,1:1.5591483116149902,2:.1623300313949585},{0:.3180927038192749,1:1.5566192865371704,2:.1565403938293457},{0:.31766629219055176,1:1.5535019636154175,2:.15204620361328125},{0:.3169832229614258,1:1.5502550601959229,2:.14734148979187012},{0:.31560587882995605,1:1.5460762977600098,2:.14473915100097656}],[{0:.3040844798088074,1:1.5395302772521973,2:.14338278770446777},{0:.30668359994888306,1:1.5383464097976685,2:.1392531394958496},{0:.3071771264076233,1:1.5348801612854004,2:.1338801383972168},{0:.3068552613258362,1:1.5318652391433716,2:.12990200519561768},{0:.30641114711761475,1:1.528613567352295,2:.12513184547424316},{0:.3062143325805664,1:1.5256454944610596,2:.12101519107818604},{0:.30569732189178467,1:1.5217204093933105,2:.11737138032913208},{0:.30703264474868774,1:1.5207023620605469,2:.12388819456100464}],[{0:.32115936279296875,1:1.5567651987075806,2:.17703938484191895},{0:.32369840145111084,1:1.5560107231140137,2:.1722412109375},{0:.32403963804244995,1:1.5537782907485962,2:.16751015186309814},{0:.3244673013687134,1:1.55168879032135,2:.16259658336639404},{0:.32501012086868286,1:1.5495595932006836,2:.1578434705734253},{0:.3247944116592407,1:1.5464363098144531,2:.15324735641479492},{0:.32392406463623047,1:1.5408179759979248,2:.15235388278961182}],[{0:.3145887851715088,1:1.5322256088256836,2:.14350509643554688},{0:.31713080406188965,1:1.5314749479293823,2:.13918209075927734},{0:.3183881640434265,1:1.5291931629180908,2:.13333189487457275},{0:.3175660967826843,1:1.5261696577072144,2:.12909269332885742},{0:.31670039892196655,1:1.5225706100463867,2:.12493431568145752},{0:.31538552045822144,1:1.5182909965515137,2:.1203264594078064},{0:.3123171329498291,1:1.5140639543533325,2:.11853337287902832}],[{0:.32871878147125244,1:1.5451346635818481,2:.18094658851623535},{0:.3290480971336365,1:1.5433313846588135,2:.1759248971939087},{0:.32858848571777344,1:1.5398461818695068,2:.1711667776107788},{0:.32796066999435425,1:1.5369868278503418,2:.166998028755188},{0:.32700562477111816,1:1.5322178602218628,2:.16467297077178955},{0:.3266081213951111,1:1.5266269445419312,2:.16379714012145996}],[{0:.24879658222198486,1:1.525476098060608,2:.06860476732254028},{0:.2506479024887085,1:1.5246052742004395,2:.06379789113998413},{0:.2529163956642151,1:1.5227620601654053,2:.059696972370147705},{0:.2560656666755676,1:1.5197950601577759,2:.05402916669845581},{0:.2579820156097412,1:1.5171732902526855,2:.04983609914779663},{0:.26031434535980225,1:1.5141254663467407,2:.045528948307037354},{0:.2629455327987671,1:1.5107781887054443,2:.040679216384887695},{0:.26525455713272095,1:1.506967306137085,2:.0357820987701416},{0:.2677597403526306,1:1.5026792287826538,2:.03009355068206787},{0:.270557165145874,1:1.4975223541259766,2:.023177027702331543},{0:.27271437644958496,1:1.4922082424163818,2:.01724064350128174},{0:.27481526136398315,1:1.4862068891525269,2:.011095166206359863},{0:.27618253231048584,1:1.4828482866287231,2:.007380485534667969},{0:.27774935960769653,1:1.479608178138733,2:.003529787063598633},{0:.28049302101135254,1:1.4732446670532227,2:-.0026827454566955566},{0:.2830045819282532,1:1.4699690341949463,2:-.007555663585662842},{0:.2862989902496338,1:1.4635381698608398,2:-.013820946216583252},{0:.28898143768310547,1:1.4599605798721313,2:-.018361032009124756},{0:.29263222217559814,1:1.452706217765808,2:-.025108516216278076},{0:.2951330542564392,1:1.448456048965454,2:-.0291709303855896},{0:.29689425230026245,1:1.4448601007461548,2:-.032280564308166504},{0:.299049437046051,1:1.441075086593628,2:-.035710930824279785},{0:.3021979331970215,1:1.436913013458252,2:-.04034221172332764},{0:.30431580543518066,1:1.4330885410308838,2:-.04376697540283203},{0:.3069004416465759,1:1.429070234298706,2:-.047240257263183594},{0:.30981338024139404,1:1.4247535467147827,2:-.050970375537872314},{0:.312017023563385,1:1.4211087226867676,2:-.05379128456115723},{0:.31505316495895386,1:1.416973352432251,2:-.057161688804626465},{0:.31852006912231445,1:1.413151741027832,2:-.0609012246131897},{0:.3211148977279663,1:1.409481167793274,2:-.06358271837234497},{0:.32409006357192993,1:1.405746340751648,2:-.06643956899642944},{0:.3271991014480591,1:1.4018408060073853,2:-.06917399168014526},{0:.33223098516464233,1:1.3953944444656372,2:-.07325601577758789},{0:.33562928438186646,1:1.3921523094177246,2:-.07573407888412476},{0:.3404262661933899,1:1.386443018913269,2:-.07872605323791504},{0:.34484440088272095,1:1.3812847137451172,2:-.08068859577178955}],[{0:.2808777689933777,1:1.4851552248001099,2:.03378206491470337},{0:.28437525033950806,1:1.4847562313079834,2:.03005087375640869},{0:.2912883758544922,1:1.4837207794189453,2:.029689013957977295},{0:.2963743209838867,1:1.4830081462860107,2:.02992469072341919},{0:.3022928237915039,1:1.4818377494812012,2:.031107664108276367},{0:.3086562156677246,1:1.4805021286010742,2:.032882750034332275},{0:.31564170122146606,1:1.4792988300323486,2:.03539854288101196},{0:.3232227563858032,1:1.4784830808639526,2:.03824913501739502},{0:.3278486132621765,1:1.4781763553619385,2:.04085308313369751},{0:.33449673652648926,1:1.4777287244796753,2:.04546922445297241},{0:.34134823083877563,1:1.477668285369873,2:.05070364475250244},{0:.34788650274276733,1:1.477649211883545,2:.056449711322784424},{0:.3539748191833496,1:1.477844476699829,2:.06190592050552368},{0:.36062294244766235,1:1.4782410860061646,2:.06770467758178711},{0:.36740463972091675,1:1.4786019325256348,2:.07392585277557373},{0:.37302762269973755,1:1.4788891077041626,2:.07982492446899414},{0:.37906599044799805,1:1.479550838470459,2:.08532750606536865},{0:.38450878858566284,1:1.480232834815979,2:.09187620878219604},{0:.38826507329940796,1:1.4807487726211548,2:.09772562980651855},{0:.3915194272994995,1:1.4815313816070557,2:.1032557487487793},{0:.39347517490386963,1:1.482033133506775,2:.10909730195999146},{0:.39400893449783325,1:1.4819093942642212,2:.11596155166625977}],[{0:.31546568870544434,1:1.443295955657959,2:-.009208381175994873},{0:.3209493160247803,1:1.4444639682769775,2:-.010063409805297852},{0:.3279044032096863,1:1.4452017545700073,2:-.008378326892852783},{0:.33382368087768555,1:1.4455461502075195,2:-.004539430141448975},{0:.3382070064544678,1:1.4461040496826172,2:-.0014868974685668945},{0:.34325408935546875,1:1.4468839168548584,2:.00251084566116333},{0:.34894174337387085,1:1.4480435848236084,2:.007314741611480713},{0:.35367441177368164,1:1.448838710784912,2:.01256340742111206},{0:.35923242568969727,1:1.449856162071228,2:.018274545669555664},{0:.36472582817077637,1:1.4509097337722778,2:.02381497621536255},{0:.36823445558547974,1:1.4515753984451294,2:.02760547399520874},{0:.37381649017333984,1:1.4527870416641235,2:.033396899700164795},{0:.37722015380859375,1:1.4532188177108765,2:.0377233624458313},{0:.38278478384017944,1:1.4544326066970825,2:.04344522953033447},{0:.38841575384140015,1:1.4557124376296997,2:.05005002021789551},{0:.39434319734573364,1:1.4566738605499268,2:.0571136474609375},{0:.3992098569869995,1:1.4574224948883057,2:.062298476696014404},{0:.4044191241264343,1:1.4578042030334473,2:.06784486770629883},{0:.4089304208755493,1:1.4580343961715698,2:.07330209016799927},{0:.41197413206100464,1:1.4578521251678467,2:.0778512954711914},{0:.4149158000946045,1:1.4569683074951172,2:.08437460660934448}],[{0:.1879149079322815,1:1.5328679084777832,2:.02736496925354004},{0:.19382596015930176,1:1.5326093435287476,2:.027455925941467285},{0:.1989651322364807,1:1.531143307685852,2:.026415586471557617},{0:.20489048957824707,1:1.5289430618286133,2:.0243644118309021},{0:.20922636985778809,1:1.5270551443099976,2:.02224862575531006},{0:.21400940418243408,1:1.5247211456298828,2:.020241975784301758},{0:.219335675239563,1:1.5221712589263916,2:.01886141300201416},{0:.22497940063476562,1:1.520697832107544,2:.017670035362243652},{0:.23086625337600708,1:1.5192160606384277,2:.017541229724884033},{0:.2372339963912964,1:1.5180776119232178,2:.018109619617462158},{0:.24278801679611206,1:1.5173838138580322,2:.019407451152801514},{0:.24831557273864746,1:1.5165103673934937,2:.021377980709075928},{0:.2538897395133972,1:1.5159029960632324,2:.02348226308822632},{0:.26009058952331543,1:1.5146596431732178,2:.026896238327026367},{0:.2647831439971924,1:1.5132931470870972,2:.03007584810256958},{0:.26805782318115234,1:1.5119074583053589,2:.033754050731658936},{0:.2691305875778198,1:1.5095704793930054,2:.038116395473480225}],[{0:.40715211629867554,1:1.3773839473724365,2:.010166347026824951},{0:.41306430101394653,1:1.3780218362808228,2:.01310652494430542},{0:.4190988540649414,1:1.3793914318084717,2:.016417324542999268},{0:.4237726926803589,1:1.3807737827301025,2:.01998138427734375},{0:.42826420068740845,1:1.382267713546753,2:.02380424737930298},{0:.4329678416252136,1:1.384016990661621,2:.027881085872650146},{0:.4375907778739929,1:1.3860929012298584,2:.03309500217437744},{0:.44122380018234253,1:1.3885751962661743,2:.03892230987548828},{0:.44449228048324585,1:1.3913779258728027,2:.04612123966217041},{0:.44744300842285156,1:1.3942162990570068,2:.05373728275299072},{0:.4499269723892212,1:1.3967766761779785,2:.06078261137008667},{0:.45187342166900635,1:1.3988808393478394,2:.06815117597579956},{0:.4534512162208557,1:1.4008857011795044,2:.07542228698730469},{0:.45438939332962036,1:1.4023065567016602,2:.08163988590240479},{0:.454498827457428,1:1.4031836986541748,2:.08836483955383301},{0:.45443809032440186,1:1.4037961959838867,2:.0944051742553711},{0:.45311760902404785,1:1.4031915664672852,2:.10196352005004883}]]},function(module,exports){module.exports=[[{0:.5825159549713135,1:.7052998542785645,2:.46016478538513184},{0:.583960771560669,1:.701718807220459,2:.45687925815582275},{0:.5841717720031738,1:.696492075920105,2:.4536149501800537},{0:.5845544338226318,1:.6905906200408936,2:.4510815143585205},{0:.5854442119598389,1:.6833484172821045,2:.44924092292785645},{0:.5865171551704407,1:.6778304576873779,2:.4485485553741455},{0:.5880070924758911,1:.6722520589828491,2:.4484008550643921},{0:.5892509818077087,1:.6669892072677612,2:.4484710693359375},{0:.5902503728866577,1:.66115403175354,2:.4482818841934204},{0:.5913492441177368,1:.6550154685974121,2:.4480329751968384},{0:.5924071073532104,1:.6484864950180054,2:.4482771158218384},{0:.5936764478683472,1:.642061710357666,2:.4486720561981201},{0:.5947462320327759,1:.6361515522003174,2:.44891631603240967},{0:.5954398512840271,1:.6305848360061646,2:.44922053813934326},{0:.5961086750030518,1:.6255178451538086,2:.44968676567077637},{0:.5970883369445801,1:.6191983222961426,2:.4509168863296509},{0:.5975329875946045,1:.6128063201904297,2:.453005313873291},{0:.5966598987579346,1:.6072593927383423,2:.45418214797973633},{0:.5944135189056396,1:.6102319955825806,2:.45927906036376953}],[{0:.5887066721916199,1:.6765227317810059,2:.47454190254211426},{0:.5917848348617554,1:.6714972257614136,2:.47418057918548584},{0:.5929861068725586,1:.6663815975189209,2:.4739863872528076},{0:.5942434072494507,1:.6595233678817749,2:.47378408908843994},{0:.594917356967926,1:.6542689800262451,2:.47347331047058105},{0:.5955774784088135,1:.648439884185791,2:.4725353717803955},{0:.5960392951965332,1:.6420447826385498,2:.47165894508361816},{0:.59641432762146,1:.6362490653991699,2:.47028136253356934},{0:.5965837240219116,1:.629819393157959,2:.4685382843017578},{0:.5964975357055664,1:.6235455274581909,2:.4666600227355957},{0:.5959943532943726,1:.618077278137207,2:.46459710597991943},{0:.5953174829483032,1:.6134083271026611,2:.46242082118988037},{0:.5935869216918945,1:.6075272560119629,2:.45919156074523926},{0:.5912435054779053,1:.6036816835403442,2:.4561431407928467},{0:.5872055292129517,1:.6017242670059204,2:.4522155523300171},{0:.5831648707389832,1:.6071956157684326,2:.4510331153869629}],[{0:.5799531936645508,1:.6848409175872803,2:.48277032375335693},{0:.5827670693397522,1:.6792294979095459,2:.4833817481994629},{0:.5856753587722778,1:.6746673583984375,2:.48624587059020996},{0:.5888584852218628,1:.6698876619338989,2:.49092841148376465},{0:.590972900390625,1:.666738748550415,2:.49507617950439453},{0:.5932531356811523,1:.6639916896820068,2:.4998723268508911},{0:.5955473780632019,1:.6612380743026733,2:.5055134296417236},{0:.5975711345672607,1:.6591060161590576,2:.511656641960144},{0:.5994981527328491,1:.6575708389282227,2:.518661618232727},{0:.6013610363006592,1:.6566742658615112,2:.526065468788147},{0:.6029955744743347,1:.6561158895492554,2:.5334362983703613},{0:.6043368577957153,1:.6561762094497681,2:.540745735168457},{0:.605417788028717,1:.6562769412994385,2:.5487617254257202},{0:.6063023209571838,1:.6563903093338013,2:.5554699897766113},{0:.6072232723236084,1:.6569890975952148,2:.5620626211166382},{0:.6078997850418091,1:.6576857566833496,2:.5689109563827515},{0:.6081113815307617,1:.658655047416687,2:.5743938684463501},{0:.6080281734466553,1:.6605583429336548,2:.5793905258178711},{0:.6065791845321655,1:.6630622148513794,2:.584729790687561},{0:.6033411026000977,1:.6660902500152588,2:.5878850221633911}],[{0:.5948007106781006,1:.6579824686050415,2:.5839656591415405},{0:.5966075658798218,1:.6531519889831543,2:.5836164951324463},{0:.5982146263122559,1:.6468604803085327,2:.5838351249694824},{0:.5992229580879211,1:.6408751010894775,2:.5843937397003174},{0:.6003456711769104,1:.6344070434570312,2:.5845122337341309},{0:.6009361743927002,1:.6291676759719849,2:.5847554206848145},{0:.6014286875724792,1:.6240056753158569,2:.5853943824768066},{0:.602246880531311,1:.6188187599182129,2:.5863498449325562},{0:.603370726108551,1:.6135454177856445,2:.5877454280853271},{0:.6050291061401367,1:.6062812805175781,2:.5897841453552246},{0:.6066638827323914,1:.6002787351608276,2:.5926508903503418},{0:.6084617376327515,1:.5958265066146851,2:.5962494611740112},{0:.6102257370948792,1:.5939078330993652,2:.6016302108764648},{0:.6106716394424438,1:.5954372882843018,2:.6073033809661865},{0:.6104798316955566,1:.6009665727615356,2:.6114555597305298},{0:.6096614599227905,1:.6055381298065186,2:.6133112907409668},{0:.6084117889404297,1:.6129310131072998,2:.6152520179748535},{0:.6075561046600342,1:.61780846118927,2:.6160604953765869},{0:.6063377857208252,1:.6232384443283081,2:.6169356107711792},{0:.6049805879592896,1:.6292436122894287,2:.6173626184463501},{0:.6032809019088745,1:.6350654363632202,2:.6175167560577393},{0:.6014080047607422,1:.6408582925796509,2:.6175253391265869},{0:.5994617938995361,1:.6455498933792114,2:.6171178817749023},{0:.5962321162223816,1:.6495602130889893,2:.6153970956802368}],[{0:.5679435729980469,1:.7002358436584473,2:.4544333219528198},{0:.568888247013092,1:.7065392732620239,2:.4559894800186157},{0:.5693149566650391,1:.7120335102081299,2:.45799386501312256},{0:.5696828365325928,1:.717719316482544,2:.4604218006134033},{0:.5698044896125793,1:.7237213850021362,2:.4636307954788208},{0:.569754958152771,1:.7292008399963379,2:.4671776294708252},{0:.5701156854629517,1:.7339915037155151,2:.47076869010925293},{0:.5701696872711182,1:.7378371953964233,2:.47498536109924316},{0:.5703582763671875,1:.7414470911026001,2:.47951412200927734},{0:.570758044719696,1:.7452847957611084,2:.48467564582824707},{0:.5711179971694946,1:.7494723796844482,2:.4903273582458496},{0:.5711339712142944,1:.7538573741912842,2:.4968278408050537},{0:.5708880424499512,1:.7586836814880371,2:.5036375522613525},{0:.5706744194030762,1:.7623476982116699,2:.5108835697174072},{0:.5704680681228638,1:.764940619468689,2:.5177243947982788},{0:.5704646110534668,1:.7665276527404785,2:.5246033668518066},{0:.5704634785652161,1:.7673840522766113,2:.5318810939788818},{0:.5704731941223145,1:.7677490711212158,2:.5374748706817627},{0:.5703970193862915,1:.7678049802780151,2:.5425862073898315},{0:.570584774017334,1:.7670867443084717,2:.5495705604553223},{0:.5707997679710388,1:.7656674385070801,2:.5564967393875122},{0:.5710618495941162,1:.76326584815979,2:.5633378028869629},{0:.5715627670288086,1:.7599804401397705,2:.5694465637207031},{0:.5724692344665527,1:.75599205493927,2:.5755712985992432},{0:.5735401511192322,1:.7513693571090698,2:.581779956817627},{0:.5747534036636353,1:.7464874982833862,2:.5875852108001709},{0:.5756747722625732,1:.7409167289733887,2:.5924720764160156},{0:.5767866373062134,1:.7350375652313232,2:.5967234373092651},{0:.577894389629364,1:.7289882898330688,2:.6002185344696045},{0:.5790699124336243,1:.7226448059082031,2:.6033334732055664},{0:.5803614854812622,1:.7162097692489624,2:.6056311130523682},{0:.5816576480865479,1:.7096295356750488,2:.6069700717926025},{0:.5832394361495972,1:.7022978067398071,2:.6078246831893921},{0:.5850398540496826,1:.6944340467453003,2:.6083806753158569},{0:.5867770910263062,1:.6871054172515869,2:.6085405349731445},{0:.588533341884613,1:.679358959197998,2:.6090807914733887},{0:.5906673669815063,1:.6716272830963135,2:.6092355251312256},{0:.5926486253738403,1:.6643222570419312,2:.6093661785125732},{0:.5950185060501099,1:.6567795276641846,2:.6096965074539185},{0:.5976481437683105,1:.6490575075149536,2:.6106052398681641},{0:.600034236907959,1:.6428647041320801,2:.6112407445907593},{0:.6022233963012695,1:.6366984844207764,2:.612108588218689},{0:.6044644117355347,1:.6298818588256836,2:.6125386953353882},{0:.6060652732849121,1:.6245267391204834,2:.6125872135162354},{0:.6074637174606323,1:.6190879344940186,2:.6123616695404053},{0:.6092984676361084,1:.6125482320785522,2:.6116442680358887},{0:.6107988953590393,1:.6075358390808105,2:.611319899559021},{0:.6126229763031006,1:.6027835607528687,2:.6123940944671631}],[{0:.580309271812439,1:.6114885807037354,2:.4617137908935547},{0:.5832656025886536,1:.6046098470687866,2:.46116554737091064},{0:.5855720639228821,1:.5995917320251465,2:.4616060256958008},{0:.5874662399291992,1:.5940847396850586,2:.462246298789978},{0:.589146614074707,1:.5876123905181885,2:.4631381034851074},{0:.5908036231994629,1:.581070065498352,2:.4636261463165283},{0:.5925883054733276,1:.5743066072463989,2:.4640690088272095},{0:.5945141911506653,1:.5679117441177368,2:.46537089347839355},{0:.5962491035461426,1:.5624182224273682,2:.46698880195617676},{0:.5981780290603638,1:.5577892065048218,2:.46933722496032715},{0:.6001461148262024,1:.5533226728439331,2:.4729344844818115},{0:.6015390157699585,1:.550063967704773,2:.47665488719940186},{0:.6033363342285156,1:.5470565557479858,2:.4811760187149048},{0:.6049929857254028,1:.5445955991744995,2:.48634254932403564},{0:.6067882180213928,1:.5430827140808105,2:.49199676513671875},{0:.6084473133087158,1:.5420190095901489,2:.49789106845855713},{0:.6102038621902466,1:.5414562225341797,2:.5043870210647583},{0:.6113756895065308,1:.5413233041763306,2:.5099630355834961},{0:.6124691367149353,1:.541561484336853,2:.5163264274597168},{0:.6135507822036743,1:.5422059297561646,2:.523094892501831},{0:.6143684387207031,1:.5426371097564697,2:.5298377275466919},{0:.6151096820831299,1:.543929934501648,2:.5366637706756592},{0:.6155136227607727,1:.5454634428024292,2:.5435326099395752},{0:.6157071590423584,1:.546766996383667,2:.5499016046524048},{0:.6161364316940308,1:.5480037927627563,2:.5559482574462891},{0:.6164485812187195,1:.5493807792663574,2:.5615921020507812},{0:.6165074706077576,1:.550979495048523,2:.5675747394561768},{0:.6151217222213745,1:.5525974035263062,2:.5726718902587891}],[{0:.6094927191734314,1:.592473030090332,2:.5974414348602295},{0:.61277174949646,1:.5886844396591187,2:.5970302820205688},{0:.6145401000976562,1:.5837546586990356,2:.596322774887085},{0:.6164813041687012,1:.5772204399108887,2:.5958230495452881},{0:.6185333132743835,1:.57127845287323,2:.5944322347640991},{0:.6197807788848877,1:.5651729106903076,2:.5925290584564209},{0:.620467483997345,1:.5602867603302002,2:.5899684429168701},{0:.6198018789291382,1:.5561285018920898,2:.5851035118103027},{0:.618624210357666,1:.5533303022384644,2:.5804853439331055},{0:.6173722147941589,1:.5518176555633545,2:.5752980709075928},{0:.6153915524482727,1:.5502716302871704,2:.5698997974395752}],[{0:.6039445400238037,1:.6367857456207275,2:.5189056396484375},{0:.6049054861068726,1:.6318520307540894,2:.5173523426055908},{0:.6061655282974243,1:.6269878149032593,2:.5171909332275391},{0:.6077550053596497,1:.6215898990631104,2:.5180712938308716},{0:.6098700761795044,1:.6164531707763672,2:.5198051929473877},{0:.6120101809501648,1:.6117018461227417,2:.522341251373291},{0:.6137363314628601,1:.6072341203689575,2:.5255553722381592},{0:.6158143281936646,1:.6046265363693237,2:.5302829742431641},{0:.6168245077133179,1:.6067065000534058,2:.5360655784606934},{0:.614705502986908,1:.6094435453414917,2:.5399081707000732}],[{0:.6059848070144653,1:.5884408950805664,2:.5196585655212402},{0:.6086854934692383,1:.584839940071106,2:.5227580070495605},{0:.6103406548500061,1:.5836613178253174,2:.5276403427124023},{0:.6114155054092407,1:.5832109451293945,2:.5327843427658081},{0:.6080012321472168,1:.5835045576095581,2:.5371273756027222}],[{0:.5969655513763428,1:.6268763542175293,2:.5629280805587769},{0:.5971180200576782,1:.6265538930892944,2:.5577212572097778},{0:.595378041267395,1:.6306674480438232,2:.5554285049438477},{0:.593894362449646,1:.6357071399688721,2:.5558638572692871},{0:.5938511490821838,1:.6388294696807861,2:.5608294010162354},{0:.5941958427429199,1:.6378648281097412,2:.56605064868927},{0:.5947399139404297,1:.6332236528396606,2:.5680559873580933},{0:.593993067741394,1:.6285909414291382,2:.5650500059127808},{0:.5926414132118225,1:.6264288425445557,2:.5607242584228516}],[{0:.5967143774032593,1:.6184396743774414,2:.5577296018600464},{0:.5998585224151611,1:.6176196336746216,2:.5624115467071533},{0:.60075843334198,1:.6177171468734741,2:.5675675868988037},{0:.5987408757209778,1:.6177448034286499,2:.5721451044082642}],[{0:.5928422212600708,1:.6282273530960083,2:.5004513263702393},{0:.5920559763908386,1:.6279772520065308,2:.495214581489563},{0:.5900789499282837,1:.6320202350616455,2:.49287474155426025},{0:.5879204869270325,1:.6371535062789917,2:.49254095554351807},{0:.5867629051208496,1:.6408272981643677,2:.4959585666656494},{0:.5882781744003296,1:.6397973299026489,2:.5015687942504883},{0:.5893914699554443,1:.634553074836731,2:.5030443668365479},{0:.5892254710197449,1:.6297341585159302,2:.5003876686096191},{0:.5884686708450317,1:.6263079643249512,2:.49666643142700195}],[{0:.5919398069381714,1:.6170940399169922,2:.4929327964782715},{0:.594255805015564,1:.6165468692779541,2:.49837589263916016},{0:.595298707485199,1:.6164603233337402,2:.5038444995880127},{0:.5935691595077515,1:.6167314052581787,2:.5085408687591553}],[{0:.6083762645721436,1:.5382574796676636,2:.47921037673950195},{0:.6089645624160767,1:.533157229423523,2:.4764750003814697},{0:.6099069118499756,1:.5286740064620972,2:.47432613372802734},{0:.6111631393432617,1:.5239126682281494,2:.4723700284957886},{0:.6125186681747437,1:.5188915729522705,2:.4706803560256958},{0:.6134780645370483,1:.5135489702224731,2:.4692983627319336},{0:.6139624714851379,1:.5079432725906372,2:.46745800971984863},{0:.6139075756072998,1:.5012344121932983,2:.4641225337982178},{0:.6135767698287964,1:.49612557888031006,2:.46111512184143066},{0:.6131047010421753,1:.49063801765441895,2:.458324670791626},{0:.6131607890129089,1:.4851076602935791,2:.4553864002227783},{0:.6130777597427368,1:.4792749881744385,2:.45242536067962646},{0:.6131935715675354,1:.47332942485809326,2:.4501957893371582},{0:.6132112741470337,1:.46770691871643066,2:.4478297233581543},{0:.613200306892395,1:.4616532325744629,2:.4457763433456421},{0:.6135238409042358,1:.454864501953125,2:.44398391246795654},{0:.6139824390411377,1:.44883036613464355,2:.4424675703048706},{0:.614483118057251,1:.4422646760940552,2:.44114255905151367},{0:.6149293184280396,1:.43492865562438965,2:.43985676765441895},{0:.6157413125038147,1:.428305983543396,2:.4392104148864746},{0:.6164478659629822,1:.4209522008895874,2:.4385058879852295},{0:.6175969839096069,1:.4131664037704468,2:.437894344329834},{0:.6185442209243774,1:.406335711479187,2:.4373995065689087},{0:.6193255186080933,1:.3989776372909546,2:.43693971633911133},{0:.6201530694961548,1:.3912200927734375,2:.4367859363555908},{0:.6205922365188599,1:.38423240184783936,2:.43613171577453613},{0:.6211403608322144,1:.3774818181991577,2:.4357318878173828},{0:.6216591000556946,1:.3706057071685791,2:.4355539083480835},{0:.6219677925109863,1:.363966703414917,2:.43500471115112305},{0:.6220325231552124,1:.3573242425918579,2:.4343374967575073},{0:.6219260692596436,1:.3506084680557251,2:.43359673023223877},{0:.6222013831138611,1:.3440415859222412,2:.4332847595214844},{0:.6225540637969971,1:.33782851696014404,2:.43310725688934326},{0:.6229932308197021,1:.33142387866973877,2:.43283820152282715},{0:.6232723593711853,1:.32514774799346924,2:.43262720108032227},{0:.6234633922576904,1:.31933319568634033,2:.43221986293792725},{0:.6237712502479553,1:.31321120262145996,2:.432104229927063},{0:.6241825222969055,1:.3073924779891968,2:.43199384212493896},{0:.6244972944259644,1:.30205464363098145,2:.43188953399658203},{0:.6251958608627319,1:.2942013740539551,2:.43198084831237793},{0:.6258338689804077,1:.2871962785720825,2:.43227851390838623},{0:.626621663570404,1:.280789852142334,2:.4327659606933594},{0:.6275054812431335,1:.2758331298828125,2:.4339768886566162},{0:.6285321712493896,1:.27062368392944336,2:.4353543519973755},{0:.6292402148246765,1:.2655487060546875,2:.4370535612106323}],[{0:.6234933137893677,1:.46199870109558105,2:.4874081611633301},{0:.6237965822219849,1:.4574090242385864,2:.4847393035888672},{0:.6239033937454224,1:.4527580738067627,2:.48276400566101074},{0:.6241012811660767,1:.4471834897994995,2:.48159360885620117},{0:.6244767308235168,1:.4400094747543335,2:.48060178756713867},{0:.6246285438537598,1:.43482744693756104,2:.47992825508117676},{0:.6249383091926575,1:.4294029474258423,2:.47892069816589355},{0:.6254086494445801,1:.4235585927963257,2:.4779644012451172},{0:.6257215142250061,1:.4172632694244385,2:.47719621658325195},{0:.6258960962295532,1:.4110565185546875,2:.47621893882751465},{0:.6260216236114502,1:.40480053424835205,2:.4750288724899292},{0:.6259986162185669,1:.3980865478515625,2:.47395849227905273},{0:.626167893409729,1:.39152204990386963,2:.4729337692260742},{0:.6264013051986694,1:.3847343921661377,2:.4720064401626587},{0:.6265538930892944,1:.37790727615356445,2:.47122371196746826},{0:.6271059513092041,1:.3707677125930786,2:.47075581550598145},{0:.6275258660316467,1:.3641451597213745,2:.4704540967941284},{0:.6281250715255737,1:.3570528030395508,2:.4703100919723511},{0:.6287789940834045,1:.3499680757522583,2:.4702732563018799},{0:.6295127868652344,1:.34285807609558105,2:.47013306617736816},{0:.6303366422653198,1:.33589279651641846,2:.47018563747406006},{0:.631361186504364,1:.3288567066192627,2:.4708089828491211},{0:.6323953866958618,1:.32237792015075684,2:.47164011001586914},{0:.6331136226654053,1:.3159445524215698,2:.47224950790405273},{0:.6336238384246826,1:.3094295263290405,2:.4732307195663452},{0:.6343845129013062,1:.303247332572937,2:.47432827949523926},{0:.6350002288818359,1:.2973918914794922,2:.4751098155975342},{0:.635414719581604,1:.29159700870513916,2:.4756448268890381},{0:.6359273791313171,1:.28614914417266846,2:.4758867025375366},{0:.6361948251724243,1:.281033992767334,2:.4760615825653076},{0:.6366284489631653,1:.27414023876190186,2:.47631561756134033},{0:.6369835138320923,1:.2678260803222656,2:.4762396812438965},{0:.6369283199310303,1:.26138293743133545,2:.47588181495666504},{0:.637353241443634,1:.2558020353317261,2:.47601747512817383},{0:.6378307342529297,1:.2494899034500122,2:.47599339485168457},{0:.6364638209342957,1:.24857425689697266,2:.47115111351013184}],[{0:.6350735425949097,1:.28159213066101074,2:.45220792293548584},{0:.6365493535995483,1:.2766324281692505,2:.45105040073394775},{0:.6349512934684753,1:.27132582664489746,2:.4472397565841675},{0:.6335078477859497,1:.26782190799713135,2:.44378209114074707},{0:.6313924789428711,1:.26386284828186035,2:.4403550624847412}],[{0:.6371340751647949,1:.2615642547607422,2:.46358227729797363},{0:.6377886533737183,1:.259834885597229,2:.468935489654541},{0:.6378405094146729,1:.26201844215393066,2:.4736511707305908}],[{0:.6297851800918579,1:.488344669342041,2:.6031813621520996},{0:.6336309909820557,1:.4830209016799927,2:.604427695274353},{0:.6369404792785645,1:.4765058755874634,2:.6057654619216919},{0:.6386832594871521,1:.47134363651275635,2:.6068148612976074},{0:.6406333446502686,1:.46572601795196533,2:.6086612939834595},{0:.6426159143447876,1:.45978879928588867,2:.6100798845291138},{0:.6443510055541992,1:.4533417224884033,2:.6116342544555664},{0:.6457813382148743,1:.44670379161834717,2:.6129767894744873},{0:.6472410559654236,1:.43968701362609863,2:.6144653558731079},{0:.648483157157898,1:.43245387077331543,2:.6159356832504272},{0:.6494502425193787,1:.42479586601257324,2:.6169962882995605},{0:.6503580212593079,1:.4170804023742676,2:.6178209781646729},{0:.6510196924209595,1:.40945708751678467,2:.6181728839874268},{0:.6513142585754395,1:.40051376819610596,2:.6192405223846436},{0:.6518493890762329,1:.3919767141342163,2:.6200506687164307},{0:.6521720886230469,1:.38334226608276367,2:.6209797859191895},{0:.652451753616333,1:.3745073080062866,2:.6210582256317139},{0:.6528375148773193,1:.36567163467407227,2:.6204327344894409},{0:.6527026295661926,1:.3567439317703247,2:.6195597648620605},{0:.6526734828948975,1:.3478100299835205,2:.618755578994751},{0:.6527174711227417,1:.3391629457473755,2:.6177644729614258},{0:.6527099609375,1:.331723690032959,2:.6168060302734375},{0:.6524546146392822,1:.3240318298339844,2:.6159963607788086},{0:.6520034074783325,1:.31715095043182373,2:.615038275718689},{0:.6514933109283447,1:.31195294857025146,2:.6144157648086548},{0:.6465389728546143,1:.3131980895996094,2:.6165552139282227}],[{0:.6301475763320923,1:.5505536794662476,2:.5933666229248047},{0:.6335306167602539,1:.5468560457229614,2:.5974488258361816},{0:.6359967589378357,1:.5426698923110962,2:.6020503044128418},{0:.6378359794616699,1:.5387219190597534,2:.6057320833206177},{0:.6395504474639893,1:.533755898475647,2:.6094615459442139},{0:.6411464214324951,1:.527661919593811,2:.6125845909118652},{0:.6423639059066772,1:.5208698511123657,2:.6157217025756836},{0:.6432641744613647,1:.5139641761779785,2:.6182880401611328},{0:.6438857913017273,1:.5066174268722534,2:.6208677291870117},{0:.644371509552002,1:.49934935569763184,2:.623659610748291},{0:.6450579762458801,1:.491968035697937,2:.6265580654144287},{0:.6452268958091736,1:.4846116304397583,2:.6296998262405396},{0:.6458227038383484,1:.47654902935028076,2:.633037805557251},{0:.646623969078064,1:.46850085258483887,2:.6355845928192139},{0:.6472635269165039,1:.4595564603805542,2:.6378499269485474},{0:.6482746601104736,1:.44996368885040283,2:.6400583982467651},{0:.6489912271499634,1:.4410005807876587,2:.6419229507446289},{0:.6494842767715454,1:.43594443798065186,2:.6427707672119141},{0:.650320291519165,1:.42740845680236816,2:.6439249515533447},{0:.6508947610855103,1:.42220425605773926,2:.6446298360824585},{0:.6516352891921997,1:.41506683826446533,2:.6454746723175049},{0:.6522448062896729,1:.4094386100769043,2:.6463481187820435},{0:.653304934501648,1:.4013049602508545,2:.6473855972290039},{0:.6538715362548828,1:.3962961435317993,2:.6479535102844238},{0:.6547585725784302,1:.3884822130203247,2:.6491010189056396},{0:.6559833288192749,1:.38023829460144043,2:.6506912708282471},{0:.6572698950767517,1:.3723345994949341,2:.6527783870697021},{0:.6584932208061218,1:.3649200201034546,2:.654827356338501},{0:.6598467230796814,1:.3571699857711792,2:.656952977180481},{0:.6610362529754639,1:.349698543548584,2:.6591756343841553},{0:.6622133851051331,1:.34320223331451416,2:.6613185405731201},{0:.6632978320121765,1:.3364112377166748,2:.663468599319458},{0:.6642656922340393,1:.32965028285980225,2:.665642499923706},{0:.6649149656295776,1:.32366669178009033,2:.6676636934280396},{0:.6654188632965088,1:.3177415132522583,2:.6692949533462524},{0:.6655029058456421,1:.3117145299911499,2:.6704976558685303},{0:.6657253503799438,1:.3066660165786743,2:.6715587377548218},{0:.6658670902252197,1:.29988324642181396,2:.6729191541671753},{0:.6655856966972351,1:.2941089868545532,2:.6733870506286621},{0:.665225625038147,1:.2886282205581665,2:.6735950708389282},{0:.6648680567741394,1:.2833975553512573,2:.6740740537643433},{0:.6643545031547546,1:.27655959129333496,2:.6742513179779053},{0:.6643581390380859,1:.27041304111480713,2:.6747399568557739}],[{0:.6037445068359375,1:.3451206684112549,2:.4851555824279785},{0:.6086288690567017,1:.3428882360458374,2:.48871588706970215},{0:.6119418144226074,1:.3407607078552246,2:.49333882331848145},{0:.6153969764709473,1:.33865082263946533,2:.49960970878601074},{0:.6174546480178833,1:.3372396230697632,2:.504806637763977},{0:.619418740272522,1:.33597075939178467,2:.5102658271789551},{0:.6216038465499878,1:.3344660997390747,2:.5168992280960083},{0:.6237725019454956,1:.3330042362213135,2:.5234313011169434},{0:.6255619525909424,1:.33152830600738525,2:.5306984186172485},{0:.6275925636291504,1:.3302934169769287,2:.538738489151001},{0:.6291409730911255,1:.32953572273254395,2:.5463523864746094},{0:.6305472254753113,1:.32872211933135986,2:.5543609857559204},{0:.6316913962364197,1:.3281294107437134,2:.5624915361404419},{0:.6328365802764893,1:.3275500535964966,2:.569896936416626},{0:.633800745010376,1:.3273756504058838,2:.5768568515777588},{0:.6345722079277039,1:.32700955867767334,2:.58341383934021},{0:.635295033454895,1:.32685577869415283,2:.5898613929748535},{0:.6356672048568726,1:.3271200656890869,2:.5953712463378906},{0:.6355258226394653,1:.3275909423828125,2:.6004331111907959},{0:.6345506906509399,1:.3289530277252197,2:.6061356067657471},{0:.6325112581253052,1:.3302617073059082,2:.6107656955718994}],[{0:.6303656101226807,1:.29171955585479736,2:.5164005756378174},{0:.630954384803772,1:.2864428758621216,2:.5156338214874268},{0:.6319998502731323,1:.28057146072387695,2:.5157585144042969},{0:.632706880569458,1:.27499282360076904,2:.5158936977386475},{0:.6336100101470947,1:.2686145305633545,2:.5162135362625122},{0:.6344741582870483,1:.2611287832260132,2:.516478419303894},{0:.635069727897644,1:.2557511329650879,2:.5166463851928711},{0:.6357343792915344,1:.24997925758361816,2:.517240047454834},{0:.6363831758499146,1:.2440047264099121,2:.5177240371704102},{0:.6368911266326904,1:.237723708152771,2:.5184111595153809},{0:.6375834941864014,1:.23133492469787598,2:.5191619396209717},{0:.6386065483093262,1:.22442281246185303,2:.5203933715820312},{0:.6397262215614319,1:.2172452211380005,2:.5218267440795898},{0:.6409193277359009,1:.20881688594818115,2:.5236388444900513},{0:.6418410539627075,1:.20202207565307617,2:.5252367258071899},{0:.642754316329956,1:.19410443305969238,2:.5268548727035522},{0:.6433833837509155,1:.18568003177642822,2:.5285022258758545},{0:.6439800262451172,1:.17729687690734863,2:.5300371646881104},{0:.6444603800773621,1:.16870784759521484,2:.5314384698867798},{0:.6450844407081604,1:.15962278842926025,2:.5332770347595215},{0:.645514965057373,1:.15095746517181396,2:.5349065065383911},{0:.6460056304931641,1:.1423889398574829,2:.5363519191741943},{0:.6461964845657349,1:.13350224494934082,2:.5377858877182007},{0:.6463823318481445,1:.12487328052520752,2:.5390385389328003},{0:.6465611457824707,1:.11625957489013672,2:.5402593612670898},{0:.6469690799713135,1:.10770988464355469,2:.5416638851165771},{0:.6473746299743652,1:.09944510459899902,2:.5432240962982178},{0:.6479151248931885,1:.09174251556396484,2:.5446395874023438},{0:.6483995914459229,1:.08394873142242432,2:.5461597442626953},{0:.6490774750709534,1:.07331216335296631,2:.5477701425552368},{0:.6493746042251587,1:.06520771980285645,2:.5489989519119263},{0:.649452805519104,1:.058730483055114746,2:.5499765872955322},{0:.6494531631469727,1:.05165457725524902,2:.5514853000640869},{0:.6493982076644897,1:.045598745346069336,2:.5528990030288696},{0:.649266242980957,1:.03974258899688721,2:.5537388324737549},{0:.6488845348358154,1:.033901214599609375,2:.5542916059494019},{0:.648348331451416,1:.028705239295959473,2:.5538991689682007},{0:.6477261781692505,1:.02168881893157959,2:.5536950826644897},{0:.6470041871070862,1:.016407489776611328,2:.5519382953643799},{0:.6462752223014832,1:.012321949005126953,2:.5488005876541138},{0:.6454588770866394,1:.009288668632507324,2:.5445575714111328},{0:.64469313621521,1:.0073757171630859375,2:.5391879081726074},{0:.6441932916641235,1:.00620579719543457,2:.5333940982818604},{0:.6439347267150879,1:.006734251976013184,2:.5268459320068359},{0:.643333375453949,1:.007523298263549805,2:.5194913148880005},{0:.6427749991416931,1:.00837564468383789,2:.514092206954956},{0:.642318606376648,1:.009583592414855957,2:.5088735818862915},{0:.6419106721878052,1:.011770963668823242,2:.5023781061172485},{0:.6417608261108398,1:.014666199684143066,2:.49677515029907227},{0:.6415424346923828,1:.017833590507507324,2:.491682767868042},{0:.6411306858062744,1:.020902395248413086,2:.48722517490386963},{0:.640162467956543,1:.024458885192871094,2:.48281919956207275},{0:.6386357545852661,1:.027970433235168457,2:.47954249382019043}],[{0:.6317044496536255,1:.26313698291778564,2:.4558730125427246},{0:.6344831585884094,1:.2587810754776001,2:.4551466703414917},{0:.6379148960113525,1:.25198638439178467,2:.4559899568557739},{0:.6401107907295227,1:.24614942073822021,2:.4569520950317383},{0:.6421871185302734,1:.2390817403793335,2:.4578733444213867},{0:.64422607421875,1:.2305750846862793,2:.4587721824645996},{0:.6464141607284546,1:.22092175483703613,2:.4602932929992676},{0:.6487292051315308,1:.2120593786239624,2:.4624943733215332},{0:.6500339508056641,1:.20689594745635986,2:.4636807441711426},{0:.6517595052719116,1:.19788289070129395,2:.46570920944213867},{0:.6527931690216064,1:.19257330894470215,2:.46683478355407715},{0:.6545872092247009,1:.18334102630615234,2:.4685835838317871},{0:.6556028127670288,1:.1780019998550415,2:.4696314334869385},{0:.6572905778884888,1:.1685473918914795,2:.4714308977127075},{0:.6582796573638916,1:.16307580471038818,2:.47262585163116455},{0:.6592770218849182,1:.15817975997924805,2:.4735621213912964},{0:.6600548028945923,1:.15321290493011475,2:.47441887855529785},{0:.6609995365142822,1:.14796364307403564,2:.47558486461639404},{0:.661731481552124,1:.14302396774291992,2:.47647321224212646},{0:.6630841493606567,1:.1330777406692505,2:.4780619144439697},{0:.664526104927063,1:.12381148338317871,2:.4795069694519043},{0:.6652138233184814,1:.11873471736907959,2:.48033034801483154},{0:.6663395166397095,1:.10983848571777344,2:.4820289611816406},{0:.6671280860900879,1:.10459411144256592,2:.48317885398864746},{0:.6681810617446899,1:.0959465503692627,2:.4853576421737671},{0:.6688745021820068,1:.09095489978790283,2:.48687243461608887},{0:.66973876953125,1:.0850529670715332,2:.48869192600250244},{0:.6703537702560425,1:.0782233476638794,2:.49054574966430664},{0:.6706069707870483,1:.07097470760345459,2:.4918053150177002},{0:.6701199412345886,1:.0625225305557251,2:.49265408515930176},{0:.6691819429397583,1:.05525815486907959,2:.4926126003265381},{0:.6679035425186157,1:.04911792278289795,2:.49214911460876465},{0:.6660151481628418,1:.043204665184020996,2:.4906911849975586},{0:.6633908748626709,1:.03788471221923828,2:.48800647258758545},{0:.6608279347419739,1:.033290743827819824,2:.4856024980545044},{0:.6584364175796509,1:.028919100761413574,2:.4831467866897583},{0:.6559502482414246,1:.02443528175354004,2:.48114776611328125},{0:.6535457372665405,1:.018959403038024902,2:.4797639846801758},{0:.6518734693527222,1:.014011979103088379,2:.48227477073669434},{0:.651062548160553,1:.011775493621826172,2:.4867565631866455},{0:.6505701541900635,1:.009668111801147461,2:.49208641052246094},{0:.6503657102584839,1:.00930333137512207,2:.4984036684036255},{0:.6493560075759888,1:.01100313663482666,2:.5044879913330078},{0:.6478046178817749,1:.013467073440551758,2:.5099003314971924},{0:.6453659534454346,1:.016030311584472656,2:.5145597457885742}],[{0:.623522937297821,1:.2933899164199829,2:.5158764123916626},{0:.6272661685943604,1:.29347383975982666,2:.5201215744018555},{0:.6307664513587952,1:.293612003326416,2:.5265634059906006},{0:.6331057548522949,1:.29363691806793213,2:.5318797826766968},{0:.635330080986023,1:.29289698600769043,2:.5370528697967529},{0:.637669563293457,1:.29152560234069824,2:.5425903797149658},{0:.6393448114395142,1:.28991246223449707,2:.5476313829421997},{0:.6411028504371643,1:.28788459300994873,2:.5530035495758057},{0:.6427695751190186,1:.2856968641281128,2:.5588070154190063},{0:.6440258026123047,1:.28338658809661865,2:.5637104511260986},{0:.645150899887085,1:.2808736562728882,2:.5685248374938965},{0:.6465226411819458,1:.27824079990386963,2:.5731860399246216},{0:.6477030515670776,1:.2745833396911621,2:.5789811611175537},{0:.6484756469726562,1:.26993703842163086,2:.5830745697021484},{0:.649835467338562,1:.2643008232116699,2:.58702552318573},{0:.6510922908782959,1:.2589683532714844,2:.5910331010818481},{0:.6516711711883545,1:.2532111406326294,2:.593775749206543},{0:.6525574922561646,1:.2467362880706787,2:.5962657928466797},{0:.653042733669281,1:.24186480045318604,2:.598013162612915},{0:.6534115076065063,1:.23625659942626953,2:.5994746685028076},{0:.6537242531776428,1:.22974467277526855,2:.6017028093338013},{0:.6541633605957031,1:.2233825922012329,2:.6040104627609253},{0:.6545898914337158,1:.21561336517333984,2:.6062495708465576},{0:.6549252867698669,1:.20623624324798584,2:.6075558662414551},{0:.6551645398139954,1:.19733476638793945,2:.6087411642074585},{0:.6552526950836182,1:.19174551963806152,2:.6092355251312256},{0:.6551125049591064,1:.1828552484512329,2:.6102405786514282},{0:.6551185846328735,1:.1771329641342163,2:.6105589866638184},{0:.6553479433059692,1:.16838312149047852,2:.6103696823120117},{0:.6554214954376221,1:.1628572940826416,2:.6103556156158447},{0:.6557582020759583,1:.15404975414276123,2:.6105328798294067},{0:.6562262773513794,1:.1484239101409912,2:.6106588840484619},{0:.6567953824996948,1:.13932454586029053,2:.6107276678085327},{0:.6570392847061157,1:.13411247730255127,2:.6104792356491089},{0:.6577040553092957,1:.12525081634521484,2:.6096913814544678},{0:.6578969955444336,1:.12009108066558838,2:.6091372966766357},{0:.6583482623100281,1:.11126530170440674,2:.6081169843673706},{0:.6588176488876343,1:.10246837139129639,2:.6073871850967407},{0:.6593407988548279,1:.09394228458404541,2:.6070694923400879},{0:.6596286296844482,1:.08614420890808105,2:.60699462890625},{0:.6598460078239441,1:.07866263389587402,2:.6068342924118042},{0:.6599529385566711,1:.07155823707580566,2:.606377124786377},{0:.6599107980728149,1:.06530296802520752,2:.605697751045227},{0:.6596211194992065,1:.05862700939178467,2:.6051242351531982},{0:.6592831611633301,1:.052457332611083984,2:.6047961711883545},{0:.659205436706543,1:.046775102615356445,2:.6048593521118164},{0:.6591362953186035,1:.041225433349609375,2:.6058053970336914},{0:.6591516733169556,1:.036232948303222656,2:.6068857908248901},{0:.659240186214447,1:.029338598251342773,2:.6088876724243164},{0:.6593353748321533,1:.022513628005981445,2:.6122019290924072},{0:.6593765020370483,1:.018117666244506836,2:.6148866415023804},{0:.6593919992446899,1:.013853788375854492,2:.6176273822784424},{0:.6595913171768188,1:.010028839111328125,2:.6218241453170776},{0:.6597306132316589,1:.006082415580749512,2:.6268155574798584},{0:.6600481867790222,1:.002913832664489746,2:.63242506980896},{0:.6600173711776733,1:-.00047898292541503906,2:.6383230686187744},{0:.6600503921508789,1:-.0037577152252197266,2:.6446290016174316},{0:.6600955724716187,1:-.0067740678787231445,2:.6508324146270752},{0:.659899890422821,1:-.0091477632522583,2:.6572458744049072},{0:.6597919464111328,1:-.011079192161560059,2:.6637141704559326},{0:.6596384644508362,1:-.012538433074951172,2:.6697475910186768},{0:.6591848731040955,1:-.013161420822143555,2:.6748695373535156},{0:.6586986184120178,1:-.013799786567687988,2:.6812059879302979},{0:.6581634283065796,1:-.013816356658935547,2:.6863431930541992},{0:.6557028889656067,1:-.01213979721069336,2:.6904035806655884}],[{0:.6509222388267517,1:.3052250146865845,2:.6336461305618286},{0:.6537181735038757,1:.3001704216003418,2:.6349961757659912},{0:.6554529666900635,1:.293695330619812,2:.6359755992889404},{0:.6564649939537048,1:.2874709367752075,2:.6360068321228027},{0:.6576422452926636,1:.28074443340301514,2:.6361584663391113},{0:.6588060855865479,1:.27393651008605957,2:.6369903087615967},{0:.6595459580421448,1:.26798248291015625,2:.6377837657928467},{0:.6598066091537476,1:.2625257968902588,2:.637670636177063},{0:.6601705551147461,1:.2572159767150879,2:.6378144025802612},{0:.6609687805175781,1:.2514129877090454,2:.6390963792800903},{0:.6624630689620972,1:.24702775478363037,2:.6423414945602417},{0:.6641496419906616,1:.24433469772338867,2:.6463114023208618},{0:.6658790111541748,1:.2426966428756714,2:.6523351669311523},{0:.6671926379203796,1:.2428123950958252,2:.6573162078857422},{0:.6679073572158813,1:.2433544397354126,2:.6626701354980469},{0:.6687244772911072,1:.24323320388793945,2:.6689221858978271},{0:.6696774363517761,1:.2419753074645996,2:.6748785972595215},{0:.6701293587684631,1:.24228930473327637,2:.680679440498352},{0:.6701221466064453,1:.2437077760696411,2:.6857409477233887},{0:.6692591905593872,1:.24831509590148926,2:.6875081062316895},{0:.6677186489105225,1:.25387346744537354,2:.6869781017303467},{0:.666165292263031,1:.26027047634124756,2:.6853727102279663},{0:.6648157238960266,1:.265549898147583,2:.6830060482025146},{0:.6632460951805115,1:.27053916454315186,2:.6799352169036865},{0:.661401093006134,1:.2757924795150757,2:.6768059730529785},{0:.6594394445419312,1:.28050315380096436,2:.6743757724761963},{0:.6577574014663696,1:.28578662872314453,2:.6729122400283813},{0:.6550871133804321,1:.2883356809616089,2:.6693416833877563}],[{0:.6727200150489807,1:.23663091659545898,2:.6678996086120605},{0:.6753808259963989,1:.23065292835235596,2:.6674864292144775},{0:.6768362522125244,1:.22330522537231445,2:.6674565076828003},{0:.6781074404716492,1:.2167062759399414,2:.66736900806427},{0:.6792360544204712,1:.20878088474273682,2:.6670029163360596},{0:.6804496049880981,1:.2003331184387207,2:.6668639183044434},{0:.6813511848449707,1:.19128119945526123,2:.6668646335601807},{0:.6820383667945862,1:.1819998025894165,2:.6667649745941162},{0:.6828396320343018,1:.1734180450439453,2:.666782021522522},{0:.6835740804672241,1:.16485464572906494,2:.6667575836181641},{0:.6842554211616516,1:.156347393989563,2:.6666111946105957},{0:.6847114562988281,1:.1480940580368042,2:.6664533615112305},{0:.6852761507034302,1:.13944602012634277,2:.6661558151245117},{0:.6860589981079102,1:.13129675388336182,2:.666083812713623},{0:.686650276184082,1:.12323451042175293,2:.6662397384643555},{0:.6872878074645996,1:.11543416976928711,2:.6665337085723877},{0:.6880019307136536,1:.10743057727813721,2:.6665078401565552},{0:.6885461807250977,1:.09928464889526367,2:.6661893129348755},{0:.6890844702720642,1:.0917736291885376,2:.6658259630203247},{0:.6897567510604858,1:.0847165584564209,2:.6655322313308716},{0:.690342366695404,1:.07733285427093506,2:.6654090881347656},{0:.6907808184623718,1:.07091331481933594,2:.6650002002716064},{0:.6913263201713562,1:.06447482109069824,2:.6644469499588013},{0:.6917659044265747,1:.05837416648864746,2:.6641221046447754},{0:.6922215819358826,1:.051737427711486816,2:.6639126539230347},{0:.6927007436752319,1:.04568517208099365,2:.6639516353607178},{0:.6930108070373535,1:.03927481174468994,2:.6640318632125854},{0:.6932788491249084,1:.03273928165435791,2:.6644103527069092},{0:.6938697099685669,1:.026888012886047363,2:.6651084423065186},{0:.6945155262947083,1:.020943641662597656,2:.6666581630706787},{0:.6952990293502808,1:.015931129455566406,2:.6688169240951538},{0:.6959195137023926,1:.009589314460754395,2:.6728861331939697},{0:.6961333155632019,1:.0036770105361938477,2:.6772624254226685},{0:.6960495710372925,1:-.0017944574356079102,2:.6823506355285645},{0:.6956252455711365,1:-.006793975830078125,2:.687576174736023},{0:.6943278908729553,1:-.011182308197021484,2:.6915315389633179},{0:.6924964785575867,1:-.015476584434509277,2:.6936221122741699},{0:.6896544098854065,1:-.019904017448425293,2:.6946671009063721},{0:.6856164336204529,1:-.023331403732299805,2:.6931204795837402},{0:.6818460822105408,1:-.02495419979095459,2:.6899040937423706},{0:.677710771560669,1:-.025624990463256836,2:.6846280097961426},{0:.6744245886802673,1:-.025762319564819336,2:.6801682710647583},{0:.669833242893219,1:-.025478839874267578,2:.6747826337814331},{0:.6656996607780457,1:-.02500736713409424,2:.670382022857666},{0:.6614732146263123,1:-.02404928207397461,2:.6672344207763672},{0:.656905472278595,1:-.02237391471862793,2:.6656465530395508},{0:.6517148613929749,1:-.019953489303588867,2:.6652696132659912},{0:.6452560424804688,1:-.01663351058959961,2:.6646775007247925}],[{0:.6429603099822998,1:.28043532371520996,2:.6432899236679077},{0:.6446732878684998,1:.2761397361755371,2:.6467230319976807},{0:.6436638236045837,1:.27104318141937256,2:.6477277278900146},{0:.6434909105300903,1:.26556944847106934,2:.6486127376556396},{0:.6438255310058594,1:.2612820863723755,2:.6516565084457397},{0:.6436522603034973,1:.25679731369018555,2:.6557806730270386},{0:.6425217986106873,1:.25786900520324707,2:.6606850624084473}],[{0:.6396037936210632,1:.2856409549713135,2:.6526182889938354},{0:.6415203809738159,1:.2811777591705322,2:.6546454429626465},{0:.6427891254425049,1:.27693891525268555,2:.6579046249389648},{0:.6441425085067749,1:.2721436023712158,2:.6611829996109009},{0:.6452633738517761,1:.2671703100204468,2:.6646689176559448},{0:.645539402961731,1:.26313626766204834,2:.6678485870361328},{0:.6441726684570312,1:.262811541557312,2:.6726762056350708}],[{0:.6310336589813232,1:.3256692886352539,2:.6091889142990112},{0:.6343464851379395,1:.3263314962387085,2:.613196849822998},{0:.636121392250061,1:.326526403427124,2:.6187968254089355},{0:.6371554136276245,1:.32522451877593994,2:.6248501539230347},{0:.6371892690658569,1:.32210516929626465,2:.6292214393615723},{0:.6368087530136108,1:.31696557998657227,2:.6308828592300415},{0:.6360883712768555,1:.31161224842071533,2:.6313674449920654},{0:.6351766586303711,1:.30635714530944824,2:.6300346851348877}],[{0:.6288325190544128,1:.28233611583709717,2:.45458269119262695},{0:.6324616074562073,1:.27772998809814453,2:.4549344778060913},{0:.6353176832199097,1:.2728487253189087,2:.45600569248199463},{0:.6367682814598083,1:.26788175106048584,2:.45700788497924805},{0:.636836051940918,1:.26219701766967773,2:.45758092403411865},{0:.6365164518356323,1:.25757813453674316,2:.4598134756088257},{0:.6359069347381592,1:.2579643726348877,2:.46519196033477783}],[{0:.6276956796646118,1:.28892195224761963,2:.4619542360305786},{0:.6301674842834473,1:.28309905529022217,2:.46173012256622314},{0:.6311448812484741,1:.27790403366088867,2:.4620707035064697},{0:.6320268511772156,1:.2720649242401123,2:.46276867389678955},{0:.6333600282669067,1:.2664608955383301,2:.4647012948989868},{0:.6345406174659729,1:.261094331741333,2:.46718907356262207},{0:.6346399784088135,1:.2562716007232666,2:.46924710273742676},{0:.6341196894645691,1:.2515878677368164,2:.4722418785095215}]]},function(module,exports,__webpack_require__){"use strict";var assetsLoader=__webpack_require__(110);assetsLoader.stats=__webpack_require__(44),module.exports=assetsLoader},function(module,exports,__webpack_require__){"use strict";var Emitter=__webpack_require__(43),createLoader=__webpack_require__(111),autoId=0;module.exports=function createGroup(config){var group,map={},assets=[],queue=[],numLoaded=0,numTotal=0,loaders={},add=function(options){if(Array.isArray(options))return options.forEach(add),group;var loader,isGroup=!!options.assets&&Array.isArray(options.assets);return loader=isGroup?createGroup(configure(options,config)):createLoader(configure(options,config)),loader.once("destroy",destroyHandler),queue.push(loader),loaders[loader.id]=loader,group},get=function(id){return arguments.length?map[id]?map[id]:loaders[id]:assets},find=function(id){if(get(id))return get(id);var found=null;return Object.keys(loaders).some(function(key){return!!(found=loaders[key].find&&loaders[key].find(id))}),found},getExtension=function(url){return url&&url.split("?")[0].split(".").pop().toLowerCase()},configure=function(options,defaults){if("string"==typeof options){options={url:options}}return void 0===options.isTouchLocked&&(options.isTouchLocked=defaults.isTouchLocked),void 0===options.blob&&(options.blob=defaults.blob),void 0===options.basePath&&(options.basePath=defaults.basePath),options.id=options.id||options.url||String(++autoId),options.type=options.type||getExtension(options.url),options.crossOrigin=options.crossOrigin||defaults.crossOrigin,options.webAudioContext=options.webAudioContext||defaults.webAudioContext,options.log=defaults.log,options},start=function(){return numTotal=queue.length,queue.forEach(function(loader){loader.on("progress",progressHandler).once("complete",completeHandler).once("error",errorHandler).start()}),queue=[],group},progressHandler=function(progress){var loaded=numLoaded+progress;group.emit("progress",loaded/numTotal)},completeHandler=function(asset,id,type){Array.isArray(asset)&&(asset={id:id,file:asset,type:type}),numLoaded++,group.emit("progress",numLoaded/numTotal),map[asset.id]=asset.file,assets.push(asset),group.emit("childcomplete",asset),checkComplete()},errorHandler=function(err){numTotal--,group.listeners("error").length&&group.emit("error",err),checkComplete()},destroyHandler=function(id){loaders[id]=null,delete loaders[id],map[id]=null,delete map[id],assets.some(function(asset,i){if(asset.id===id)return assets.splice(i,1),!0})},checkComplete=function(){numLoaded>=numTotal&&group.emit("complete",assets,map,config.id,"group")},destroy=function(){for(;queue.length;)queue.pop().destroy();return group.off("error"),group.off("progress"),group.off("complete"),assets=[],map={},config.webAudioContext=null,numTotal=0,numLoaded=0,Object.keys(loaders).forEach(function(key){loaders[key].destroy()}),loaders={},group.emit("destroy",group.id),group};return group=Object.create(Emitter.prototype,{_events:{value:{}},id:{get:function(){return config.id}},add:{value:add},start:{value:start},get:{value:get},find:{value:find},getLoader:{value:function(id){return loaders[id]}},loaded:{get:function(){return numLoaded>=numTotal}},file:{get:function(){return assets}},destroy:{value:destroy}}),config=configure(config||{},{basePath:"",blob:!1,touchLocked:!1,crossOrigin:null,webAudioContext:null,log:!1}),Array.isArray(config.assets)&&add(config.assets),Object.freeze(group)}},function(module,exports,__webpack_require__){"use strict";var Emitter=__webpack_require__(43),browserHasBlob=__webpack_require__(112),stats=__webpack_require__(44);module.exports=function(options){var loader,loadHandler,request,startTime,timeout,file,id=options.id,basePath=options.basePath||"",url=options.url,type=options.type,crossOrigin=options.crossOrigin,isTouchLocked=options.isTouchLocked,blob=options.blob&&browserHasBlob,webAudioContext=options.webAudioContext,log=options.log,start=function(){switch(startTime=Date.now(),type){case"json":loadJSON();break;case"jpg":case"png":case"gif":case"webp":loadImage();break;case"mp3":case"ogg":case"opus":case"wav":case"m4a":loadAudio();break;case"ogv":case"mp4":case"webm":case"hls":loadVideo();break;case"bin":case"binary":loadXHR("arraybuffer");break;case"txt":case"text":loadXHR("text");break;default:throw"AssetsLoader ERROR: Unknown type for file with URL: "+basePath+url+" ("+type+")"}},dispatchComplete=function(data){data&&(file={id:id,file:data,type:type},loader.emit("progress",1),loader.emit("complete",file,id,type),removeListeners())},loadXHR=function(responseType,customLoadHandler){loadHandler=customLoadHandler||completeHandler,request=new XMLHttpRequest,request.open("GET",basePath+url,!0),request.responseType=responseType,request.addEventListener("progress",progressHandler),request.addEventListener("load",loadHandler),request.addEventListener("error",errorHandler),request.send()},progressHandler=function(event){event.lengthComputable&&loader.emit("progress",event.loaded/event.total)},completeHandler=function(){success()&&dispatchComplete(request.response)},success=function(){return request&&request.status<400?(stats.update(request,startTime,url,log),!0):(errorHandler(request&&request.statusText),!1)},loadJSON=function(){loadXHR("json",function(){if(success()){var data=request.response;"string"==typeof data&&(data=JSON.parse(data)),dispatchComplete(data)}})},loadImage=function(){blob?loadImageBlob():loadImageElement()},loadImageElement=function(){request=new Image,crossOrigin&&(request.crossOrigin="anonymous"),request.addEventListener("error",errorHandler,!1),request.addEventListener("load",elementLoadHandler,!1),request.src=basePath+url},elementLoadHandler=function(event){if(window.clearTimeout(timeout),!event&&(request.error||!request.readyState))return void errorHandler();dispatchComplete(request)},loadImageBlob=function(){loadXHR("blob",function(){success()&&(request=new Image,request.addEventListener("error",errorHandler,!1),request.addEventListener("load",imageBlobHandler,!1),request.src=window.URL.createObjectURL(request.response))})},imageBlobHandler=function(){window.URL.revokeObjectURL(request.src),dispatchComplete(request)},loadAudio=function(){webAudioContext?loadAudioBuffer():loadMediaElement("audio")},loadVideo=function(){blob?loadXHR("blob"):loadMediaElement("video")},loadAudioBuffer=function(){loadXHR("arraybuffer",function(){success()&&webAudioContext.decodeAudioData(request.response,function(buffer){request=null,dispatchComplete(buffer)},function(e){errorHandler(e)})})},loadMediaElement=function(tagName){request=document.createElement(tagName),isTouchLocked||(window.clearTimeout(timeout),timeout=window.setTimeout(elementLoadHandler,2e3),request.addEventListener("canplaythrough",elementLoadHandler,!1)),request.addEventListener("error",errorHandler,!1),request.preload="auto",request.src=basePath+url,request.load(),isTouchLocked&&dispatchComplete(request)},errorHandler=function(err){window.clearTimeout(timeout);var message=err;if(request&&request.tagName&&request.error){message="MediaError: "+["","ABORTED","NETWORK","DECODE","SRC_NOT_SUPPORTED"][request.error.code]+" "+request.src}else request&&request.statusText?message=request.statusText:err&&err.message?message=err.message:err&&err.type&&(message=err.type);loader.emit("error",'Error loading "'+basePath+url+'" '+message),destroy()},removeListeners=function(){loader.off("error"),loader.off("progress"),loader.off("complete"),request&&(request.removeEventListener("progress",progressHandler),request.removeEventListener("load",loadHandler),request.removeEventListener("error",errorHandler),request.removeEventListener("load",elementLoadHandler),request.removeEventListener("canplaythrough",elementLoadHandler),request.removeEventListener("load",imageBlobHandler))},destroy=function(){removeListeners(),request&&request.abort&&request.readyState<4&&request.abort(),request=null,webAudioContext=null,file=null,window.clearTimeout(timeout),loader.emit("destroy",id)};return loader=Object.create(Emitter.prototype,{_events:{value:{}},id:{value:options.id},start:{value:start},loaded:{get:function(){return!!file}},file:{get:function(){return file}},destroy:{value:destroy}}),Object.freeze(loader)}},function(module,exports,__webpack_require__){"use strict";module.exports=function(){try{return!!new Blob}catch(e){return!1}}()},function(module,exports,__webpack_require__){module.exports=__webpack_require__(114),module.exports.color=__webpack_require__(115)},function(module,exports){var dat=module.exports=dat||{};dat.gui=dat.gui||{},dat.utils=dat.utils||{},dat.controllers=dat.controllers||{},dat.dom=dat.dom||{},dat.color=dat.color||{},dat.utils.css=function(){return{load:function(url,doc){doc=doc||document;var link=doc.createElement("link");link.type="text/css",link.rel="stylesheet",link.href=url,doc.getElementsByTagName("head")[0].appendChild(link)},inject:function(css,doc){doc=doc||document;var injected=document.createElement("style");injected.type="text/css",injected.innerHTML=css,doc.getElementsByTagName("head")[0].appendChild(injected)}}}(),dat.utils.common=function(){var ARR_EACH=Array.prototype.forEach,ARR_SLICE=Array.prototype.slice;return{BREAK:{},extend:function(target){return this.each(ARR_SLICE.call(arguments,1),function(obj){for(var key in obj)this.isUndefined(obj[key])||(target[key]=obj[key])},this),target},defaults:function(target){return this.each(ARR_SLICE.call(arguments,1),function(obj){for(var key in obj)this.isUndefined(target[key])&&(target[key]=obj[key])},this),target},compose:function(){var toCall=ARR_SLICE.call(arguments);return function(){for(var args=ARR_SLICE.call(arguments),i=toCall.length-1;i>=0;i--)args=[toCall[i].apply(this,args)];return args[0]}},each:function(obj,itr,scope){if(ARR_EACH&&obj.forEach===ARR_EACH)obj.forEach(itr,scope);else if(obj.length===obj.length+0){for(var key=0,l=obj.length;key<l;key++)if(key in obj&&itr.call(scope,obj[key],key)===this.BREAK)return}else for(var key in obj)if(itr.call(scope,obj[key],key)===this.BREAK)return},defer:function(fnc){setTimeout(fnc,0)},toArray:function(obj){return obj.toArray?obj.toArray():ARR_SLICE.call(obj)},isUndefined:function(obj){return void 0===obj},isNull:function(obj){return null===obj},isNaN:function(obj){return obj!==obj},isArray:Array.isArray||function(obj){return obj.constructor===Array},isObject:function(obj){return obj===Object(obj)},isNumber:function(obj){return obj===obj+0},isString:function(obj){return obj===obj+""},isBoolean:function(obj){return!1===obj||!0===obj},isFunction:function(obj){return"[object Function]"===Object.prototype.toString.call(obj)}}}(),dat.controllers.Controller=function(common){var Controller=function(object,property){this.initialValue=object[property],this.domElement=document.createElement("div"),this.object=object,this.property=property,this.__onChange=void 0,this.__onFinishChange=void 0};return common.extend(Controller.prototype,{onChange:function(fnc){return this.__onChange=fnc,this},onFinishChange:function(fnc){return this.__onFinishChange=fnc,this},setValue:function(newValue){return this.object[this.property]=newValue,this.__onChange&&this.__onChange.call(this,newValue),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),Controller}(dat.utils.common),dat.dom.dom=function(common){function cssValueToPixels(val){if("0"===val||common.isUndefined(val))return 0;var match=val.match(CSS_VALUE_PIXELS);return common.isNull(match)?0:parseFloat(match[1])}var EVENT_MAP={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},EVENT_MAP_INV={};common.each(EVENT_MAP,function(v,k){common.each(v,function(e){EVENT_MAP_INV[e]=k})});var CSS_VALUE_PIXELS=/(\d+(\.\d+)?)px/,dom={makeSelectable:function(elem,selectable){void 0!==elem&&void 0!==elem.style&&(elem.onselectstart=selectable?function(){return!1}:function(){},elem.style.MozUserSelect=selectable?"auto":"none",elem.style.KhtmlUserSelect=selectable?"auto":"none",elem.unselectable=selectable?"on":"off")},makeFullscreen:function(elem,horizontal,vertical){common.isUndefined(horizontal)&&(horizontal=!0),common.isUndefined(vertical)&&(vertical=!0),elem.style.position="absolute",horizontal&&(elem.style.left=0,elem.style.right=0),vertical&&(elem.style.top=0,elem.style.bottom=0)},fakeEvent:function(elem,eventType,params,aux){params=params||{};var className=EVENT_MAP_INV[eventType];if(!className)throw new Error("Event type "+eventType+" not supported.");var evt=document.createEvent(className);switch(className){case"MouseEvents":var clientX=params.x||params.clientX||0,clientY=params.y||params.clientY||0;evt.initMouseEvent(eventType,params.bubbles||!1,params.cancelable||!0,window,params.clickCount||1,0,0,clientX,clientY,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var init=evt.initKeyboardEvent||evt.initKeyEvent;common.defaults(params,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),init(eventType,params.bubbles||!1,params.cancelable,window,params.ctrlKey,params.altKey,params.shiftKey,params.metaKey,params.keyCode,params.charCode);break;default:evt.initEvent(eventType,params.bubbles||!1,params.cancelable||!0)}common.defaults(evt,aux),elem.dispatchEvent(evt)},bind:function(elem,event,func,bool){return bool=bool||!1,elem.addEventListener?elem.addEventListener(event,func,bool):elem.attachEvent&&elem.attachEvent("on"+event,func),dom},unbind:function(elem,event,func,bool){return bool=bool||!1,elem.removeEventListener?elem.removeEventListener(event,func,bool):elem.detachEvent&&elem.detachEvent("on"+event,func),dom},addClass:function(elem,className){if(void 0===elem.className)elem.className=className;else if(elem.className!==className){var classes=elem.className.split(/ +/);-1==classes.indexOf(className)&&(classes.push(className),elem.className=classes.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return dom},removeClass:function(elem,className){if(className)if(void 0===elem.className);else if(elem.className===className)elem.removeAttribute("class");else{var classes=elem.className.split(/ +/),index=classes.indexOf(className);-1!=index&&(classes.splice(index,1),elem.className=classes.join(" "))}else elem.className=void 0;return dom},hasClass:function(elem,className){return new RegExp("(?:^|\\s+)"+className+"(?:\\s+|$)").test(elem.className)||!1},getWidth:function(elem){var style=getComputedStyle(elem);return cssValueToPixels(style["border-left-width"])+cssValueToPixels(style["border-right-width"])+cssValueToPixels(style["padding-left"])+cssValueToPixels(style["padding-right"])+cssValueToPixels(style.width)},getHeight:function(elem){var style=getComputedStyle(elem);return cssValueToPixels(style["border-top-width"])+cssValueToPixels(style["border-bottom-width"])+cssValueToPixels(style["padding-top"])+cssValueToPixels(style["padding-bottom"])+cssValueToPixels(style.height)},getOffset:function(elem){var offset={left:0,top:0};if(elem.offsetParent)do{offset.left+=elem.offsetLeft,offset.top+=elem.offsetTop}while(elem=elem.offsetParent);return offset},isActive:function(elem){return elem===document.activeElement&&(elem.type||elem.href)}};return dom}(dat.utils.common),dat.controllers.OptionController=function(Controller,dom,common){var OptionController=function(object,property,options){OptionController.superclass.call(this,object,property);var _this=this;if(this.__select=document.createElement("select"),common.isArray(options)){var map={};common.each(options,function(element){map[element]=element}),options=map}common.each(options,function(value,key){var opt=document.createElement("option");opt.innerHTML=key,opt.setAttribute("value",value),_this.__select.appendChild(opt)}),this.updateDisplay(),dom.bind(this.__select,"change",function(){var desiredValue=this.options[this.selectedIndex].value;_this.setValue(desiredValue)}),this.domElement.appendChild(this.__select)};return OptionController.superclass=Controller,common.extend(OptionController.prototype,Controller.prototype,{setValue:function(v){var toReturn=OptionController.superclass.prototype.setValue.call(this,v);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),toReturn},updateDisplay:function(){return this.__select.value=this.getValue(),OptionController.superclass.prototype.updateDisplay.call(this)}}),OptionController}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.NumberController=function(Controller,common){function numDecimals(x){return x=x.toString(),x.indexOf(".")>-1?x.length-x.indexOf(".")-1:0}var NumberController=function(object,property,params){NumberController.superclass.call(this,object,property),params=params||{},this.__min=params.min,this.__max=params.max,this.__step=params.step,common.isUndefined(this.__step)?0==this.initialValue?this.__impliedStep=1:this.__impliedStep=Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__impliedStep=this.__step,this.__precision=numDecimals(this.__impliedStep)};return NumberController.superclass=Controller,common.extend(NumberController.prototype,Controller.prototype,{setValue:function(v){return void 0!==this.__min&&v<this.__min?v=this.__min:void 0!==this.__max&&v>this.__max&&(v=this.__max),void 0!==this.__step&&v%this.__step!=0&&(v=Math.round(v/this.__step)*this.__step),NumberController.superclass.prototype.setValue.call(this,v)},min:function(v){return this.__min=v,this},max:function(v){return this.__max=v,this},step:function(v){return this.__step=v,this}}),NumberController}(dat.controllers.Controller,dat.utils.common),dat.controllers.NumberControllerBox=function(NumberController,dom,common){function roundToDecimal(value,decimals){var tenTo=Math.pow(10,decimals);return Math.round(value*tenTo)/tenTo}var NumberControllerBox=function(object,property,params){function onChange(){var attempted=parseFloat(_this.__input.value);common.isNaN(attempted)||_this.setValue(attempted)}function onBlur(){onChange(),_this.__onFinishChange&&_this.__onFinishChange.call(_this,_this.getValue())}function onMouseDown(e){dom.bind(window,"mousemove",onMouseDrag),dom.bind(window,"mouseup",onMouseUp),prev_y=e.clientY}function onMouseDrag(e){var diff=prev_y-e.clientY;_this.setValue(_this.getValue()+diff*_this.__impliedStep),prev_y=e.clientY}function onMouseUp(){dom.unbind(window,"mousemove",onMouseDrag),dom.unbind(window,"mouseup",onMouseUp)}this.__truncationSuspended=!1,NumberControllerBox.superclass.call(this,object,property,params);var prev_y,_this=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),dom.bind(this.__input,"change",onChange),dom.bind(this.__input,"blur",onBlur),dom.bind(this.__input,"mousedown",onMouseDown),dom.bind(this.__input,"keydown",function(e){13===e.keyCode&&(_this.__truncationSuspended=!0,this.blur(),_this.__truncationSuspended=!1)}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return NumberControllerBox.superclass=NumberController,common.extend(NumberControllerBox.prototype,NumberController.prototype,{updateDisplay:function(){return this.__input.value=this.__truncationSuspended?this.getValue():roundToDecimal(this.getValue(),this.__precision),NumberControllerBox.superclass.prototype.updateDisplay.call(this)}}),NumberControllerBox}(dat.controllers.NumberController,dat.dom.dom,dat.utils.common),dat.controllers.NumberControllerSlider=function(NumberController,dom,css,common,styleSheet){function map(v,i1,i2,o1,o2){return o1+(v-i1)/(i2-i1)*(o2-o1)}var NumberControllerSlider=function(object,property,min,max,step){function onMouseDown(e){dom.bind(window,"mousemove",onMouseDrag),dom.bind(window,"mouseup",onMouseUp),onMouseDrag(e)}function onMouseDrag(e){e.preventDefault();var offset=dom.getOffset(_this.__background),width=dom.getWidth(_this.__background);return _this.setValue(map(e.clientX,offset.left,offset.left+width,_this.__min,_this.__max)),!1}function onMouseUp(){dom.unbind(window,"mousemove",onMouseDrag),dom.unbind(window,"mouseup",onMouseUp),_this.__onFinishChange&&_this.__onFinishChange.call(_this,_this.getValue())}NumberControllerSlider.superclass.call(this,object,property,{min:min,max:max,step:step});var _this=this;this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),dom.bind(this.__background,"mousedown",onMouseDown),dom.addClass(this.__background,"slider"),dom.addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)};return NumberControllerSlider.superclass=NumberController,NumberControllerSlider.useDefaultStyles=function(){css.inject(".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}")},common.extend(NumberControllerSlider.prototype,NumberController.prototype,{updateDisplay:function(){var pct=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*pct+"%",NumberControllerSlider.superclass.prototype.updateDisplay.call(this)}}),NumberControllerSlider}(dat.controllers.NumberController,dat.dom.dom,dat.utils.css,dat.utils.common),dat.controllers.FunctionController=function(Controller,dom,common){var FunctionController=function(object,property,text){FunctionController.superclass.call(this,object,property);var _this=this;this.__button=document.createElement("div"),this.__button.innerHTML=void 0===text?"Fire":text,dom.bind(this.__button,"click",function(e){return e.preventDefault(),_this.fire(),!1}),dom.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)};return FunctionController.superclass=Controller,common.extend(FunctionController.prototype,Controller.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),FunctionController}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.BooleanController=function(Controller,dom,common){var BooleanController=function(object,property){function onChange(){_this.setValue(!_this.__prev)}BooleanController.superclass.call(this,object,property);var _this=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),dom.bind(this.__checkbox,"change",onChange,!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()};return BooleanController.superclass=Controller,common.extend(BooleanController.prototype,Controller.prototype,{setValue:function(v){var toReturn=BooleanController.superclass.prototype.setValue.call(this,v);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),toReturn},updateDisplay:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,BooleanController.superclass.prototype.updateDisplay.call(this)}}),BooleanController}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.color.toString=function(common){return function(color){if(1==color.a||common.isUndefined(color.a)){for(var s=color.hex.toString(16);s.length<6;)s="0"+s;return"#"+s}return"rgba("+Math.round(color.r)+","+Math.round(color.g)+","+Math.round(color.b)+","+color.a+")"}}(dat.utils.common),dat.color.interpret=function(toString,common){var result,toReturn,interpret=function(){toReturn=!1;var original=arguments.length>1?common.toArray(arguments):arguments[0];return common.each(INTERPRETATIONS,function(family){if(family.litmus(original))return common.each(family.conversions,function(conversion,conversionName){if(result=conversion.read(original),!1===toReturn&&!1!==result)return toReturn=result,result.conversionName=conversionName,result.conversion=conversion,common.BREAK}),common.BREAK}),toReturn},INTERPRETATIONS=[{litmus:common.isString,conversions:{THREE_CHAR_HEX:{read:function(original){var test=original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==test&&{space:"HEX",hex:parseInt("0x"+test[1].toString()+test[1].toString()+test[2].toString()+test[2].toString()+test[3].toString()+test[3].toString())}},write:toString},SIX_CHAR_HEX:{read:function(original){var test=original.match(/^#([A-F0-9]{6})$/i);return null!==test&&{space:"HEX",hex:parseInt("0x"+test[1].toString())}},write:toString},CSS_RGB:{read:function(original){var test=original.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==test&&{space:"RGB",r:parseFloat(test[1]),g:parseFloat(test[2]),b:parseFloat(test[3])}},write:toString},CSS_RGBA:{read:function(original){var test=original.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null!==test&&{space:"RGB",r:parseFloat(test[1]),g:parseFloat(test[2]),b:parseFloat(test[3]),a:parseFloat(test[4])}},write:toString}}},{litmus:common.isNumber,conversions:{HEX:{read:function(original){return{space:"HEX",hex:original,conversionName:"HEX"}},write:function(color){return color.hex}}}},{litmus:common.isArray,conversions:{RGB_ARRAY:{read:function(original){return 3==original.length&&{space:"RGB",r:original[0],g:original[1],b:original[2]}},write:function(color){return[color.r,color.g,color.b]}},RGBA_ARRAY:{read:function(original){return 4==original.length&&{space:"RGB",r:original[0],g:original[1],b:original[2],a:original[3]}},write:function(color){return[color.r,color.g,color.b,color.a]}}}},{litmus:common.isObject,conversions:{RGBA_OBJ:{read:function(original){return!!(common.isNumber(original.r)&&common.isNumber(original.g)&&common.isNumber(original.b)&&common.isNumber(original.a))&&{space:"RGB",r:original.r,g:original.g,b:original.b,a:original.a}},write:function(color){return{r:color.r,g:color.g,b:color.b,a:color.a}}},RGB_OBJ:{read:function(original){return!!(common.isNumber(original.r)&&common.isNumber(original.g)&&common.isNumber(original.b))&&{space:"RGB",r:original.r,g:original.g,b:original.b}},write:function(color){return{r:color.r,g:color.g,b:color.b}}},HSVA_OBJ:{read:function(original){return!!(common.isNumber(original.h)&&common.isNumber(original.s)&&common.isNumber(original.v)&&common.isNumber(original.a))&&{space:"HSV",h:original.h,s:original.s,v:original.v,a:original.a}},write:function(color){return{h:color.h,s:color.s,v:color.v,a:color.a}}},HSV_OBJ:{read:function(original){return!!(common.isNumber(original.h)&&common.isNumber(original.s)&&common.isNumber(original.v))&&{space:"HSV",h:original.h,s:original.s,v:original.v}},write:function(color){return{h:color.h,s:color.s,v:color.v}}}}}];return interpret}(dat.color.toString,dat.utils.common),dat.GUI=dat.gui.GUI=function(css,saveDialogueContents,styleSheet,controllerFactory,Controller,BooleanController,FunctionController,NumberControllerBox,NumberControllerSlider,OptionController,ColorController,requestAnimationFrame,CenteredDiv,dom,common){function add(gui,object,property,params){if(void 0===object[property])throw new Error("Object "+object+' has no property "'+property+'"');var controller;if(params.color)controller=new ColorController(object,property);else{var factoryArgs=[object,property].concat(params.factoryArgs);controller=controllerFactory.apply(gui,factoryArgs)}params.before instanceof Controller&&(params.before=params.before.__li),recallSavedValue(gui,controller),dom.addClass(controller.domElement,"c");var name=document.createElement("span");dom.addClass(name,"property-name"),name.innerHTML=controller.property;var container=document.createElement("div");container.appendChild(name),container.appendChild(controller.domElement);var li=addRow(gui,container,params.before);return dom.addClass(li,GUI.CLASS_CONTROLLER_ROW),dom.addClass(li,typeof controller.getValue()),augmentController(gui,li,controller),gui.__controllers.push(controller),controller}function addRow(gui,dom,liBefore){var li=document.createElement("li");return dom&&li.appendChild(dom),liBefore?gui.__ul.insertBefore(li,params.before):gui.__ul.appendChild(li),gui.onResize(),li}function augmentController(gui,li,controller){if(controller.__li=li,controller.__gui=gui,common.extend(controller,{options:function(options){return arguments.length>1?(controller.remove(),add(gui,controller.object,controller.property,{before:controller.__li.nextElementSibling,factoryArgs:[common.toArray(arguments)]})):common.isArray(options)||common.isObject(options)?(controller.remove(),add(gui,controller.object,controller.property,{before:controller.__li.nextElementSibling,factoryArgs:[options]})):void 0},name:function(v){return controller.__li.firstElementChild.firstElementChild.innerHTML=v,controller},listen:function(){return controller.__gui.listen(controller),controller},remove:function(){return controller.__gui.remove(controller),controller}}),controller instanceof NumberControllerSlider){var box=new NumberControllerBox(controller.object,controller.property,{min:controller.__min,max:controller.__max,step:controller.__step});common.each(["updateDisplay","onChange","onFinishChange"],function(method){var pc=controller[method],pb=box[method];controller[method]=box[method]=function(){var args=Array.prototype.slice.call(arguments);return pc.apply(controller,args),pb.apply(box,args)}}),dom.addClass(li,"has-slider"),controller.domElement.insertBefore(box.domElement,controller.domElement.firstElementChild)}else if(controller instanceof NumberControllerBox){var r=function(returned){return common.isNumber(controller.__min)&&common.isNumber(controller.__max)?(controller.remove(),add(gui,controller.object,controller.property,{before:controller.__li.nextElementSibling,factoryArgs:[controller.__min,controller.__max,controller.__step]})):returned};controller.min=common.compose(r,controller.min),controller.max=common.compose(r,controller.max)}else controller instanceof BooleanController?(dom.bind(li,"click",function(){dom.fakeEvent(controller.__checkbox,"click")}),dom.bind(controller.__checkbox,"click",function(e){e.stopPropagation()})):controller instanceof FunctionController?(dom.bind(li,"click",function(){dom.fakeEvent(controller.__button,"click")}),dom.bind(li,"mouseover",function(){dom.addClass(controller.__button,"hover")}),dom.bind(li,"mouseout",function(){dom.removeClass(controller.__button,"hover")})):controller instanceof ColorController&&(dom.addClass(li,"color"),controller.updateDisplay=common.compose(function(r){return li.style.borderLeftColor=controller.__color.toString(),r},controller.updateDisplay),controller.updateDisplay());controller.setValue=common.compose(function(r){return gui.getRoot().__preset_select&&controller.isModified()&&markPresetModified(gui.getRoot(),!0),r},controller.setValue)}function recallSavedValue(gui,controller){var root=gui.getRoot(),matched_index=root.__rememberedObjects.indexOf(controller.object);if(-1!=matched_index){var controller_map=root.__rememberedObjectIndecesToControllers[matched_index];if(void 0===controller_map&&(controller_map={},root.__rememberedObjectIndecesToControllers[matched_index]=controller_map),controller_map[controller.property]=controller,root.load&&root.load.remembered){var preset,preset_map=root.load.remembered;if(preset_map[gui.preset])preset=preset_map[gui.preset];else{if(!preset_map[DEFAULT_DEFAULT_PRESET_NAME])return;preset=preset_map[DEFAULT_DEFAULT_PRESET_NAME]}if(preset[matched_index]&&void 0!==preset[matched_index][controller.property]){var value=preset[matched_index][controller.property];controller.initialValue=value,controller.setValue(value)}}}}function getLocalStorageHash(gui,key){return document.location.href+"."+key}function addSaveMenu(gui){function showHideExplain(){explain.style.display=gui.useLocalStorage?"block":"none"}var div=gui.__save_row=document.createElement("li");dom.addClass(gui.domElement,"has-save"),gui.__ul.insertBefore(div,gui.__ul.firstChild),dom.addClass(div,"save-row");var gears=document.createElement("span");gears.innerHTML="&nbsp;",dom.addClass(gears,"button gears");var button=document.createElement("span");button.innerHTML="Save",dom.addClass(button,"button"),dom.addClass(button,"save");var button2=document.createElement("span");button2.innerHTML="New",dom.addClass(button2,"button"),dom.addClass(button2,"save-as");var button3=document.createElement("span");button3.innerHTML="Revert",dom.addClass(button3,"button"),dom.addClass(button3,"revert");var select=gui.__preset_select=document.createElement("select");if(gui.load&&gui.load.remembered?common.each(gui.load.remembered,function(value,key){addPresetOption(gui,key,key==gui.preset)}):addPresetOption(gui,DEFAULT_DEFAULT_PRESET_NAME,!1),dom.bind(select,"change",function(){for(var index=0;index<gui.__preset_select.length;index++)gui.__preset_select[index].innerHTML=gui.__preset_select[index].value;gui.preset=this.value}),div.appendChild(select),div.appendChild(gears),div.appendChild(button),div.appendChild(button2),div.appendChild(button3),SUPPORTS_LOCAL_STORAGE){var saveLocally=document.getElementById("dg-save-locally"),explain=document.getElementById("dg-local-explain");saveLocally.style.display="block";var localStorageCheckBox=document.getElementById("dg-local-storage");"true"===localStorage.getItem(getLocalStorageHash(gui,"isLocal"))&&localStorageCheckBox.setAttribute("checked","checked"),showHideExplain(),dom.bind(localStorageCheckBox,"change",function(){gui.useLocalStorage=!gui.useLocalStorage,showHideExplain()})}var newConstructorTextArea=document.getElementById("dg-new-constructor");dom.bind(newConstructorTextArea,"keydown",function(e){!e.metaKey||67!==e.which&&67!=e.keyCode||SAVE_DIALOGUE.hide()}),dom.bind(gears,"click",function(){newConstructorTextArea.innerHTML=JSON.stringify(gui.getSaveObject(),void 0,2),SAVE_DIALOGUE.show(),newConstructorTextArea.focus(),newConstructorTextArea.select()}),dom.bind(button,"click",function(){gui.save()}),dom.bind(button2,"click",function(){var presetName=prompt("Enter a new preset name.");presetName&&gui.saveAs(presetName)}),dom.bind(button3,"click",function(){gui.revert()})}function addResizeHandle(gui){function dragStart(e){return e.preventDefault(),pmouseX=e.clientX,dom.addClass(gui.__closeButton,GUI.CLASS_DRAG),dom.bind(window,"mousemove",drag),dom.bind(window,"mouseup",dragStop),!1}function drag(e){return e.preventDefault(),gui.width+=pmouseX-e.clientX,gui.onResize(),pmouseX=e.clientX,!1}function dragStop(){dom.removeClass(gui.__closeButton,GUI.CLASS_DRAG),dom.unbind(window,"mousemove",drag),dom.unbind(window,"mouseup",dragStop)}gui.__resize_handle=document.createElement("div"),common.extend(gui.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});var pmouseX;dom.bind(gui.__resize_handle,"mousedown",dragStart),dom.bind(gui.__closeButton,"mousedown",dragStart),gui.domElement.insertBefore(gui.__resize_handle,gui.domElement.firstElementChild)}function setWidth(gui,w){gui.domElement.style.width=w+"px",gui.__save_row&&gui.autoPlace&&(gui.__save_row.style.width=w+"px"),gui.__closeButton&&(gui.__closeButton.style.width=w+"px")}function getCurrentPreset(gui,useInitialValues){var toReturn={};return common.each(gui.__rememberedObjects,function(val,index){var saved_values={},controller_map=gui.__rememberedObjectIndecesToControllers[index];common.each(controller_map,function(controller,property){saved_values[property]=useInitialValues?controller.initialValue:controller.getValue()}),toReturn[index]=saved_values}),toReturn}function addPresetOption(gui,name,setSelected){var opt=document.createElement("option");opt.innerHTML=name,opt.value=name,gui.__preset_select.appendChild(opt),setSelected&&(gui.__preset_select.selectedIndex=gui.__preset_select.length-1)}function setPresetSelectIndex(gui){for(var index=0;index<gui.__preset_select.length;index++)gui.__preset_select[index].value==gui.preset&&(gui.__preset_select.selectedIndex=index)}function markPresetModified(gui,modified){var opt=gui.__preset_select[gui.__preset_select.selectedIndex];opt.innerHTML=modified?opt.value+"*":opt.value}function updateDisplays(controllerArray){0!=controllerArray.length&&requestAnimationFrame(function(){updateDisplays(controllerArray)}),common.each(controllerArray,function(c){c.updateDisplay()})}css.inject(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");var SAVE_DIALOGUE,auto_place_container,DEFAULT_DEFAULT_PRESET_NAME="Default",SUPPORTS_LOCAL_STORAGE=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}(),auto_place_virgin=!0,hide=!1,hideable_guis=[],GUI=function(params){function saveToLocalStorage(){localStorage.setItem(getLocalStorageHash(_this,"gui"),JSON.stringify(_this.getSaveObject()))}var _this=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),dom.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],params=params||{},params=common.defaults(params,{autoPlace:!0,width:GUI.DEFAULT_WIDTH}),params=common.defaults(params,{resizable:params.autoPlace,hideable:params.autoPlace}),common.isUndefined(params.load)?params.load={preset:DEFAULT_DEFAULT_PRESET_NAME}:params.preset&&(params.load.preset=params.preset),common.isUndefined(params.parent)&&params.hideable&&hideable_guis.push(this),params.resizable=common.isUndefined(params.parent)&&params.resizable,params.autoPlace&&common.isUndefined(params.scrollable)&&(params.scrollable=!0);var use_local_storage=SUPPORTS_LOCAL_STORAGE&&"true"===localStorage.getItem(getLocalStorageHash(this,"isLocal"));if(Object.defineProperties(this,{parent:{get:function(){return params.parent}},scrollable:{get:function(){return params.scrollable}},autoPlace:{get:function(){return params.autoPlace}},preset:{get:function(){return _this.parent?_this.getRoot().preset:params.load.preset},set:function(v){_this.parent?_this.getRoot().preset=v:params.load.preset=v,setPresetSelectIndex(this),_this.revert()}},width:{get:function(){return params.width},set:function(v){params.width=v,setWidth(_this,v)}},name:{get:function(){return params.name},set:function(v){params.name=v,title_row_name&&(title_row_name.innerHTML=params.name)}},closed:{get:function(){return params.closed},set:function(v){params.closed=v,params.closed?dom.addClass(_this.__ul,GUI.CLASS_CLOSED):dom.removeClass(_this.__ul,GUI.CLASS_CLOSED),this.onResize(),_this.__closeButton&&(_this.__closeButton.innerHTML=v?GUI.TEXT_OPEN:GUI.TEXT_CLOSED)}},load:{get:function(){return params.load}},useLocalStorage:{get:function(){return use_local_storage},set:function(bool){SUPPORTS_LOCAL_STORAGE&&(use_local_storage=bool,bool?dom.bind(window,"unload",saveToLocalStorage):dom.unbind(window,"unload",saveToLocalStorage),localStorage.setItem(getLocalStorageHash(_this,"isLocal"),bool))}}}),common.isUndefined(params.parent)){if(params.closed=!1,dom.addClass(this.domElement,GUI.CLASS_MAIN),dom.makeSelectable(this.domElement,!1),SUPPORTS_LOCAL_STORAGE&&use_local_storage){_this.useLocalStorage=!0;var saved_gui=localStorage.getItem(getLocalStorageHash(this,"gui"));saved_gui&&(params.load=JSON.parse(saved_gui))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=GUI.TEXT_CLOSED,dom.addClass(this.__closeButton,GUI.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),dom.bind(this.__closeButton,"click",function(){_this.closed=!_this.closed})}else{void 0===params.closed&&(params.closed=!0);var title_row_name=document.createTextNode(params.name);dom.addClass(title_row_name,"controller-name");var title_row=addRow(_this,title_row_name),on_click_title=function(e){return e.preventDefault(),_this.closed=!_this.closed,!1};dom.addClass(this.__ul,GUI.CLASS_CLOSED),dom.addClass(title_row,"title"),dom.bind(title_row,"click",on_click_title),params.closed||(this.closed=!1)}params.autoPlace&&(common.isUndefined(params.parent)&&(auto_place_virgin&&(auto_place_container=document.createElement("div"),dom.addClass(auto_place_container,"dg"),dom.addClass(auto_place_container,GUI.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(auto_place_container),auto_place_virgin=!1),auto_place_container.appendChild(this.domElement),dom.addClass(this.domElement,GUI.CLASS_AUTO_PLACE)),this.parent||setWidth(_this,params.width)),dom.bind(window,"resize",function(){_this.onResize()}),dom.bind(this.__ul,"webkitTransitionEnd",function(){_this.onResize()}),dom.bind(this.__ul,"transitionend",function(){_this.onResize()}),dom.bind(this.__ul,"oTransitionEnd",function(){_this.onResize()}),this.onResize(),params.resizable&&addResizeHandle(this);_this.getRoot();params.parent||function(){var root=_this.getRoot();root.width+=1,common.defer(function(){root.width-=1})}()};return GUI.toggleHide=function(){hide=!hide,common.each(hideable_guis,function(gui){gui.domElement.style.zIndex=hide?-999:999,gui.domElement.style.opacity=hide?0:1})},GUI.CLASS_AUTO_PLACE="a",GUI.CLASS_AUTO_PLACE_CONTAINER="ac",GUI.CLASS_MAIN="main",GUI.CLASS_CONTROLLER_ROW="cr",GUI.CLASS_TOO_TALL="taller-than-window",GUI.CLASS_CLOSED="closed",GUI.CLASS_CLOSE_BUTTON="close-button",GUI.CLASS_DRAG="drag",GUI.DEFAULT_WIDTH=245,GUI.TEXT_CLOSED="Close Controls",GUI.TEXT_OPEN="Open Controls",dom.bind(window,"keydown",function(e){"text"===document.activeElement.type||72!==e.which&&72!=e.keyCode||GUI.toggleHide()},!1),common.extend(GUI.prototype,{add:function(object,property){return add(this,object,property,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(object,property){return add(this,object,property,{color:!0})},remove:function(controller){this.__ul.removeChild(controller.__li),this.__controllers.slice(this.__controllers.indexOf(controller),1);var _this=this;common.defer(function(){_this.onResize()})},destroy:function(){this.autoPlace&&auto_place_container.removeChild(this.domElement)},addFolder:function(name){if(void 0!==this.__folders[name])throw new Error('You already have a folder in this GUI by the name "'+name+'"');var new_gui_params={name:name,parent:this};new_gui_params.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[name]&&(new_gui_params.closed=this.load.folders[name].closed,new_gui_params.load=this.load.folders[name]);var gui=new GUI(new_gui_params);this.__folders[name]=gui;var li=addRow(this,gui.domElement);return dom.addClass(li,"folder"),gui},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var root=this.getRoot();if(root.scrollable){var top=dom.getOffset(root.__ul).top,h=0;common.each(root.__ul.childNodes,function(node){root.autoPlace&&node===root.__save_row||(h+=dom.getHeight(node))}),window.innerHeight-top-20<h?(dom.addClass(root.domElement,GUI.CLASS_TOO_TALL),root.__ul.style.height=window.innerHeight-top-20+"px"):(dom.removeClass(root.domElement,GUI.CLASS_TOO_TALL),root.__ul.style.height="auto")}root.__resize_handle&&common.defer(function(){root.__resize_handle.style.height=root.__ul.offsetHeight+"px"}),root.__closeButton&&(root.__closeButton.style.width=root.width+"px")},remember:function(){if(common.isUndefined(SAVE_DIALOGUE)&&(SAVE_DIALOGUE=new CenteredDiv,SAVE_DIALOGUE.domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>'),this.parent)throw new Error("You can only call remember on a top level GUI.");var _this=this;common.each(Array.prototype.slice.call(arguments),function(object){0==_this.__rememberedObjects.length&&addSaveMenu(_this),-1==_this.__rememberedObjects.indexOf(object)&&_this.__rememberedObjects.push(object)}),this.autoPlace&&setWidth(this,this.width)},getRoot:function(){for(var gui=this;gui.parent;)gui=gui.parent;return gui},getSaveObject:function(){var toReturn=this.load;return toReturn.closed=this.closed,this.__rememberedObjects.length>0&&(toReturn.preset=this.preset,toReturn.remembered||(toReturn.remembered={}),toReturn.remembered[this.preset]=getCurrentPreset(this)),toReturn.folders={},common.each(this.__folders,function(element,key){toReturn.folders[key]=element.getSaveObject()}),toReturn},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=getCurrentPreset(this),markPresetModified(this,!1)},saveAs:function(presetName){this.load.remembered||(this.load.remembered={},this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME]=getCurrentPreset(this,!0)),this.load.remembered[presetName]=getCurrentPreset(this),this.preset=presetName,addPresetOption(this,presetName,!0)},revert:function(gui){common.each(this.__controllers,function(controller){this.getRoot().load.remembered?recallSavedValue(gui||this.getRoot(),controller):controller.setValue(controller.initialValue)},this),common.each(this.__folders,function(folder){folder.revert(folder)}),gui||markPresetModified(this.getRoot(),!1)},listen:function(controller){var init=0==this.__listening.length;this.__listening.push(controller),init&&updateDisplays(this.__listening)}}),GUI}(dat.utils.css,0,0,dat.controllers.factory=function(OptionController,NumberControllerBox,NumberControllerSlider,StringController,FunctionController,BooleanController,common){return function(object,property){var initialValue=object[property];return common.isArray(arguments[2])||common.isObject(arguments[2])?new OptionController(object,property,arguments[2]):common.isNumber(initialValue)?common.isNumber(arguments[2])&&common.isNumber(arguments[3])?new NumberControllerSlider(object,property,arguments[2],arguments[3]):new NumberControllerBox(object,property,{min:arguments[2],max:arguments[3]}):common.isString(initialValue)?new StringController(object,property):common.isFunction(initialValue)?new FunctionController(object,property,""):common.isBoolean(initialValue)?new BooleanController(object,property):void 0}}(dat.controllers.OptionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.StringController=function(Controller,dom,common){var StringController=function(object,property){function onChange(){_this.setValue(_this.__input.value)}function onBlur(){_this.__onFinishChange&&_this.__onFinishChange.call(_this,_this.getValue())}StringController.superclass.call(this,object,property);var _this=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),dom.bind(this.__input,"keyup",onChange),dom.bind(this.__input,"change",onChange),dom.bind(this.__input,"blur",onBlur),dom.bind(this.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return StringController.superclass=Controller,common.extend(StringController.prototype,Controller.prototype,{updateDisplay:function(){return dom.isActive(this.__input)||(this.__input.value=this.getValue()),StringController.superclass.prototype.updateDisplay.call(this)}}),StringController}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.FunctionController,dat.controllers.BooleanController,dat.utils.common),dat.controllers.Controller,dat.controllers.BooleanController,dat.controllers.FunctionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.OptionController,dat.controllers.ColorController=function(Controller,dom,Color,interpret,common){function linearGradient(elem,x,a,b){elem.style.background="",common.each(vendors,function(vendor){elem.style.cssText+="background: "+vendor+"linear-gradient("+x+", "+a+" 0%, "+b+" 100%); "})}function hueGradient(elem){elem.style.background="",elem.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",elem.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",elem.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",elem.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",elem.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var ColorController=function(object,property){function fieldDown(e){setSV(e),dom.bind(window,"mousemove",setSV),dom.bind(window,"mouseup",unbindSV)}function unbindSV(){dom.unbind(window,"mousemove",setSV),dom.unbind(window,"mouseup",unbindSV)}function onBlur(){var i=interpret(this.value);!1!==i?(_this.__color.__state=i,_this.setValue(_this.__color.toOriginal())):this.value=_this.__color.toString()}function unbindH(){dom.unbind(window,"mousemove",setH),dom.unbind(window,"mouseup",unbindH)}function setSV(e){e.preventDefault();var w=dom.getWidth(_this.__saturation_field),o=dom.getOffset(_this.__saturation_field),s=(e.clientX-o.left+document.body.scrollLeft)/w,v=1-(e.clientY-o.top+document.body.scrollTop)/w;return v>1?v=1:v<0&&(v=0),s>1?s=1:s<0&&(s=0),_this.__color.v=v,_this.__color.s=s,_this.setValue(_this.__color.toOriginal()),!1}function setH(e){e.preventDefault();var s=dom.getHeight(_this.__hue_field),o=dom.getOffset(_this.__hue_field),h=1-(e.clientY-o.top+document.body.scrollTop)/s;return h>1?h=1:h<0&&(h=0),_this.__color.h=360*h,_this.setValue(_this.__color.toOriginal()),!1}ColorController.superclass.call(this,object,property),this.__color=new Color(this.getValue()),this.__temp=new Color(0);var _this=this;this.domElement=document.createElement("div"),dom.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",dom.bind(this.__input,"keydown",function(e){13===e.keyCode&&onBlur.call(this)}),dom.bind(this.__input,"blur",onBlur),dom.bind(this.__selector,"mousedown",function(e){dom.addClass(this,"drag").bind(window,"mouseup",function(e){dom.removeClass(_this.__selector,"drag")})});var value_field=document.createElement("div");common.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),common.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),common.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),common.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),common.extend(value_field.style,{width:"100%",height:"100%",background:"none"}),linearGradient(value_field,"top","rgba(0,0,0,0)","#000"),common.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),hueGradient(this.__hue_field),common.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),dom.bind(this.__saturation_field,"mousedown",fieldDown),dom.bind(this.__field_knob,"mousedown",fieldDown),dom.bind(this.__hue_field,"mousedown",function(e){setH(e),dom.bind(window,"mousemove",setH),dom.bind(window,"mouseup",unbindH)}),this.__saturation_field.appendChild(value_field),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()};ColorController.superclass=Controller,common.extend(ColorController.prototype,Controller.prototype,{updateDisplay:function(){var i=interpret(this.getValue());if(!1!==i){var mismatch=!1;common.each(Color.COMPONENTS,function(component){if(!common.isUndefined(i[component])&&!common.isUndefined(this.__color.__state[component])&&i[component]!==this.__color.__state[component])return mismatch=!0,{}},this),mismatch&&common.extend(this.__color.__state,i)}common.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var flip=this.__color.v<.5||this.__color.s>.5?255:0,_flip=255-flip;common.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+flip+","+flip+","+flip+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,linearGradient(this.__saturation_field,"left","#fff",this.__temp.toString()),common.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+flip+","+flip+","+flip+")",textShadow:this.__input_textShadow+"rgba("+_flip+","+_flip+","+_flip+",.7)"})}});var vendors=["-moz-","-o-","-webkit-","-ms-",""];return ColorController}(dat.controllers.Controller,dat.dom.dom,dat.color.Color=function(interpret,math,toString,common){function defineRGBComponent(target,component,componentHexIndex){Object.defineProperty(target,component,{get:function(){return"RGB"===this.__state.space?this.__state[component]:(recalculateRGB(this,component,componentHexIndex),this.__state[component])},set:function(v){"RGB"!==this.__state.space&&(recalculateRGB(this,component,componentHexIndex),this.__state.space="RGB"),this.__state[component]=v}})}function defineHSVComponent(target,component){Object.defineProperty(target,component,{get:function(){return"HSV"===this.__state.space?this.__state[component]:(recalculateHSV(this),this.__state[component])},set:function(v){"HSV"!==this.__state.space&&(recalculateHSV(this),this.__state.space="HSV"),this.__state[component]=v}})}function recalculateRGB(color,component,componentHexIndex){if("HEX"===color.__state.space)color.__state[component]=math.component_from_hex(color.__state.hex,componentHexIndex);else{if("HSV"!==color.__state.space)throw"Corrupted color state";common.extend(color.__state,math.hsv_to_rgb(color.__state.h,color.__state.s,color.__state.v))}}function recalculateHSV(color){var result=math.rgb_to_hsv(color.r,color.g,color.b);common.extend(color.__state,{s:result.s,v:result.v}),common.isNaN(result.h)?common.isUndefined(color.__state.h)&&(color.__state.h=0):color.__state.h=result.h}var Color=function(){if(this.__state=interpret.apply(this,arguments),!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return Color.COMPONENTS=["r","g","b","h","s","v","hex","a"],common.extend(Color.prototype,{toString:function(){return toString(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),defineRGBComponent(Color.prototype,"r",2),defineRGBComponent(Color.prototype,"g",1),defineRGBComponent(Color.prototype,"b",0),defineHSVComponent(Color.prototype,"h"),defineHSVComponent(Color.prototype,"s"),defineHSVComponent(Color.prototype,"v"),Object.defineProperty(Color.prototype,"a",{get:function(){return this.__state.a},set:function(v){this.__state.a=v}}),Object.defineProperty(Color.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=math.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(v){this.__state.space="HEX",this.__state.hex=v}}),Color}(dat.color.interpret,dat.color.math=function(){var tmpComponent;return{hsv_to_rgb:function(h,s,v){var hi=Math.floor(h/60)%6,f=h/60-Math.floor(h/60),p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),c=[[v,t,p],[q,v,p],[p,v,t],[p,q,v],[t,p,v],[v,p,q]][hi];return{r:255*c[0],g:255*c[1],b:255*c[2]}},rgb_to_hsv:function(r,g,b){var h,s,min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min;return 0==max?{h:NaN,s:0,v:0}:(s=delta/max,h=r==max?(g-b)/delta:g==max?2+(b-r)/delta:4+(r-g)/delta,h/=6,h<0&&(h+=1),{h:360*h,s:s,v:max/255})},rgb_to_hex:function(r,g,b){var hex=this.hex_with_component(0,2,r);return hex=this.hex_with_component(hex,1,g),hex=this.hex_with_component(hex,0,b)},component_from_hex:function(hex,componentIndex){return hex>>8*componentIndex&255},hex_with_component:function(hex,componentIndex,value){return value<<(tmpComponent=8*componentIndex)|hex&~(255<<tmpComponent)}}}(),dat.color.toString,dat.utils.common),dat.color.interpret,dat.utils.common),dat.utils.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback,element){window.setTimeout(callback,1e3/60)}}(),dat.dom.CenteredDiv=function(dom,common){var CenteredDiv=function(){this.backgroundElement=document.createElement("div"),common.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),dom.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),common.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var _this=this;dom.bind(this.backgroundElement,"click",function(){_this.hide()})};return CenteredDiv.prototype.show=function(){var _this=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),common.defer(function(){_this.backgroundElement.style.opacity=1,_this.domElement.style.opacity=1,_this.domElement.style.webkitTransform="scale(1)"})},CenteredDiv.prototype.hide=function(){var _this=this,hide=function(){_this.domElement.style.display="none",_this.backgroundElement.style.display="none",dom.unbind(_this.domElement,"webkitTransitionEnd",hide),dom.unbind(_this.domElement,"transitionend",hide),dom.unbind(_this.domElement,"oTransitionEnd",hide)};dom.bind(this.domElement,"webkitTransitionEnd",hide),dom.bind(this.domElement,"transitionend",hide),dom.bind(this.domElement,"oTransitionEnd",hide),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},CenteredDiv.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-dom.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-dom.getHeight(this.domElement)/2+"px"},CenteredDiv}(dat.dom.dom,dat.utils.common),dat.dom.dom,dat.utils.common)},function(module,exports){var dat=module.exports=dat||{};dat.color=dat.color||{},dat.utils=dat.utils||{},dat.utils.common=function(){var ARR_EACH=Array.prototype.forEach,ARR_SLICE=Array.prototype.slice;return{BREAK:{},extend:function(target){return this.each(ARR_SLICE.call(arguments,1),function(obj){for(var key in obj)this.isUndefined(obj[key])||(target[key]=obj[key])},this),target},defaults:function(target){return this.each(ARR_SLICE.call(arguments,1),function(obj){for(var key in obj)this.isUndefined(target[key])&&(target[key]=obj[key])},this),target},compose:function(){var toCall=ARR_SLICE.call(arguments);return function(){for(var args=ARR_SLICE.call(arguments),i=toCall.length-1;i>=0;i--)args=[toCall[i].apply(this,args)];return args[0]}},each:function(obj,itr,scope){if(ARR_EACH&&obj.forEach===ARR_EACH)obj.forEach(itr,scope);else if(obj.length===obj.length+0){for(var key=0,l=obj.length;key<l;key++)if(key in obj&&itr.call(scope,obj[key],key)===this.BREAK)return}else for(var key in obj)if(itr.call(scope,obj[key],key)===this.BREAK)return},defer:function(fnc){setTimeout(fnc,0)},toArray:function(obj){return obj.toArray?obj.toArray():ARR_SLICE.call(obj)},isUndefined:function(obj){return void 0===obj},isNull:function(obj){return null===obj},isNaN:function(obj){return obj!==obj},isArray:Array.isArray||function(obj){return obj.constructor===Array},isObject:function(obj){return obj===Object(obj)},isNumber:function(obj){return obj===obj+0},isString:function(obj){return obj===obj+""},isBoolean:function(obj){return!1===obj||!0===obj},isFunction:function(obj){return"[object Function]"===Object.prototype.toString.call(obj)}}}(),dat.color.toString=function(common){return function(color){if(1==color.a||common.isUndefined(color.a)){for(var s=color.hex.toString(16);s.length<6;)s="0"+s;return"#"+s}return"rgba("+Math.round(color.r)+","+Math.round(color.g)+","+Math.round(color.b)+","+color.a+")"}}(dat.utils.common),dat.Color=dat.color.Color=function(interpret,math,toString,common){function defineRGBComponent(target,component,componentHexIndex){Object.defineProperty(target,component,{get:function(){return"RGB"===this.__state.space?this.__state[component]:(recalculateRGB(this,component,componentHexIndex),this.__state[component])},set:function(v){"RGB"!==this.__state.space&&(recalculateRGB(this,component,componentHexIndex),this.__state.space="RGB"),this.__state[component]=v}})}function defineHSVComponent(target,component){Object.defineProperty(target,component,{get:function(){return"HSV"===this.__state.space?this.__state[component]:(recalculateHSV(this),this.__state[component])},set:function(v){"HSV"!==this.__state.space&&(recalculateHSV(this),this.__state.space="HSV"),this.__state[component]=v}})}function recalculateRGB(color,component,componentHexIndex){if("HEX"===color.__state.space)color.__state[component]=math.component_from_hex(color.__state.hex,componentHexIndex);else{if("HSV"!==color.__state.space)throw"Corrupted color state";common.extend(color.__state,math.hsv_to_rgb(color.__state.h,color.__state.s,color.__state.v))}}function recalculateHSV(color){var result=math.rgb_to_hsv(color.r,color.g,color.b);common.extend(color.__state,{s:result.s,v:result.v}),common.isNaN(result.h)?common.isUndefined(color.__state.h)&&(color.__state.h=0):color.__state.h=result.h}var Color=function(){if(this.__state=interpret.apply(this,arguments),!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return Color.COMPONENTS=["r","g","b","h","s","v","hex","a"],common.extend(Color.prototype,{toString:function(){return toString(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),defineRGBComponent(Color.prototype,"r",2),defineRGBComponent(Color.prototype,"g",1),defineRGBComponent(Color.prototype,"b",0),defineHSVComponent(Color.prototype,"h"),defineHSVComponent(Color.prototype,"s"),defineHSVComponent(Color.prototype,"v"),Object.defineProperty(Color.prototype,"a",{get:function(){return this.__state.a},set:function(v){this.__state.a=v}}),Object.defineProperty(Color.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=math.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(v){this.__state.space="HEX",this.__state.hex=v}}),Color}(dat.color.interpret=function(toString,common){var result,toReturn,interpret=function(){toReturn=!1;var original=arguments.length>1?common.toArray(arguments):arguments[0];return common.each(INTERPRETATIONS,function(family){if(family.litmus(original))return common.each(family.conversions,function(conversion,conversionName){if(result=conversion.read(original),!1===toReturn&&!1!==result)return toReturn=result,result.conversionName=conversionName,result.conversion=conversion,common.BREAK}),common.BREAK}),toReturn},INTERPRETATIONS=[{litmus:common.isString,conversions:{THREE_CHAR_HEX:{read:function(original){var test=original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==test&&{space:"HEX",hex:parseInt("0x"+test[1].toString()+test[1].toString()+test[2].toString()+test[2].toString()+test[3].toString()+test[3].toString())}},write:toString},SIX_CHAR_HEX:{read:function(original){var test=original.match(/^#([A-F0-9]{6})$/i);return null!==test&&{space:"HEX",hex:parseInt("0x"+test[1].toString())}},write:toString},CSS_RGB:{read:function(original){var test=original.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==test&&{space:"RGB",r:parseFloat(test[1]),g:parseFloat(test[2]),b:parseFloat(test[3])}},write:toString},CSS_RGBA:{read:function(original){var test=original.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null!==test&&{space:"RGB",r:parseFloat(test[1]),g:parseFloat(test[2]),b:parseFloat(test[3]),a:parseFloat(test[4])}},write:toString}}},{litmus:common.isNumber,conversions:{HEX:{read:function(original){return{space:"HEX",hex:original,conversionName:"HEX"}},write:function(color){return color.hex}}}},{litmus:common.isArray,conversions:{RGB_ARRAY:{read:function(original){return 3==original.length&&{space:"RGB",r:original[0],g:original[1],b:original[2]}},write:function(color){return[color.r,color.g,color.b]}},RGBA_ARRAY:{read:function(original){return 4==original.length&&{space:"RGB",r:original[0],g:original[1],b:original[2],a:original[3]}},write:function(color){return[color.r,color.g,color.b,color.a]}}}},{litmus:common.isObject,conversions:{RGBA_OBJ:{read:function(original){return!!(common.isNumber(original.r)&&common.isNumber(original.g)&&common.isNumber(original.b)&&common.isNumber(original.a))&&{space:"RGB",r:original.r,g:original.g,b:original.b,a:original.a}},write:function(color){return{r:color.r,g:color.g,b:color.b,a:color.a}}},RGB_OBJ:{read:function(original){return!!(common.isNumber(original.r)&&common.isNumber(original.g)&&common.isNumber(original.b))&&{space:"RGB",r:original.r,g:original.g,b:original.b}},write:function(color){return{r:color.r,g:color.g,b:color.b}}},HSVA_OBJ:{read:function(original){return!!(common.isNumber(original.h)&&common.isNumber(original.s)&&common.isNumber(original.v)&&common.isNumber(original.a))&&{space:"HSV",h:original.h,s:original.s,v:original.v,a:original.a}},write:function(color){return{h:color.h,s:color.s,v:color.v,a:color.a}}},HSV_OBJ:{read:function(original){return!!(common.isNumber(original.h)&&common.isNumber(original.s)&&common.isNumber(original.v))&&{space:"HSV",h:original.h,s:original.s,v:original.v}},write:function(color){return{h:color.h,s:color.s,v:color.v}}}}}];return interpret}(dat.color.toString,dat.utils.common),dat.color.math=function(){var tmpComponent;return{hsv_to_rgb:function(h,s,v){var hi=Math.floor(h/60)%6,f=h/60-Math.floor(h/60),p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),c=[[v,t,p],[q,v,p],[p,v,t],[p,q,v],[t,p,v],[v,p,q]][hi];return{r:255*c[0],g:255*c[1],b:255*c[2]}},rgb_to_hsv:function(r,g,b){var h,s,min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min;return 0==max?{h:NaN,s:0,v:0}:(s=delta/max,h=r==max?(g-b)/delta:g==max?2+(b-r)/delta:4+(r-g)/delta,h/=6,h<0&&(h+=1),{h:360*h,s:s,v:max/255})},rgb_to_hex:function(r,g,b){var hex=this.hex_with_component(0,2,r);return hex=this.hex_with_component(hex,1,g),hex=this.hex_with_component(hex,0,b)},component_from_hex:function(hex,componentIndex){return hex>>8*componentIndex&255},hex_with_component:function(hex,componentIndex,value){return value<<(tmpComponent=8*componentIndex)|hex&~(255<<tmpComponent)}}}(),dat.color.toString,dat.utils.common)},function(module,exports,__webpack_require__){!function(f,e){module.exports=e()}(0,function(){var f=function(){function e(a){return c.appendChild(a.dom),a}function u(a){for(var d=0;d<c.children.length;d++)c.children[d].style.display=d===a?"block":"none";l=a}var l=0,c=document.createElement("div");c.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",c.addEventListener("click",function(a){a.preventDefault(),u(++l%c.children.length)},!1);var k=(performance||Date).now(),g=k,a=0,r=e(new f.Panel("FPS","#0ff","#002")),h=e(new f.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var t=e(new f.Panel("MB","#f08","#201"));return u(0),{REVISION:16,dom:c,addPanel:e,showPanel:u,begin:function(){k=(performance||Date).now()},end:function(){a++;var c=(performance||Date).now();if(h.update(c-k,200),c>g+1e3&&(r.update(1e3*a/(c-g),100),g=c,a=0,t)){var d=performance.memory;t.update(d.usedJSHeapSize/1048576,d.jsHeapSizeLimit/1048576)}return c},update:function(){k=this.end()},domElement:c,setMode:u}};return f.Panel=function(e,f,l){var c=1/0,k=0,g=Math.round,a=g(window.devicePixelRatio||1),r=80*a,h=48*a,t=3*a,v=2*a,d=3*a,m=15*a,n=74*a,p=30*a,q=document.createElement("canvas");q.width=r,q.height=h,q.style.cssText="width:80px;height:48px";var b=q.getContext("2d");return b.font="bold "+9*a+"px Helvetica,Arial,sans-serif",b.textBaseline="top",b.fillStyle=l,b.fillRect(0,0,r,h),b.fillStyle=f,b.fillText(e,t,v),b.fillRect(d,m,n,p),b.fillStyle=l,b.globalAlpha=.9,b.fillRect(d,m,n,p),{dom:q,update:function(h,w){c=Math.min(c,h),k=Math.max(k,h),b.fillStyle=l,b.globalAlpha=1,b.fillRect(0,0,r,m),b.fillStyle=f,b.fillText(g(h)+" "+e+" ("+g(c)+"-"+g(k)+")",t,v),b.drawImage(q,d+a,m,n-a,p,d,m,n-a,p),b.fillRect(d+n-a,m,a,p),b.fillStyle=l,b.globalAlpha=.9,b.fillRect(d+n-a,m,a,g((1-h/w)*p))}}},f})}]);